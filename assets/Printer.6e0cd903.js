var pt=Object.defineProperty,_t=Object.defineProperties;var vt=Object.getOwnPropertyDescriptors;var $=Object.getOwnPropertySymbols;var mt=Object.prototype.hasOwnProperty,ft=Object.prototype.propertyIsEnumerable;var x=(t,e,n)=>e in t?pt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,r=(t,e)=>{for(var n in e||(e={}))mt.call(e,n)&&x(t,n,e[n]);if($)for(var n of $(e))ft.call(e,n)&&x(t,n,e[n]);return t},m=(t,e)=>_t(t,vt(e));import{A as ht}from"./View.fc025e78.js";import{n as l,B as S,_ as a,A as _,F as h,g as f,a as w,r as A,M as gt,t as I,p as bt,b as yt,D as T,c as O,d as $t,e as xt,f as St,h as wt,k as At}from"./index.49e5c250.js";import{I as C}from"./TextButton.cfa972f3.js";import{I as p,D as s,a as v,B as It}from"./TextField.4b3ba1bd.js";import{A as Tt,M as c,f as Ot}from"./Dialog.4fe6855c.js";import{A as k,B as D,I as Ct}from"./FileSelect.8ed72815.js";import{I as E}from"./CheckBox.32ddddac.js";var kt=function(){var t,e=this,n=e.$createElement,o=e._self._c||n;return o("base-generic-button",e._g({staticClass:"input-icon-button",class:(t={},t["color-"+e.color]=e.color,t)},e.$listeners),[o("i",[e._t("default",function(){return[e.svg?o(e.svg,{tag:"component"}):e._e()]})],2)])},Dt=[];const Et={components:{BaseGenericButton:S},inheritAttrs:!1,props:{color:{type:String,default:"secondary"},svg:{type:[Object,Function],required:!1,default:null}}},F={};var Ft=l(Et,kt,Dt,!1,jt,"50d3e914",null,null);function jt(t){for(let e in F)this[e]=F[e]}var j=function(){return Ft.exports}(),g={barcode:()=>a(()=>import("./Barcode.62ada15c.js"),["assets/Barcode.62ada15c.js","assets/index.49e5c250.js","assets/index.29fac79c.css","assets/vendor.b1428349.js","assets/devterm.eed8f68c.js","assets/buffer.89012e65.js","assets/FileSelect.8ed72815.js","assets/FileSelect.b43292a0.css","assets/TextField.4b3ba1bd.js","assets/TextField.11f65af1.css","assets/TextButton.cfa972f3.js","assets/TextButton.63200045.css","assets/CheckBox.32ddddac.js","assets/CheckBox.82b15c7e.css","assets/Dialog.4fe6855c.js","assets/Dialog.1893bfc8.css","assets/View.fc025e78.js"]),qrCode:()=>a(()=>Promise.resolve().then(function(){return en}),void 0),text:()=>a(()=>Promise.resolve().then(function(){return Pe}),void 0),nativeText:()=>a(()=>Promise.resolve().then(function(){return Ge}),void 0),image:()=>a(()=>Promise.resolve().then(function(){return Xe}),void 0),feedPitch:()=>a(()=>Promise.resolve().then(function(){return ln}),void 0),setAlign:()=>a(()=>Promise.resolve().then(function(){return Ut}),void 0),setFont:()=>a(()=>Promise.resolve().then(function(){return Jt}),void 0),setLineSpace:()=>a(()=>Promise.resolve().then(function(){return ce}),void 0),setWordGap:()=>a(()=>Promise.resolve().then(function(){return me}),void 0),setMargin:()=>a(()=>Promise.resolve().then(function(){return oe}),void 0),setDensity:()=>a(()=>Promise.resolve().then(function(){return $e}),void 0)},Mt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("app-dialog",t._g(t._b({ref:"dialog",staticClass:"action-dialog",attrs:{form:t.form,embed:""},scopedSlots:t._u([{key:"default",fn:function(){return[t._t("default")]},proxy:!0},{key:"buttons",fn:function(){return[n("input-text-button",{attrs:{type:t.form?"submit":"button",color:"primary",text:"Close"},on:{click:function(o){return t.$emit("close")}}})]},proxy:!0}],null,!0)},"app-dialog",t.$attrs,!1),t.$listeners))},Lt=[];const Pt={components:{InputTextButton:C,AppDialog:Tt},mixins:[c],inheritAttrs:!1,props:{form:{type:Boolean,default:!1}}},M={};var Rt=l(Pt,Mt,Lt,!1,Nt,"0be6849b",null,null);function Nt(t){for(let e in M)this[e]=M[e]}var u=function(){return Rt.exports}(),Vt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("action-dialog",t._g(t._b({staticClass:"action-dialog-set-align",attrs:{title:"Set Align",form:""},on:{submit:t.onSubmit},scopedSlots:t._u([{key:"default",fn:function(){return[n("input-dropdown",{attrs:{label:t.label,value:String(t.value),options:t.options},on:{input:function(o){t.$emit("input",Number(o))}}})]},proxy:!0}])},"action-dialog",t.$attrs,!1),Object.assign({},t.$listeners,{input:[]})))},Bt=[];const zt={components:{ActionDialog:u,InputDropdown:p},mixins:[c],inheritAttrs:!1,props:{value:{type:[Number,String],default:0}},data(){return{label:"Select align",options:[["Left",_.LEFT],["Center",_.CENTER],["Right",_.RIGHT]].map(([t,e])=>new s({title:t,value:String(e)}))}},methods:{onSubmit(t){t.preventDefault(),this.close()}}},L={};var Gt=l(zt,Vt,Bt,!1,Ht,"a6463072",null,null);function Ht(t){for(let e in L)this[e]=L[e]}var P=function(){return Gt.exports}(),Ut=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:P}),Wt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("action-dialog",t._g(t._b({staticClass:"action-dialog-set-font",attrs:{title:"Set Font",form:""},on:{submit:t.onSubmit},scopedSlots:t._u([{key:"default",fn:function(){return[n("input-dropdown",{attrs:{label:t.label,options:t.options,value:String(t.value)},on:{input:function(o){return t.$emit("input",o)}}})]},proxy:!0}])},"action-dialog",t.$attrs,!1),Object.assign({},t.$listeners,{input:[]})))},qt=[];const Qt={components:{ActionDialog:u,InputDropdown:p},mixins:[c],inheritAttrs:!1,props:{value:{type:[String,Number],default:0}},data(){return{label:"Select font",options:Object.keys(h).map(t=>new s({title:t,value:String(h[t])}))}},methods:{onSubmit(t){t.preventDefault(),this.close()}}},R={};var Xt=l(Qt,Wt,qt,!1,Yt,"4b289272",null,null);function Yt(t){for(let e in R)this[e]=R[e]}var N=function(){return Xt.exports}(),Jt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:N}),Zt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("action-dialog",t._g(t._b({staticClass:"action-set-margin",attrs:{title:"Set Margin",form:""},on:{submit:t.onSubmit},scopedSlots:t._u([{key:"default",fn:function(){return[n("input-text-field",{attrs:{step:"0.01",max:"1",min:"0",type:"number",value:t.value,label:t.label},on:{input:function(o){return t.$emit("input",o||0)}}})]},proxy:!0}])},"action-dialog",t.$attrs,!1),Object.assign({},t.$listeners,{input:[]})))},Kt=[];const te={components:{ActionDialog:u,InputTextField:v},mixins:[c],inheritAttrs:!1,props:{value:{type:[Number,String],default:0}},data(){return{label:"Set Margin"}},methods:{onSubmit(t){t.preventDefault(),this.close()}}},V={};var ee=l(te,Zt,Kt,!1,ne,"769021e6",null,null);function ne(t){for(let e in V)this[e]=V[e]}var B=function(){return ee.exports}(),oe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:B}),ie=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("action-dialog",t._g(t._b({staticClass:"action-set-line-space",attrs:{title:"Set Line Space",form:""},on:{submit:t.onSubmit},scopedSlots:t._u([{key:"default",fn:function(){return[n("input-text-field",{attrs:{step:"1",min:"0",type:"number",value:t.value,label:t.label},on:{input:function(o){return t.$emit("input",t.$even||0)}}})]},proxy:!0}])},"action-dialog",t.$attrs,!1),Object.assign({},t.$listeners,{input:[]})))},re=[];const se={components:{ActionDialog:u,InputTextField:v},mixins:[c],inheritAttrs:!1,props:{value:{type:[Number,String],default:0}},data(){return{label:"Set Line-space"}},methods:{onSubmit(t){t.preventDefault(),this.close()}}},z={};var ae=l(se,ie,re,!1,le,"e3e78b5c",null,null);function le(t){for(let e in z)this[e]=z[e]}var G=function(){return ae.exports}(),ce=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:G}),ue=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("action-dialog",t._g(t._b({staticClass:"action-set-word-gap",attrs:{title:"Set Word Gap",form:""},on:{submit:t.onSubmit},scopedSlots:t._u([{key:"default",fn:function(){return[n("input-text-field",{attrs:{step:"1",min:"0",type:"number",value:t.value,label:t.label},on:{input:function(o){return t.$emit("input",o||0)}}})]},proxy:!0}])},"action-dialog",t.$attrs,!1),Object.assign({},t.$listeners,{input:[]})))},de=[];const pe={components:{ActionDialog:u,InputTextField:v},mixins:[c],inheritAttrs:!1,props:{value:{type:[Number,String],default:0}},data(){return{label:"Set Word-Gap"}},methods:{onSubmit(t){t.preventDefault(),this.close()}}},H={};var _e=l(pe,ue,de,!1,ve,"33430204",null,null);function ve(t){for(let e in H)this[e]=H[e]}var U=function(){return _e.exports}(),me=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:U}),fe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("action-dialog",t._g(t._b({staticClass:"action-set-density",attrs:{title:"Set Density",form:""},on:{submit:t.onSubmit},scopedSlots:t._u([{key:"default",fn:function(){return[n("input-dropdown",{attrs:{label:t.label,options:t.options,value:t.value},on:{input:function(o){return t.$emit("input",o)}}})]},proxy:!0}])},"action-dialog",t.$attrs,!1),Object.assign({},t.$listeners,{input:[]})))},he=[];const ge={components:{ActionDialog:u,InputDropdown:p},mixins:[c],inheritAttrs:!1,props:{value:{type:[Number,String],default:0}},data(){return{label:"Set Density",options:Array(15).fill("").map((t,e)=>new s(String(e+1)))}},methods:{onSubmit(t){t.preventDefault(),this.close()}}},W={};var be=l(ge,fe,he,!1,ye,"35dd931d",null,null);function ye(t){for(let e in W)this[e]=W[e]}var q=function(){return be.exports}(),$e=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:q}),xe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("base-input-label",{staticClass:"input-text-box",attrs:{text:t.label,delimiter:t.$attrs.delimiter||void 0,"top-label":t.$attrs["top-label"],"baseline-label":t.$attrs["baseline-label"]}},[n("textarea",t._b({domProps:{value:t.value},on:{input:t.onInput}},"textarea",t.$attrs,!1))])},Se=[];const we={components:{BaseInputLabel:It},inheritAttrs:!1,props:{label:{type:String,default:"TextBox"},topLabel:{type:Boolean,default:!0},value:{type:String,default:""}},methods:{onInput(t){this.$emit("input",t.target.value)}}},Q={};var Ae=l(we,xe,Se,!1,Ie,"beec945e",null,null);function Ie(t){for(let e in Q)this[e]=Q[e]}var b=function(){return Ae.exports}(),Te=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"cols"},[n("div",[n("input-check-box",{attrs:{label:"Grarscale"},model:{value:t.model.grayscale,callback:function(o){t.$set(t.model,"grayscale",o)},expression:"model.grayscale"}})],1),n("div",[n("input-check-box",{attrs:{label:"Rotate"},model:{value:t.model.rotate,callback:function(o){t.$set(t.model,"rotate",o)},expression:"model.rotate"}})],1),n("div",[n("input-check-box",{attrs:{label:"Flip X"},model:{value:t.model.flipX,callback:function(o){t.$set(t.model,"flipX",o)},expression:"model.flipX"}})],1),n("div",[n("input-check-box",{attrs:{label:"Flip Y"},model:{value:t.model.flipY,callback:function(o){t.$set(t.model,"flipY",o)},expression:"model.flipY"}})],1),n("div",[n("input-check-box",{attrs:{label:"Invert"},model:{value:t.model.invert,callback:function(o){t.$set(t.model,"invert",o)},expression:"model.invert"}})],1)]),n("input-text-field",{attrs:{type:"number",min:"1",step:"1",label:"width",placeholder:"Size from Image (max. 384px)"},model:{value:t.model.width,callback:function(o){t.$set(t.model,"width",o)},expression:"model.width"}})],1)},Oe=[];const Ce={components:{InputCheckBox:E,InputTextField:v},props:{value:{type:Object,default(){return f()}}},data(){return{model:this.value}},watch:{model:{handler(t){this.$emit("input",t)},deep:!0}}},X={};var ke=l(Ce,Te,Oe,!1,De,null,null,null);function De(t){for(let e in X)this[e]=X[e]}var y=function(){return ke.exports}(),Ee=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("action-dialog",t._g(t._b({staticClass:"action-dialog-text",attrs:{title:"Text",form:""},on:{submit:t.onSubmit},scopedSlots:t._u([{key:"default",fn:function(){return[n("app-tab-container",{staticClass:"tab-container",scopedSlots:t._u([{key:"general",fn:function(o){return[n("base-tab-container-content",t._b({attrs:{title:"General"}},"base-tab-container-content",o,!1),[n("input-text-box",{staticClass:"input",attrs:{placeholder:"Enter Text",label:null,rows:"10"},model:{value:t.model.text,callback:function(i){t.$set(t.model,"text",i)},expression:"model.text"}}),n("div",{staticClass:"footer"},[n("span",[t._v("Rows: "),n("span",[t._v(t._s(t.model.text.split(`
`).length)+"; Count: "+t._s(t.model.text.length))])])])],1)]}},{key:"options",fn:function(o){return[n("base-tab-container-content",t._b({attrs:{title:"Options"}},"base-tab-container-content",o,!1),[n("input-drop-down",{attrs:{label:"Family",options:t.fontOptions},on:{input:t.onInputFontFamily},model:{value:t.model.options.fontFamily,callback:function(i){t.$set(t.model.options,"fontFamily",i)},expression:"model.options.fontFamily"}}),n("input-drop-down",{attrs:{label:"Variante",options:t.variantOptions},on:{input:t.onInputVariante},model:{value:t.variant,callback:function(i){t.variant=i},expression:"variant"}}),n("input-drop-down",{attrs:{label:"Align",options:t.alignOptions},on:{input:function(i){t.model.options.align=Number(i)}},model:{value:t.model.options.align,callback:function(i){t.$set(t.model.options,"align",i)},expression:"model.options.align"}}),n("input-text-field",{attrs:{step:"1",min:"0",type:"number",value:t.model.options.fontSize,label:"Font Size"},on:{input:function(i){t.model.options.fontSize=i||0}}}),n("input-text-field",{attrs:{step:"1",min:"0",type:"number",value:t.model.options.wordGap,label:"Word Gap"},on:{input:function(i){t.model.options.wordGap=i||0}}}),n("input-text-field",{attrs:{step:"1",min:"0",type:"number",value:t.model.options.lineSpace,label:"Line Space"},on:{input:function(i){t.model.options.lineSpace=i||0}}})],1)]}},{key:"imageOptions",fn:function(o){return[n("base-tab-container-content",t._b({attrs:{title:"Image Options"}},"base-tab-container-content",o,!1),[n("controls-image-options",{model:{value:t.model.imageOptions,callback:function(i){t.$set(t.model,"imageOptions",i)},expression:"model.imageOptions"}})],1)]}}])})]},proxy:!0}])},"action-dialog",t.$attrs,!1),Object.assign({},t.$listeners,{input:[]})))},Fe=[];const je={components:{ActionDialog:u,AppTabContainer:k,BaseTabContainerContent:D,InputTextBox:b,InputTextField:v,InputDropDown:p,ControlsImageOptions:y},mixins:[c],inheritAttrs:!1,props:{value:{type:Object,default(){return st()}}},data(){const t=this.$config.fonts;return{variant:null,fonts:t,updateTimeout:null,model:r({},this.value),alignOptions:[["Left",_.LEFT],["Center",_.CENTER],["Right",_.RIGHT]].map(([e,n])=>new s({title:e,value:String(n)})),fontOptions:[{title:"Select Font",value:""}].concat(this.$config.fonts.map(e=>new s(e.name)))}},computed:{currentFont(){return this.$config.fonts.find(t=>t.name===this.model.options.fontFamily)},variantOptions(){return this.currentFont?this.currentFont.variants.map(({weight:t,italic:e},n)=>new s({title:String(t),group:e?"Iatlic":"Normal",value:n})):[]}},watch:{variant(t){if(this.currentFont.variants[Number(t)]){const{weight:n,italic:o}=this.currentFont.variants[Number(t)];this.model.options=m(r({},this.model.options),{weight:n,italic:o})}},model:{handler(){window.clearTimeout(this.updateTimeout),this.updateTimeout=window.setTimeout(()=>{this.$emit("input",r({},this.model))},500)},deep:!0}},methods:{onInputFontFamily(){this.variant=0},onInputVariante(){},onInput(t){this.$emit("input",t)},onSubmit(t){t.preventDefault(),this.close()}}},Y={};var Me=l(je,Ee,Fe,!1,Le,"6c49b3b7",null,null);function Le(t){for(let e in Y)this[e]=Y[e]}var J=function(){return Me.exports}(),Pe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:J}),Re=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("action-dialog",t._g(t._b({staticClass:"action-dialog-native-text",attrs:{title:"Text",form:""},on:{submit:t.onSubmit},scopedSlots:t._u([{key:"default",fn:function(){return[n("input-text-box",{staticClass:"input",attrs:{placeholder:"Enter Text",label:null,value:t.value,rows:"10"},on:{input:t.onInput}}),n("div",{staticClass:"footer"},[n("span",[t._v("Rows: "),n("span",[t._v(t._s(t.value.split(`
`).length)+"; Count: "+t._s(t.value.length))])])])]},proxy:!0}])},"action-dialog",t.$attrs,!1),Object.assign({},t.$listeners,{input:[]})))},Ne=[];const Ve={components:{ActionDialog:u,InputTextBox:b},mixins:[c],inheritAttrs:!1,props:{value:{type:String,default:""}},methods:{onInput(t){this.$emit("input",t)},onSubmit(t){t.preventDefault(),this.close()}}},Z={};var Be=l(Ve,Re,Ne,!1,ze,"509b7a71",null,null);function ze(t){for(let e in Z)this[e]=Z[e]}var K=function(){return Be.exports}(),Ge=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:K}),He=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("action-dialog",t._g(t._b({staticClass:"action-dialog-image",attrs:{title:"Image",form:""},on:{submit:t.onSubmit},scopedSlots:t._u([{key:"default",fn:function(){return[t.previewDataUrl?n("div",{staticClass:"preview"},[n("img",{attrs:{src:t.previewDataUrl}})]):t._e(),n("input-file-select",{attrs:{label:"File"},on:{input:t.onInputFileSelect}}),n("hr"),n("controls-image-options",{model:{value:t.model.imageOptions,callback:function(o){t.$set(t.model,"imageOptions",o)},expression:"model.imageOptions"}})]},proxy:!0}])},"action-dialog",t.$attrs,!1),Object.assign({},t.$listeners,{input:[]})))},Ue=[];const We={components:{ActionDialog:u,InputFileSelect:Ct,ControlsImageOptions:y},mixins:[c],inheritAttrs:!1,props:{colors:{type:Object,default(){return{primary:[255,0,0],secondary:[0,255,0]}}},value:{type:Object,default(){return at()}}},data(){return{updateTimeout:null,previewDataUrl:null,model:r({},this.value)}},watch:{model:{handler(){window.clearTimeout(this.updateTimeout),this.updateTimeout=window.setTimeout(()=>{this.render(),this.$emit("input",r({},this.model))},500)},deep:!0},colors(){this.render()}},mounted(){this.render()},methods:{onInput(t){this.$emit("input",t)},async onInputFileSelect(t){if(t){const e=await new Promise(n=>{const o=new FileReader;o.onload=i=>n(i.target.result),o.readAsDataURL(t)});this.updateCanvas(e)}else this.previewDataUrl=null},async updateCanvas(t){let e=await w(t);e=A(e,gt),this.model=m(r({},this.model),{file:I(e)}),this.render()},async render(){let t=await w(this.model.file);t=bt(t,this.model.imageOptions),t=yt(t,{background:this.colors.printer.preview.background,foreground:this.colors.printer.preview.foreground}),t=A(t,null,100),this.previewDataUrl=I(t)},async loadFromUrl(){try{await this.updateCanvas(this.url)}catch(t){console.error(t)}},onSubmit(t){t.preventDefault(),this.close()}}},tt={};var qe=l(We,He,Ue,!1,Qe,"25d4a499",null,null);function Qe(t){for(let e in tt)this[e]=tt[e]}var et=function(){return qe.exports}(),Xe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:et}),Ye=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("action-dialog",t._g(t._b({staticClass:"action-dialog-qr-code",attrs:{title:"QR Code",form:""},on:{submit:t.onSubmit},scopedSlots:t._u([{key:"default",fn:function(){return[n("app-tab-container",{staticClass:"tab-container",scopedSlots:t._u([{key:"general",fn:function(o){return[n("base-tab-container-content",t._b({attrs:{title:"General"}},"base-tab-container-content",o,!1),[n("input-text-box",{attrs:{label:"Text","baseline-label":""},model:{value:t.model.text,callback:function(i){t.$set(t.model,"text",i)},expression:"model.text"}}),n("hr"),n("input-drop-down",{attrs:{options:t.errorCorrectionLevelOptions,label:"Correc. Lev."},model:{value:t.model.options.errorCorrectionLevel,callback:function(i){t.$set(t.model.options,"errorCorrectionLevel",i)},expression:"model.options.errorCorrectionLevel"}}),n("div",{staticClass:"cols"},[n("div",[n("input-text-field",{attrs:{value:t.model.options.margin,type:"number",label:"Margin",step:"1",min:"0"},on:{input:function(i){t.model.options.margin=i||0}}})],1),n("div",[n("input-text-field",{attrs:{value:t.model.options.scale,type:"number",label:"Scale",step:"1",min:"0"},on:{input:function(i){t.model.options.scale=i||0}}})],1)]),n("div",{staticClass:"cols"},[n("div",[n("input-check-box",{attrs:{label:"Small"},model:{value:t.model.options.small,callback:function(i){t.$set(t.model.options,"small",i)},expression:"model.options.small"}})],1)])],1)]}},{key:"imageOptions",fn:function(o){return[n("base-tab-container-content",t._b({attrs:{title:"Image Options"}},"base-tab-container-content",o,!1),[n("controls-image-options",{model:{value:t.model.imageOptions,callback:function(i){t.$set(t.model,"imageOptions",i)},expression:"model.imageOptions"}})],1)]}}])})]},proxy:!0}])},"action-dialog",t.$attrs,!1),Object.assign({},t.$listeners,{input:[]})))},Je=[];const Ze={components:{ActionDialog:u,AppTabContainer:k,BaseTabContainerContent:D,InputCheckBox:E,InputDropDown:p,InputTextField:v,InputTextBox:b,ControlsImageOptions:y},mixins:[c],inheritAttrs:!1,props:{colors:{type:Object,default(){return{primary:[255,0,0],secondary:[0,255,0]}}},value:{type:Object,default(){return lt()}}},data(){return{type:"text",model:r({},this.value),errorCorrectionLevelOptions:[["Low","L"],["Medium","M"],["Quartile","Q"],["High","H"]].map(([t,e])=>new s({title:t,value:e})),typeOptions:[["Text","text"],["Url","url"]].map(([t,e])=>new s({title:t,value:e}))}},watch:{model:{handler(){window.clearTimeout(this.updateTimeout),this.updateTimeout=window.setTimeout(()=>{this.$emit("input",r({},this.model))},500)},deep:!0}},methods:{onSubmit(t){t.preventDefault(),this.close()}}},nt={};var Ke=l(Ze,Ye,Je,!1,tn,"4355c908",null,null);function tn(t){for(let e in nt)this[e]=nt[e]}var ot=function(){return Ke.exports}(),en=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ot}),nn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("action-dialog",t._g(t._b({staticClass:"action-dialog-feed-pitch",attrs:{title:"Feed Pitch",form:""},on:{submit:t.onSubmit},scopedSlots:t._u([{key:"default",fn:function(){return[n("input-dropdown",{attrs:{label:"By",options:t.options},model:{value:t.model.type,callback:function(o){t.$set(t.model,"type",o)},expression:"model.type"}}),n("input-text-field",{attrs:{value:t.model.value,step:"1",max:"100",min:"0",type:"number",label:"Value"},on:{input:function(o){t.model.value=o||0}}})]},proxy:!0}])},"action-dialog",t.$attrs,!1),Object.assign({},t.$listeners,{input:[]})))},on=[];const rn={components:{ActionDialog:u,InputDropdown:p,InputTextField:v},mixins:[c],inheritAttrs:!1,props:{value:{type:Object,default(){return{type:"font",value:0}}}},data(){return{label:"Select align",options:[["Pixel","pixel"],["Font-Size","font"]].map(([t,e])=>new s({title:t,value:e})),model:r({},this.value)}},watch:{model:{handler(){this.$emit("input",this.model)},deep:!0}},methods:{onSubmit(t){t.preventDefault(),this.close()}}},it={};var sn=l(rn,nn,on,!1,an,"3b4b732e",null,null);function an(t){for(let e in it)this[e]=it[e]}var rt=function(){return sn.exports}(),ln=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:rt});const cn=()=>[new s({title:"Add new Action\u2026",value:""}),new s({title:"Set Margin",value:"setMargin"}),new s({title:"Set Font",value:"setFont"}),new s({title:"Set Align",value:"setAlign"}),new s({title:"Set Density",value:"setDensity"}),new s({title:"Set LineSpace",value:"setLineSpace"}),new s({title:"Set WordGap",value:"setWordGap"}),new s({title:"Feed Pitch",value:"feedPitch"}),new s({title:"Reset",value:"reset"}),new s({title:"Image",value:"image"}),new s({title:"QRCode",value:"qrCode"}),new s({title:"Barcode",value:"barcode"}),new s({title:"Text",value:"text"}),new s({title:"NativeText",value:"nativeText"}),new s({title:"Cutline",value:"cutLine"})];console.log("DEFAULT_DENSITY",T);const un=t=>({setMargin:B,setAlign:P,setFont:N,setDensity:q,text:J,nativeText:K,image:et,qrCode:ot,setLineSpace:G,setWordGap:U,feedPitch:rt})[t],dn=t=>{let e;switch(t){case"setLineSpace":e=0;break;case"setWordGap":e=0;break;case"setMargin":e=0;break;case"setDensity":e=1;break;case"setFont":e=h.SIZE_8_16_THIN_1;break;case"setAlign":e=_.LEFT;break;case"feedPitch":e={value:1,type:"font"};break;case"text":e=st();break;case"nativeText":e="Text";break;case"image":e=at();break;case"qrCode":e=lt();break;case"barcode":e=mn();break}return new xt({type:t,value:e})},pn=t=>{const e=O();return t.filter(n=>n.visible).map(n=>vn(n,e)).filter(Boolean)},_n=t=>Array($t[t]).fill("").map((e,n)=>n%2==0?"=":"-").join(""),vn=(t,e)=>{switch(t.type){case"setMargin":e.margin=t.value;break;case"setAlign":e.align=t.value;break;case"setLineSpace":e.lineSpace=t.value;break;case"setWordGap":e.wordGap=t.value;break;case"setFont":e.font=Number(t.value);break;case"setDensity":e.density=Number(t.value);break;case"reset":Object.assign(e,O());break;case"cutLine":return{id:t.id,component:()=>a(()=>import("./NativeTextCanvas.da360b95.js"),["assets/NativeTextCanvas.da360b95.js","assets/NativeTextCanvas.847e9814.css","assets/index.49e5c250.js","assets/index.29fac79c.css","assets/vendor.b1428349.js","assets/devterm.eed8f68c.js","assets/buffer.89012e65.js"]),options:m(r({},e),{margin:0,wordGap:0,lineSpace:0,density:T}),props:{value:_n(e.font)}};case"barcode":return{id:t.id,component:()=>a(()=>import("./BarcodeCanvas.5ac00e6c.js"),["assets/BarcodeCanvas.5ac00e6c.js","assets/BarcodeCanvas.5bfabbac.css","assets/index.49e5c250.js","assets/index.29fac79c.css","assets/vendor.b1428349.js","assets/devterm.eed8f68c.js","assets/buffer.89012e65.js","assets/NativeTextCanvas.da360b95.js","assets/NativeTextCanvas.847e9814.css","assets/View.fc025e78.js","assets/TextButton.cfa972f3.js","assets/TextButton.63200045.css","assets/TextField.4b3ba1bd.js","assets/TextField.11f65af1.css","assets/Dialog.4fe6855c.js","assets/Dialog.1893bfc8.css","assets/FileSelect.8ed72815.js","assets/FileSelect.b43292a0.css","assets/CheckBox.32ddddac.js","assets/CheckBox.82b15c7e.css"]),options:r({},e),props:r({},t)};case"qrCode":return{id:t.id,component:()=>a(()=>import("./QrCodeCanvas.44d134ca.js"),["assets/QrCodeCanvas.44d134ca.js","assets/QrCodeCanvas.2cec7b7e.css","assets/index.49e5c250.js","assets/index.29fac79c.css","assets/vendor.b1428349.js","assets/devterm.eed8f68c.js","assets/buffer.89012e65.js","assets/NativeTextCanvas.da360b95.js","assets/NativeTextCanvas.847e9814.css","assets/View.fc025e78.js","assets/TextButton.cfa972f3.js","assets/TextButton.63200045.css","assets/TextField.4b3ba1bd.js","assets/TextField.11f65af1.css","assets/Dialog.4fe6855c.js","assets/Dialog.1893bfc8.css","assets/FileSelect.8ed72815.js","assets/FileSelect.b43292a0.css","assets/CheckBox.32ddddac.js","assets/CheckBox.82b15c7e.css"]),options:r({},e),props:r({},t)};case"image":return{id:t.id,component:()=>a(()=>import("./ImageCanvas.bdf0dc57.js"),["assets/ImageCanvas.bdf0dc57.js","assets/ImageCanvas.2aabdf83.css","assets/index.49e5c250.js","assets/index.29fac79c.css","assets/vendor.b1428349.js","assets/devterm.eed8f68c.js","assets/buffer.89012e65.js","assets/NativeTextCanvas.da360b95.js","assets/NativeTextCanvas.847e9814.css"]),options:r({},e),props:r({},t)};case"text":return{id:t.id,component:()=>a(()=>import("./TextCanvas.aed29147.js"),["assets/TextCanvas.aed29147.js","assets/TextCanvas.0dc96fe6.css","assets/index.49e5c250.js","assets/index.29fac79c.css","assets/vendor.b1428349.js","assets/devterm.eed8f68c.js","assets/buffer.89012e65.js","assets/View.fc025e78.js","assets/TextButton.cfa972f3.js","assets/TextButton.63200045.css","assets/TextField.4b3ba1bd.js","assets/TextField.11f65af1.css","assets/Dialog.4fe6855c.js","assets/Dialog.1893bfc8.css","assets/FileSelect.8ed72815.js","assets/FileSelect.b43292a0.css","assets/CheckBox.32ddddac.js","assets/CheckBox.82b15c7e.css"]),options:r({},e),props:r({},t)};case"nativeText":return{id:t.id,component:()=>a(()=>import("./NativeTextCanvas.da360b95.js"),["assets/NativeTextCanvas.da360b95.js","assets/NativeTextCanvas.847e9814.css","assets/index.49e5c250.js","assets/index.29fac79c.css","assets/vendor.b1428349.js","assets/devterm.eed8f68c.js","assets/buffer.89012e65.js"]),options:r({},e),props:r({},t)};case"feedPitch":return{id:t.id,component:()=>a(()=>import("./FeedPitch.a07ccd1e.js"),["assets/FeedPitch.a07ccd1e.js","assets/FeedPitch.3c536760.css","assets/index.49e5c250.js","assets/index.29fac79c.css","assets/vendor.b1428349.js","assets/devterm.eed8f68c.js","assets/buffer.89012e65.js"]),options:r({},e),props:r({},t.value)}}return null},st=()=>({text:"Sample",options:{fontSize:16,align:"left",lineSpace:0,wordGap:0,margin:0,fontFamily:null,color:"#000",weight:400,italic:!1},imageOptions:f()}),at=()=>({file:null,imageOptions:f()}),lt=()=>({text:"Sample",options:{errorCorrectionLevel:"M",margin:0,scale:4,small:!1},imageOptions:f()}),mn=()=>({text:"Sample",options:{format:"",height:100,font:"monospace",textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,margin:10,displayValue:!0,flat:!1},imageOptions:f()});var fn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M22 16v-2h-2v-2h-2v-2h-2V8h-2V6h-4v2H8v2H6v2H4v2H2v2H0v2h24v-2z"}})])},hn={render:fn},gn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M22 8v2h-2v2h-2v2h-2v2h-2v2h-4v-2H8v-2H6v-2H4v-2H2V8H0V6h24v2z"}})])},bn={render:gn},yn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M2.1 4.9L9.2 12l-7.1 7.1 2.8 2.8 7.1-7.1 7.1 7.1 2.8-2.8-7.1-7.1 7.1-7.1-2.8-2.8L12 9.2 4.9 2.1z"}})])},$n={render:yn},xn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M12 6c5.4 0 10 2.7 10 6s-4.6 6-10 6-10-2.7-10-6 4.6-6 10-6m0-2C5.4 4 0 7.6 0 12s5.4 8 12 8 12-3.6 12-8-5.4-8-12-8z"}}),n("circle",{attrs:{cx:"12",cy:"12",r:"4"}})])},Sn={render:xn},wn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M2 23c-.3 0-.5-.1-.7-.3-.4-.4-.4-1 0-1.4l20-20c.4-.4 1-.4 1.4 0s.4 1 0 1.4l-20 20c-.2.2-.4.3-.7.3zM13 8.1c-.3 0-.6-.1-1-.1-2.2 0-4 1.8-4 4 0 .4.1.7.1 1L13 8.1zM11 15.9c.3.1.7.1 1 .1 2.2 0 4-1.8 4-4 0-.4-.1-.7-.1-1L11 15.9z"}}),n("g",[n("path",{attrs:{d:"M3.5 17.7L5 16.2c-1.8-1.1-3-2.6-3-4.2 0-3.3 4.6-6 10-6 1 0 2 .1 2.9.3l1.7-1.7c-1.4-.4-3-.6-4.6-.6C5.4 4 0 7.6 0 12c0 2.2 1.3 4.2 3.5 5.7zM20.5 6.3L19 7.8c1.8 1.1 3 2.6 3 4.2 0 3.3-4.6 6-10 6-1 0-2-.1-2.9-.3l-1.7 1.7c1.4.4 3 .6 4.6.6 6.6 0 12-3.6 12-8 0-2.2-1.3-4.2-3.5-5.7z"}})])])},An={render:wn},In=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._g({staticClass:"controls-action-item",class:{focus:t.focus||t.selected,property:t.property,"can-select":t.canSelect},attrs:{focusable:""}},t.$listeners),[n("base-generic-button",{staticClass:"title",on:{click:t.onClick}},[n("span",[t._v(t._s(t.display.title)+t._s(t.display.value?":":""))]),t._v(" "),t.display.value?n("span",[t._v(t._s(t.display.value))]):t._e()]),t.$slots.default?n("div",[t._t("default")],2):t._e()],1)},Tn=[];const On={components:{BaseGenericButton:S},props:{itemStates:{type:Object,default(){return{id:!1}}},canSelect:{type:Boolean,default:!1},id:{type:String,default:"id"},focus:{type:Boolean,default:!1},property:{type:Boolean,default:!1},display:{type:Object,default(){return{title:"Action Item",value:"Action Item Value"}}}},computed:{selected(){return this.itemStates[this.id]}},methods:{onClick(){this.canSelect&&this.$emit("select",this.id)}}},ct={};var Cn=l(On,In,Tn,!1,kn,"1cba436a",null,null);function kn(t){for(let e in ct)this[e]=ct[e]}var Dn=function(){return Cn.exports}(),En=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"actions",class:{"action-active":t.selectedAction,drag:t.isDrag}},[n("div",{ref:"list",staticClass:"list"},[n("div",{on:{dragover:t.allowDrop,drop:t.onDrop}},[n("transition-group",{attrs:{name:t.isDrag?null:"flip-list",tag:"ul"}},t._l(t.model,function(o,i){return n("li",{key:o.id,attrs:{id:"anchor-action-item-"+o.id}},[t.ACTION_DEFINITIONS[o.type]?n("action-item",{attrs:{id:o.id,property:t.ACTION_DEFINITIONS[o.type].property,display:t.ACTION_DEFINITIONS[o.type].display(o.value),"can-select":!!t.ACTION_DIALOGS[o.type],"item-states":t.itemStates,"data-id":o.id,draggable:!t.itemStates[o.id],focus:t.dragTargetId===o.id&&o.id!==t.dragId},on:{select:function(d){return t.onSelectAction(o.id)},dragstart:t.onDragStart},scopedSlots:t._u([{key:"default",fn:function(){return[n("div",{staticClass:"action-controls"},[n("span",{staticClass:"index"},[t._v(t._s(i+1))]),n("input-icon-button",{on:{click:function(d){return t.onClickActionVisible(i)}}},[o.visible?n("svg-icon-visible"):n("svg-icon-invisible")],1),n("input-icon-button",{on:{click:function(d){return t.onClickActionUp(i)}}},[n("svg-icon-arrow-up")],1),n("input-icon-button",{on:{click:function(d){return t.onClickActionDown(i)}}},[n("svg-icon-arrow-down")],1),n("input-icon-button",{on:{click:function(d){return t.onClickActionDelete(i)}}},[n("svg-icon-trash")],1)],1)]},proxy:!0}],null,!0)}):n("span",[t._v(" Action "+t._s(o.type)+" not defined\u2026 ")])],1)}),0)],1)]),n("div",{staticClass:"add-action"},[n("input-drop-down",{attrs:{options:t.actionTypeOptions,label:null},model:{value:t.createAction,callback:function(o){t.createAction=o},expression:"createAction"}})],1),t.selectedAction?n(t.dialogComponent,{ref:"dialog",tag:"component",attrs:{colors:t.colors,value:t.selectedAction.value},on:{input:function(o){return t.updateAction(t.selectedAction,o)},ready:t.onReadyDialog,close:t.onCloseDialog}}):t._e()],1)},Fn=[];const jn={components:{SvgIconArrowUp:hn,SvgIconArrowDown:bn,SvgIconTrash:$n,SvgIconVisible:Sn,SvgIconInvisible:An,InputIconButton:j,InputDropDown:p,ActionItem:Dn},props:{value:{type:Array,default(){return[]}},colors:{type:Object,default(){return{}}}},data(){return{ACTION_DEFINITIONS:St,ACTION_DIALOGS:g,getComponentByType:un,selectedActionId:null,createAction:null,actionTypeOptions:cn(),itemStates:{},isDrag:!1,dragId:null,dragTargetId:null,model:[...this.value]}},computed:{selectedAction(){return this.model.find(t=>t.id===this.selectedActionId)},dialogComponent(){return this.selectedAction&&g[this.selectedAction.type]}},watch:{value(t){this.model=[...t]},model:{handler(t){this.itemStates=Object.fromEntries(t.map(({id:e})=>[e,!1]))},immediate:!0},selectedAction(t,e){const n=r({},this.itemStates);e&&(n[e.id]=!1),t&&(n[t.id]=!0),this.itemStates=n,this.$emit("selectAction",t)},createAction(t){if(t){const e=dn(t);this.updateModel([].concat(this.model,e)),this.$nextTick(()=>{this.createAction="",this.selectedActionId=null;const n=this.$refs.list.querySelector(`#anchor-action-item-${e.id}`);n&&n.scrollIntoView({block:"center"}),!!g[e.type]&&window.setTimeout(()=>{this.selectedActionId=e.id},600)})}}},mounted(){this.subscriptions=[wt(window,"dragenter").subscribe(t=>{if(t.target.closest("li [data-id]")){const e=t.target.closest("li [data-id]");this.dragTargetId=e.dataset.id}})]},destroyed(){this.subscriptions.forEach(t=>t.unsubscribe())},methods:{onReadyDialog(){this.$nextTick(()=>{this.$refs.dialog.show()})},onCloseDialog(){this.selectedActionId=null},onSelectAction(t){t?this.selectedActionId=t:this.selectedActionId=null},updateModel(t){this.model=[...t],this.$emit("input",[...t])},updateAction(t,e){const n=this.model,o=n.indexOf(t);n[o]=m(r({},n[o]),{value:e}),this.updateModel(n)},onClickActionDelete(t){const e=[].concat(this.model);this.updateModel([...e.slice(0,t||0),...e.slice(t+1)])},onClickActionUp(t){const e=[].concat(this.model),n=e[Math.max(t-1,0)];e[Math.max(t-1,0)]=e[t],e[t]=n,this.updateModel(e)},onClickActionDown(t){const e=[].concat(this.model),n=this.model[Math.min(t+1,e.length-1)];e[Math.min(t+1,e.length-1)]=e[t],e[t]=n,this.updateModel(e)},onClickActionVisible(t){const e=this.model[t],n=this.model;n[t]=m(r({},n[t]),{visible:!e.visible}),this.updateModel(n)},onDragStart(t){window.setTimeout(()=>{this.dragId=t.target.dataset.id,this.isDrag=!0},100)},onDrop(t){let e=[].concat(this.model);const n=e.indexOf(e.find(d=>d.id===this.dragTargetId)),o=e.indexOf(e.find(d=>d.id===this.dragId)),i=e.splice(o,1);o>n?e=[...e.slice(0,n+1),...i,...e.slice(n+1)]:e=[...e.slice(0,n),...i,...e.slice(n)],this.dragId=null,this.dragTargetId=null,this.isDrag=!1,this.updateModel(e)},allowDrop(t){t.preventDefault()}}},ut={};var Mn=l(jn,En,Fn,!1,Ln,"f2e6178e",null,null);function Ln(t){for(let e in ut)this[e]=ut[e]}var Pn=function(){return Mn.exports}(),Rn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("app-view",{staticClass:"view-printer",style:t.style},[n("div",{key:JSON.stringify(t.colors),staticClass:"printer-preview"},[n("div",[n("div",{class:{"has-selected":t.selectedAction}},t._l(t.previewItems,function(o,i){return n("div",{key:i,class:{selected:t.selectedAction&&t.selectedAction.id===o.id},attrs:{id:"anchor-action-"+o.id}},[n(o.component,t._b({key:JSON.stringify(o.id),tag:"component",attrs:{options:o.options,colors:t.colors}},"component",o.props,!1))],1)}),0)]),n("input-text-button",{staticClass:"print-button",attrs:{color:"primary"},on:{click:t.onClickPrint}},[t._v(" Print ")]),n("transition",{attrs:{name:"fade"}},[t.loading?n("div",{staticClass:"layer-loading"},[t._v(" Loading ")]):t._e()])],1),n("actions",{staticClass:"printer-actions",attrs:{colors:t.colors},on:{selectAction:function(o){t.selectedAction=o}},model:{value:t.actions,callback:function(o){t.actions=o},expression:"actions"}}),t.actions.length<1?n("div",{staticClass:"actions-empty"},[t._v(" Add a Action! ")]):t._e()],1)},Nn=[];const Vn={components:{AppView:ht,InputIconButton:j,InputTextButton:C,InputDropDown:p,Actions:Pn},props:{colors:{type:Object,default(){return{primary:[255,204,0],secondary:[0,0,0],printer:{preview:{background:[0,0,0],foreground:[255,204,0]}}}}},value:{type:Array,default(){return[]}}},data(){return{actions:[].concat(this.value),previewItems:[],loading:!0,selectedAction:null}},computed:{style(){return{"--color-printer-preview-background":`rgb(${this.colors.printer.preview.background.join(",")})`,"--color-printer-preview-foreground":`rgb(${this.colors.printer.preview.foreground.join(",")})`}}},watch:{value(t){this.actions=t},actions(){this.render(),this.$emit("input",this.actions)},selectedAction(t){if(t){const e=document.querySelector(`#anchor-action-${t.id}`);this.$nextTick(()=>{window.requestAnimationFrame(()=>{e&&e.scrollIntoView({block:"center",behavior:"smooth"})})})}}},mounted(){this.render(),this.subscriptions=[At.pipe(Ot(({key:t})=>t==="PrintScreen")).subscribe(()=>this.print())]},destroyed(){this.subscriptions.forEach(t=>t.unsubscribe())},methods:{render(){this.actions.length?(this.loading=!0,window.clearTimeout(this.renderTimeout),this.renderTimeout=window.setTimeout(async()=>{this.previewItems=await pn(this.actions),console.log(this.actions,this.previewItems,this.previewItems.find(t=>!t)),this.$nextTick(()=>{this.loading=!1})},500)):this.previewItems=[]},print(){return this.$client.executeActions(this.actions)},onClickPrint(){this.print()}}},dt={};var Bn=l(Vn,Rn,Nn,!1,zn,"5e4dc4c0",null,null);function zn(t){for(let e in dt)this[e]=dt[e]}var Gn=function(){return Bn.exports}(),Zn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Gn});export{u as A,y as C,b as I,Zn as P,lt as a,st as b,mn as g};
