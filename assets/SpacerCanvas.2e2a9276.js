import{d as c,n as d,r as u,q as h,M as l,m as n}from"./index.bab9ee53.js";import"./vendor.b1428349.js";import"./devterm.9c60640a.js";import"./buffer.89012e65.js";var p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("canvas")},v=[];const m={props:{colors:{type:Object,default(){return{printer:{preview:{foreground:[255,0,0]}}}}},value:{type:Object,default(){return u()}},width:{type:Number,default:384},options:{type:Object,default(){return{}}}},data(){return{ctx:null}},watch:{value(){this.render()}},mounted(){this.$el.width=this.width,this.ctx=this.$el.getContext("2d"),this.render()},methods:{render(){window.cancelAnimationFrame(this.animationFrame),this.animationFrame=window.requestAnimationFrame(async()=>{const e=this.ctx,{value:t}=this.value;let r=await _(t);r=h(r,{background:this.colors.printer.preview.background,foreground:this.colors.printer.preview.foreground},.6+.4*(this.options.density/l)),e.canvas.width=this.width,e.canvas.height=t;const s=this.width,o=parseInt(this.options.margin*s);let a=0;switch(this.options.align){case n.RIGHT:a+=this.width-r.width;break;case n.CENTER:a+=(this.width-r.width)/2;break;default:a+=o;break}e.drawImage(r,a,0),this.$emit("ready")})}}},_=async e=>(await c.spacer.beforePrinterCommand({value:e},!1)).value,i={};var w=d(m,p,v,!1,f,"9298c704",null,null);function f(e){for(let t in i)this[t]=i[t]}var j=function(){return w.exports}();export{j as default,_ as render};
