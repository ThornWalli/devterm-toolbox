var p=Object.defineProperty,c=Object.defineProperties;var u=Object.getOwnPropertyDescriptors;var o=Object.getOwnPropertySymbols;var l=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;var s=(e,t,r)=>t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,n=(e,t)=>{for(var r in t||(t={}))l.call(t,r)&&s(e,r,t[r]);if(o)for(var r of o(t))h.call(t,r)&&s(e,r,t[r]);return e},a=(e,t)=>c(e,u(t));import{n as m,A as i,q as v,u as f,p as _,b as g,v as w}from"./index.49e5c250.js";import{b as x}from"./Printer.6e0cd903.js";import"./vendor.b1428349.js";import"./devterm.eed8f68c.js";import"./buffer.89012e65.js";import"./View.fc025e78.js";import"./TextButton.cfa972f3.js";import"./TextField.4b3ba1bd.js";import"./Dialog.4fe6855c.js";import"./FileSelect.8ed72815.js";import"./CheckBox.32ddddac.js";var b=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("canvas")},j=[];const T={props:{colors:{type:Object,default(){return{printer:{preview:{foreground:[255,0,0]}}}}},value:{type:Object,default(){return x()}},width:{type:Number,default:384},options:{type:Object,default(){return{}}}},data(){return{ctx:null}},computed:{align(){return{[i.LEFT]:"left",[i.CENTER]:"center",[i.RIGHT]:"right"}[this.options.align]},font(){return v[Number(this.options.font)]}},watch:{value(){this.render()}},mounted(){this.$el.width=this.width,this.ctx=this.$el.getContext("2d"),this.render()},methods:{getColor(e=1){return`rgb(${this.colors.printer.preview.foreground.join(" ")} / ${e*100}%)`},render(){window.cancelAnimationFrame(this.animationFrame),this.animationFrame=window.requestAnimationFrame(()=>{const e=this.ctx,t=f(this.value.text,a(n({},this.value.options),{margin:this.options.margin}),this.width,{background:this.colors.printer.preview.background,foreground:this.colors.printer.preview.foreground});let r=_(t,n({},this.value.imageOptions));r=g(r,{background:this.colors.printer.preview.background,foreground:this.colors.printer.preview.foreground},.6+.4*(this.options.density/w)),e.canvas.width=r.width,e.canvas.height=r.height,e.drawImage(r,0,0)})}}},d={};var C=m(T,b,j,!1,F,"6e1a3582",null,null);function F(e){for(let t in d)this[t]=d[t]}var S=function(){return C.exports}();export{S as default};
