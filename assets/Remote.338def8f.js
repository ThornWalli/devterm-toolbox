import{n as c,D as p,h as u,i as f,j as d}from"./index.bab9ee53.js";import{A as m,M as h}from"./Dialog.ec3343da.js";import{B as b,I as _}from"./DropDown.a9412aaf.js";import{I as x}from"./CheckBox.dc1b9740.js";import{I as v}from"./TextButton.7f1048d8.js";import{I as D}from"./TextField.0ac45ea9.js";import"./vendor.b1428349.js";import"./devterm.9c60640a.js";import"./buffer.89012e65.js";var y=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("app-dialog",e._g(e._b({ref:"dialog",staticClass:"dialog-remote",class:{connected:e.connected},attrs:{title:"Remote",form:""},on:{submit:e.onSubmit},scopedSlots:e._u([{key:"default",fn:function(){return[t("div",{staticClass:"profile-select"},[t("input-drop-down",{attrs:{"baseline-label":"",label:"Profile",options:e.profileOptions},model:{value:e.selectedProfile,callback:function(o){e.selectedProfile=o},expression:"selectedProfile"}}),t("input-text-button",{attrs:{color:"primary",disabled:!e.selectedProfile,text:"Delete"},on:{click:e.onClickDeleteProfile}})],1),t("input-text-field",{attrs:{label:"Profile Name"},model:{value:e.profileName,callback:function(o){e.profileName=o},expression:"profileName"}}),t("hr"),t("base-input-label",{attrs:{text:"Connection"}},[t("span",[e._v(e._s(e.connected?"Connected with "+e.$client.host+":"+e.$client.port:"Disconnected"))])]),t("input-check-box",{attrs:{label:"SSL"},model:{value:e.secure,callback:function(o){e.secure=o},expression:"secure"}}),t("input-text-field",{attrs:{label:"Host",placeholder:"Enter host\u2026"},model:{value:e.host,callback:function(o){e.host=o},expression:"host"}}),t("input-text-field",{attrs:{type:"Number",label:"Port",min:"1024",step:"1",value:e.port},on:{input:function(o){e.port=parseInt(o)}}})]},proxy:!0},{key:"buttons",fn:function(){return[e.connected?t("input-text-button",{attrs:{color:"primary",text:"Disconnect"},on:{click:e.onClickDisconnect}}):t("input-text-button",{attrs:{color:"primary",type:"submit",text:"Connect"}}),t("input-text-button",{attrs:{color:"secondary",text:"Close"},on:{click:function(o){return e.close()}}})]},proxy:!0}])},"app-dialog",e.$attrs,!1),e.$listeners))},P=[];const g={components:{AppDialog:m,BaseInputLabel:b,InputCheckBox:x,InputTextButton:v,InputTextField:D,InputDropDown:_},mixins:[h],inheritAttrs:!1,props:{remeber:{type:Boolean,default:!1}},data(){return{host:"localhost",port:3e3,secure:window.location.protocol.startsWith("https"),selectedProfile:null,profileName:p}},computed:{connected(){return this.$client.connected},profileOptions(){return[{title:"Select Profile\u2026",value:""},...this.$config.get("profiles")].map(e=>new u(e.name||e))}},watch:{selectedProfile(e,n){if(e!==n){const t=this.$config.get("profiles").find(({name:a})=>a===e)||f(),{name:o,port:i,host:r,secure:l}=t;this.profileName=o,this.port=i,this.host=r||d,this.secure=l||!1}}},methods:{async onSubmit(e){e.preventDefault();try{await this.$client.connect(this.port,this.host,this.secure),await this.$config.saveProfile({name:this.profileName,port:this.port,host:this.host,secure:this.secure}),this.close({profile:this.profileName})}catch(n){console.error(n)}},async onClickDisconnect(){try{await this.$client.disconnect()}catch(e){console.error(e)}},async onClickDeleteProfile(){await this.$config.deleteProfile(this.selectedProfile),this.selectedProfile=null}}},s={};var k=c(g,y,P,!1,w,"01f6ca20",null,null);function w(e){for(let n in s)this[n]=s[n]}var A=function(){return k.exports}();export{A as default};
