var mt=Object.defineProperty,ft=Object.defineProperties;var ht=Object.getOwnPropertyDescriptors;var x=Object.getOwnPropertySymbols;var gt=Object.prototype.hasOwnProperty,bt=Object.prototype.propertyIsEnumerable;var S=(t,e,n)=>e in t?mt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,r=(t,e)=>{for(var n in e||(e={}))gt.call(e,n)&&S(t,n,e[n]);if(x)for(var n of x(e))bt.call(e,n)&&S(t,n,e[n]);return t},m=(t,e)=>ft(t,ht(e));import{A as yt}from"./View.b2003e34.js";import{n as s,B as A,_ as a,A as p,F as g,g as f,a as w,r as I,M as $t,t as C,p as xt,b as St,c as T,D as At,d as wt,e as k,f as It,h as Ct,k as Tt}from"./index.e095b384.js";import{I as h}from"./TextButton.a795ee9b.js";import{I as _,D as u,a as v,B as kt}from"./TextField.dd24fbe0.js";import{A as O,M as c,f as Ot}from"./Dialog.554c1749.js";import{A as D,B as E,I as Dt}from"./FileSelect.a1c19718.js";import{I as F}from"./CheckBox.127d2afd.js";var Et=function(){var t,e=this,n=e.$createElement,o=e._self._c||n;return o("base-generic-button",e._g({staticClass:"input-icon-button",class:(t={},t["color-"+e.color]=e.color,t)},e.$listeners),[o("i",[e._t("default",function(){return[e.svg?o(e.svg,{tag:"component"}):e._e()]})],2)])},Ft=[];const Mt={components:{BaseGenericButton:A},inheritAttrs:!1,props:{color:{type:String,default:"secondary"},svg:{type:[Object,Function],required:!1,default:null}}},M={};var jt=s(Mt,Et,Ft,!1,Lt,"50d3e914",null,null);function Lt(t){for(let e in M)this[e]=M[e]}var j=function(){return jt.exports}(),b={barcode:()=>a(()=>import("./Barcode.dc4eef05.js"),["assets/Barcode.dc4eef05.js","assets/index.e095b384.js","assets/index.63ae7d14.css","assets/vendor.b1428349.js","assets/devterm.9c60640a.js","assets/buffer.89012e65.js","assets/FileSelect.a1c19718.js","assets/FileSelect.b43292a0.css","assets/TextField.dd24fbe0.js","assets/TextField.11f65af1.css","assets/TextButton.a795ee9b.js","assets/TextButton.63200045.css","assets/CheckBox.127d2afd.js","assets/CheckBox.82b15c7e.css","assets/Dialog.554c1749.js","assets/Dialog.92b6b1a8.css","assets/View.b2003e34.js"]),qrCode:()=>a(()=>Promise.resolve().then(function(){return on}),void 0),text:()=>a(()=>Promise.resolve().then(function(){return Ne}),void 0),nativeText:()=>a(()=>Promise.resolve().then(function(){return Ue}),void 0),image:()=>a(()=>Promise.resolve().then(function(){return Je}),void 0),feedPitch:()=>a(()=>Promise.resolve().then(function(){return un}),void 0),setAlign:()=>a(()=>Promise.resolve().then(function(){return qt}),void 0),setFont:()=>a(()=>Promise.resolve().then(function(){return Kt}),void 0),setLineSpace:()=>a(()=>Promise.resolve().then(function(){return de}),void 0),setWordGap:()=>a(()=>Promise.resolve().then(function(){return he}),void 0),setMargin:()=>a(()=>Promise.resolve().then(function(){return re}),void 0),setDensity:()=>a(()=>Promise.resolve().then(function(){return Se}),void 0)},Pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("app-dialog",t._g(t._b({ref:"dialog",staticClass:"action-dialog",attrs:{form:t.form,embed:""},scopedSlots:t._u([{key:"default",fn:function(){return[t._t("default")]},proxy:!0},{key:"buttons",fn:function(){return[n("input-text-button",{attrs:{type:t.form?"submit":"button",color:"primary",text:"Close"},on:{click:function(o){return t.$emit("close")}}})]},proxy:!0}],null,!0)},"app-dialog",t.$attrs,!1),t.$listeners))},Rt=[];const Nt={components:{InputTextButton:h,AppDialog:O},mixins:[c],inheritAttrs:!1,props:{form:{type:Boolean,default:!1}}},L={};var Vt=s(Nt,Pt,Rt,!1,zt,"0be6849b",null,null);function zt(t){for(let e in L)this[e]=L[e]}var d=function(){return Vt.exports}(),Bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("action-dialog",t._g(t._b({staticClass:"action-dialog-set-align",attrs:{title:"Set Align",form:""},on:{submit:t.onSubmit},scopedSlots:t._u([{key:"default",fn:function(){return[n("input-dropdown",{attrs:{label:t.label,value:String(t.value),options:t.options},on:{input:function(o){t.$emit("input",Number(o))}}})]},proxy:!0}])},"action-dialog",t.$attrs,!1),Object.assign({},t.$listeners,{input:[]})))},Gt=[];const Ht={components:{ActionDialog:d,InputDropdown:_},mixins:[c],inheritAttrs:!1,props:{value:{type:[Number,String],default:0}},data(){return{label:"Select align",options:[["Left",p.LEFT],["Center",p.CENTER],["Right",p.RIGHT]].map(([t,e])=>new u({title:t,value:String(e)}))}},methods:{onSubmit(t){t.preventDefault(),this.close()}}},P={};var Ut=s(Ht,Bt,Gt,!1,Wt,"a6463072",null,null);function Wt(t){for(let e in P)this[e]=P[e]}var R=function(){return Ut.exports}(),qt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:R}),Qt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("action-dialog",t._g(t._b({staticClass:"action-dialog-set-font",attrs:{title:"Set Font",form:""},on:{submit:t.onSubmit},scopedSlots:t._u([{key:"default",fn:function(){return[n("input-dropdown",{attrs:{label:t.label,options:t.options,value:String(t.value)},on:{input:function(o){return t.$emit("input",o)}}})]},proxy:!0}])},"action-dialog",t.$attrs,!1),Object.assign({},t.$listeners,{input:[]})))},Xt=[];const Yt={components:{ActionDialog:d,InputDropdown:_},mixins:[c],inheritAttrs:!1,props:{value:{type:[String,Number],default:0}},data(){return{label:"Select font",options:Object.keys(g).map(t=>new u({title:t,value:String(g[t])}))}},methods:{onSubmit(t){t.preventDefault(),this.close()}}},N={};var Jt=s(Yt,Qt,Xt,!1,Zt,"4b289272",null,null);function Zt(t){for(let e in N)this[e]=N[e]}var V=function(){return Jt.exports}(),Kt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:V}),te=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("action-dialog",t._g(t._b({staticClass:"action-set-margin",attrs:{title:"Set Margin",form:""},on:{submit:t.onSubmit},scopedSlots:t._u([{key:"default",fn:function(){return[n("input-text-field",{attrs:{step:"0.01",max:"1",min:"0",type:"number",value:t.value,label:t.label},on:{input:function(o){return t.$emit("input",o||0)}}})]},proxy:!0}])},"action-dialog",t.$attrs,!1),Object.assign({},t.$listeners,{input:[]})))},ee=[];const ne={components:{ActionDialog:d,InputTextField:v},mixins:[c],inheritAttrs:!1,props:{value:{type:[Number,String],default:0}},data(){return{label:"Set Margin"}},methods:{onSubmit(t){t.preventDefault(),this.close()}}},z={};var oe=s(ne,te,ee,!1,ie,"769021e6",null,null);function ie(t){for(let e in z)this[e]=z[e]}var B=function(){return oe.exports}(),re=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:B}),se=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("action-dialog",t._g(t._b({staticClass:"action-set-line-space",attrs:{title:"Set Line Space",form:""},on:{submit:t.onSubmit},scopedSlots:t._u([{key:"default",fn:function(){return[n("input-text-field",{attrs:{step:"1",min:"0",type:"number",value:t.value,label:t.label},on:{input:function(o){return t.$emit("input",t.$even||0)}}})]},proxy:!0}])},"action-dialog",t.$attrs,!1),Object.assign({},t.$listeners,{input:[]})))},ae=[];const le={components:{ActionDialog:d,InputTextField:v},mixins:[c],inheritAttrs:!1,props:{value:{type:[Number,String],default:0}},data(){return{label:"Set Line-space"}},methods:{onSubmit(t){t.preventDefault(),this.close()}}},G={};var ce=s(le,se,ae,!1,ue,"e3e78b5c",null,null);function ue(t){for(let e in G)this[e]=G[e]}var H=function(){return ce.exports}(),de=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:H}),pe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("action-dialog",t._g(t._b({staticClass:"action-set-word-gap",attrs:{title:"Set Word Gap",form:""},on:{submit:t.onSubmit},scopedSlots:t._u([{key:"default",fn:function(){return[n("input-text-field",{attrs:{step:"1",min:"0",type:"number",value:t.value,label:t.label},on:{input:function(o){return t.$emit("input",o||0)}}})]},proxy:!0}])},"action-dialog",t.$attrs,!1),Object.assign({},t.$listeners,{input:[]})))},_e=[];const ve={components:{ActionDialog:d,InputTextField:v},mixins:[c],inheritAttrs:!1,props:{value:{type:[Number,String],default:0}},data(){return{label:"Set Word-Gap"}},methods:{onSubmit(t){t.preventDefault(),this.close()}}},U={};var me=s(ve,pe,_e,!1,fe,"33430204",null,null);function fe(t){for(let e in U)this[e]=U[e]}var W=function(){return me.exports}(),he=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:W}),ge=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("action-dialog",t._g(t._b({staticClass:"action-set-density",attrs:{title:"Set Density",form:""},on:{submit:t.onSubmit},scopedSlots:t._u([{key:"default",fn:function(){return[n("input-dropdown",{attrs:{label:t.label,options:t.options,value:t.value},on:{input:function(o){return t.$emit("input",o)}}})]},proxy:!0}])},"action-dialog",t.$attrs,!1),Object.assign({},t.$listeners,{input:[]})))},be=[];const ye={components:{ActionDialog:d,InputDropdown:_},mixins:[c],inheritAttrs:!1,props:{value:{type:[Number,String],default:0}},data(){return{label:"Set Density",options:Array(15).fill("").map((t,e)=>new u(String(e+1)))}},methods:{onSubmit(t){t.preventDefault(),this.close()}}},q={};var $e=s(ye,ge,be,!1,xe,"35dd931d",null,null);function xe(t){for(let e in q)this[e]=q[e]}var Q=function(){return $e.exports}(),Se=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Q}),Ae=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("base-input-label",{staticClass:"input-text-box",attrs:{text:t.label,delimiter:t.$attrs.delimiter||void 0,"top-label":t.$attrs["top-label"],"baseline-label":t.$attrs["baseline-label"]}},[n("textarea",t._b({domProps:{value:t.value},on:{input:t.onInput}},"textarea",t.$attrs,!1))])},we=[];const Ie={components:{BaseInputLabel:kt},inheritAttrs:!1,props:{label:{type:String,default:"TextBox"},topLabel:{type:Boolean,default:!0},value:{type:String,default:""}},methods:{onInput(t){this.$emit("input",t.target.value)}}},X={};var Ce=s(Ie,Ae,we,!1,Te,"beec945e",null,null);function Te(t){for(let e in X)this[e]=X[e]}var y=function(){return Ce.exports}(),ke=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"cols"},[n("div",[n("input-check-box",{attrs:{label:"Grarscale"},model:{value:t.model.grayscale,callback:function(o){t.$set(t.model,"grayscale",o)},expression:"model.grayscale"}})],1),n("div",[n("input-check-box",{attrs:{label:"Rotate"},model:{value:t.model.rotate,callback:function(o){t.$set(t.model,"rotate",o)},expression:"model.rotate"}})],1),n("div",[n("input-check-box",{attrs:{label:"Flip X"},model:{value:t.model.flipX,callback:function(o){t.$set(t.model,"flipX",o)},expression:"model.flipX"}})],1),n("div",[n("input-check-box",{attrs:{label:"Flip Y"},model:{value:t.model.flipY,callback:function(o){t.$set(t.model,"flipY",o)},expression:"model.flipY"}})],1),n("div",[n("input-check-box",{attrs:{label:"Invert"},model:{value:t.model.invert,callback:function(o){t.$set(t.model,"invert",o)},expression:"model.invert"}})],1)]),n("input-text-field",{attrs:{type:"number",min:"1",step:"1",label:"width",placeholder:"Size from Image (max. 384px)"},model:{value:t.model.width,callback:function(o){t.$set(t.model,"width",o)},expression:"model.width"}})],1)},Oe=[];const De={components:{InputCheckBox:F,InputTextField:v},props:{value:{type:Object,default(){return f()}}},data(){return{model:this.value}},watch:{model:{handler(t){this.$emit("input",t)},deep:!0}}},Y={};var Ee=s(De,ke,Oe,!1,Fe,null,null,null);function Fe(t){for(let e in Y)this[e]=Y[e]}var $=function(){return Ee.exports}(),Me=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("action-dialog",t._g(t._b({staticClass:"action-dialog-text",attrs:{title:"Text",form:""},on:{submit:t.onSubmit},scopedSlots:t._u([{key:"default",fn:function(){return[n("app-tab-container",{staticClass:"tab-container",scopedSlots:t._u([{key:"general",fn:function(o){return[n("base-tab-container-content",t._b({attrs:{title:"General"}},"base-tab-container-content",o,!1),[n("input-text-box",{staticClass:"input",attrs:{placeholder:"Enter Text",label:null,rows:"10"},model:{value:t.model.text,callback:function(i){t.$set(t.model,"text",i)},expression:"model.text"}}),n("div",{staticClass:"footer"},[n("span",[t._v("Rows: "),n("span",[t._v(t._s(t.model.text.split(`
`).length)+"; Count: "+t._s(t.model.text.length))])])])],1)]}},{key:"options",fn:function(o){return[n("base-tab-container-content",t._b({attrs:{title:"Options"}},"base-tab-container-content",o,!1),[n("input-drop-down",{attrs:{label:"Family",options:t.fontOptions},on:{input:t.onInputFontFamily},model:{value:t.model.options.fontFamily,callback:function(i){t.$set(t.model.options,"fontFamily",i)},expression:"model.options.fontFamily"}}),n("input-drop-down",{attrs:{label:"Variante",options:t.variantOptions},on:{input:t.onInputVariante},model:{value:t.variant,callback:function(i){t.variant=i},expression:"variant"}}),n("input-drop-down",{attrs:{label:"Align",options:t.alignOptions},on:{input:function(i){t.model.options.align=Number(i)}},model:{value:t.model.options.align,callback:function(i){t.$set(t.model.options,"align",i)},expression:"model.options.align"}}),n("input-text-field",{attrs:{step:"1",min:"0",type:"number",value:t.model.options.fontSize,label:"Font Size"},on:{input:function(i){t.model.options.fontSize=i||0}}}),n("input-text-field",{attrs:{step:"1",min:"0",type:"number",value:t.model.options.wordGap,label:"Word Gap"},on:{input:function(i){t.model.options.wordGap=i||0}}}),n("input-text-field",{attrs:{step:"1",min:"0",type:"number",value:t.model.options.lineSpace,label:"Line Space"},on:{input:function(i){t.model.options.lineSpace=i||0}}})],1)]}},{key:"imageOptions",fn:function(o){return[n("base-tab-container-content",t._b({attrs:{title:"Image Options"}},"base-tab-container-content",o,!1),[n("controls-image-options",{model:{value:t.model.imageOptions,callback:function(i){t.$set(t.model,"imageOptions",i)},expression:"model.imageOptions"}})],1)]}}])})]},proxy:!0}])},"action-dialog",t.$attrs,!1),Object.assign({},t.$listeners,{input:[]})))},je=[];const Le={components:{ActionDialog:d,AppTabContainer:D,BaseTabContainerContent:E,InputTextBox:y,InputTextField:v,InputDropDown:_,ControlsImageOptions:$},mixins:[c],inheritAttrs:!1,props:{value:{type:Object,default(){return lt()}}},data(){const t=this.$config.fonts;return{variant:"0",fonts:t,updateTimeout:null,model:r({},this.value),alignOptions:[["Left",p.LEFT],["Center",p.CENTER],["Right",p.RIGHT]].map(([e,n])=>new u({title:e,value:String(n)})),fontOptions:[{title:"Select Font",value:""}].concat(this.$config.fonts.map(e=>new u(e.name)))}},computed:{currentFont(){return this.$config.fonts.find(t=>t.name===this.model.options.fontFamily)},variantOptions(){return this.currentFont?this.currentFont.variants.map(({weight:t,italic:e},n)=>new u({title:String(t),group:e?"Iatlic":"Normal",value:String(n)})):[]}},watch:{variant(t){const e=this.currentFont.variants[Number(t)];if(console.log(e),e){const{weight:n,italic:o}=this.currentFont.variants[Number(t)];this.model.options=m(r({},this.model.options),{weight:n,italic:o})}},model:{handler(){window.clearTimeout(this.updateTimeout),this.updateTimeout=window.setTimeout(()=>{this.$emit("input",r({},this.model))},500)},deep:!0}},methods:{onInputFontFamily(){this.variant="0"},onInputVariante(){},onInput(t){this.$emit("input",t)},onSubmit(t){t.preventDefault(),this.close()}}},J={};var Pe=s(Le,Me,je,!1,Re,"6e09bd31",null,null);function Re(t){for(let e in J)this[e]=J[e]}var Z=function(){return Pe.exports}(),Ne=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Z}),Ve=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("action-dialog",t._g(t._b({staticClass:"action-dialog-native-text",attrs:{title:"Text",form:""},on:{submit:t.onSubmit},scopedSlots:t._u([{key:"default",fn:function(){return[n("input-text-box",{staticClass:"input",attrs:{placeholder:"Enter Text",label:null,value:t.value,rows:"10"},on:{input:t.onInput}}),n("div",{staticClass:"footer"},[n("span",[t._v("Rows: "),n("span",[t._v(t._s(t.value.split(`
`).length)+"; Count: "+t._s(t.value.length))])])])]},proxy:!0}])},"action-dialog",t.$attrs,!1),Object.assign({},t.$listeners,{input:[]})))},ze=[];const Be={components:{ActionDialog:d,InputTextBox:y},mixins:[c],inheritAttrs:!1,props:{value:{type:String,default:""}},methods:{onInput(t){this.$emit("input",t)},onSubmit(t){t.preventDefault(),this.close()}}},K={};var Ge=s(Be,Ve,ze,!1,He,"509b7a71",null,null);function He(t){for(let e in K)this[e]=K[e]}var tt=function(){return Ge.exports}(),Ue=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:tt}),We=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("action-dialog",t._g(t._b({staticClass:"action-dialog-image",attrs:{title:"Image",form:""},on:{submit:t.onSubmit},scopedSlots:t._u([{key:"default",fn:function(){return[t.previewDataUrl?n("div",{staticClass:"preview"},[n("img",{attrs:{src:t.previewDataUrl}})]):t._e(),n("input-file-select",{attrs:{label:"File"},on:{input:t.onInputFileSelect}}),n("hr"),n("controls-image-options",{model:{value:t.model.imageOptions,callback:function(o){t.$set(t.model,"imageOptions",o)},expression:"model.imageOptions"}})]},proxy:!0}])},"action-dialog",t.$attrs,!1),Object.assign({},t.$listeners,{input:[]})))},qe=[];const Qe={components:{ActionDialog:d,InputFileSelect:Dt,ControlsImageOptions:$},mixins:[c],inheritAttrs:!1,props:{colors:{type:Object,default(){return{primary:[255,0,0],secondary:[0,255,0]}}},value:{type:Object,default(){return ct()}}},data(){return{updateTimeout:null,previewDataUrl:null,model:r({},this.value)}},watch:{model:{handler(){window.clearTimeout(this.updateTimeout),this.updateTimeout=window.setTimeout(()=>{this.render(),this.$emit("input",r({},this.model))},500)},deep:!0},colors(){this.render()}},mounted(){this.render()},methods:{onInput(t){this.$emit("input",t)},async onInputFileSelect(t){if(t){const e=await new Promise(n=>{const o=new FileReader;o.onload=i=>n(i.target.result),o.readAsDataURL(t)});this.updateCanvas(e)}else this.previewDataUrl=null},async updateCanvas(t){let e=await w(t);e=I(e,$t),this.model=m(r({},this.model),{file:C(e)}),this.render()},async render(){let t=await w(this.model.file);t=xt(t,this.model.imageOptions),t=St(t,{background:this.colors.printer.preview.background,foreground:this.colors.printer.preview.foreground}),t=I(t,null,100),this.previewDataUrl=C(t)},async loadFromUrl(){try{await this.updateCanvas(this.url)}catch(t){console.error(t)}},onSubmit(t){t.preventDefault(),this.close()}}},et={};var Xe=s(Qe,We,qe,!1,Ye,"25d4a499",null,null);function Ye(t){for(let e in et)this[e]=et[e]}var nt=function(){return Xe.exports}(),Je=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:nt}),Ze=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("action-dialog",t._g(t._b({staticClass:"action-dialog-qr-code",attrs:{title:"QR Code",form:""},on:{submit:t.onSubmit},scopedSlots:t._u([{key:"default",fn:function(){return[n("app-tab-container",{staticClass:"tab-container",scopedSlots:t._u([{key:"general",fn:function(o){return[n("base-tab-container-content",t._b({attrs:{title:"General"}},"base-tab-container-content",o,!1),[n("input-text-box",{attrs:{label:"Text","baseline-label":""},model:{value:t.model.text,callback:function(i){t.$set(t.model,"text",i)},expression:"model.text"}}),n("hr"),n("input-drop-down",{attrs:{options:t.errorCorrectionLevelOptions,label:"Correc. Lev."},model:{value:t.model.options.errorCorrectionLevel,callback:function(i){t.$set(t.model.options,"errorCorrectionLevel",i)},expression:"model.options.errorCorrectionLevel"}}),n("div",{staticClass:"cols"},[n("div",[n("input-text-field",{attrs:{value:t.model.options.margin,type:"number",label:"Margin",step:"1",min:"0"},on:{input:function(i){t.model.options.margin=i||0}}})],1),n("div",[n("input-text-field",{attrs:{value:t.model.options.scale,type:"number",label:"Scale",step:"1",min:"0"},on:{input:function(i){t.model.options.scale=i||0}}})],1)]),n("div",{staticClass:"cols"},[n("div",[n("input-check-box",{attrs:{label:"Small"},model:{value:t.model.options.small,callback:function(i){t.$set(t.model.options,"small",i)},expression:"model.options.small"}})],1)])],1)]}},{key:"imageOptions",fn:function(o){return[n("base-tab-container-content",t._b({attrs:{title:"Image Options"}},"base-tab-container-content",o,!1),[n("controls-image-options",{model:{value:t.model.imageOptions,callback:function(i){t.$set(t.model,"imageOptions",i)},expression:"model.imageOptions"}})],1)]}}])})]},proxy:!0}])},"action-dialog",t.$attrs,!1),Object.assign({},t.$listeners,{input:[]})))},Ke=[];const tn={components:{ActionDialog:d,AppTabContainer:D,BaseTabContainerContent:E,InputCheckBox:F,InputDropDown:_,InputTextField:v,InputTextBox:y,ControlsImageOptions:$},mixins:[c],inheritAttrs:!1,props:{colors:{type:Object,default(){return{primary:[255,0,0],secondary:[0,255,0]}}},value:{type:Object,default(){return ut()}}},data(){return{type:"text",model:r({},this.value),errorCorrectionLevelOptions:[["Low","L"],["Medium","M"],["Quartile","Q"],["High","H"]].map(([t,e])=>new u({title:t,value:e})),typeOptions:[["Text","text"],["Url","url"]].map(([t,e])=>new u({title:t,value:e}))}},watch:{model:{handler(){window.clearTimeout(this.updateTimeout),this.updateTimeout=window.setTimeout(()=>{this.$emit("input",r({},this.model))},500)},deep:!0}},methods:{onSubmit(t){t.preventDefault(),this.close()}}},ot={};var en=s(tn,Ze,Ke,!1,nn,"4355c908",null,null);function nn(t){for(let e in ot)this[e]=ot[e]}var it=function(){return en.exports}(),on=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:it}),rn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("action-dialog",t._g(t._b({staticClass:"action-dialog-feed-pitch",attrs:{title:"Feed Pitch",form:""},on:{submit:t.onSubmit},scopedSlots:t._u([{key:"default",fn:function(){return[n("input-dropdown",{attrs:{label:"By",options:t.options},model:{value:t.model.type,callback:function(o){t.$set(t.model,"type",o)},expression:"model.type"}}),n("input-text-field",{attrs:{value:t.model.value,step:"1",max:"100",min:"0",type:"number",label:"Value"},on:{input:function(o){t.model.value=o||0}}})]},proxy:!0}])},"action-dialog",t.$attrs,!1),Object.assign({},t.$listeners,{input:[]})))},sn=[];const an={components:{ActionDialog:d,InputDropdown:_,InputTextField:v},mixins:[c],inheritAttrs:!1,props:{value:{type:Object,default(){return{type:"font",value:0}}}},data(){return{label:"Select align",options:[["Pixel","pixel"],["Font-Size","font"]].map(([t,e])=>new u({title:t,value:e})),model:r({},this.value)}},watch:{model:{handler(){this.$emit("input",this.model)},deep:!0}},methods:{onSubmit(t){t.preventDefault(),this.close()}}},rt={};var ln=s(an,rn,sn,!1,cn,"3b4b732e",null,null);function cn(t){for(let e in rt)this[e]=rt[e]}var st=function(){return ln.exports}(),un=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:st});const at=()=>[{title:"Margin",value:"setMargin",group:"Layout"},{title:"Font",value:"setFont",group:"Layout"},{title:"Align",value:"setAlign",group:"Layout"},{title:"LineSpace",value:"setLineSpace",group:"Layout"},{title:"WordGap",value:"setWordGap",group:"Layout"},{title:"Image",value:"image",group:"Content"},{title:"QRCode",value:"qrCode",group:"Content"},{title:"Barcode",value:"barcode",group:"Content"},{title:"Text",value:"text",group:"Content"},{title:"NativeText",value:"nativeText",group:"Content"},{title:"Reset",value:"reset",group:"General"},{title:"Feed Pitch",value:"feedPitch",group:"General"},{title:"Cutline",value:"cutLine",group:"General"},{title:"Density",value:"setDensity",group:"General"}],dn=()=>[new u({title:"Add new Action\u2026",value:""}),...at().map(t=>new u(t))],pn=t=>({setMargin:B,setAlign:R,setFont:V,setDensity:Q,text:Z,nativeText:tt,image:nt,qrCode:it,setLineSpace:H,setWordGap:W,feedPitch:st})[t],_n=t=>{let e;switch(t){case"setLineSpace":e=0;break;case"setWordGap":e=0;break;case"setMargin":e=0;break;case"setDensity":e=1;break;case"setFont":e=g.SIZE_8_16_THIN_1;break;case"setAlign":e=p.LEFT;break;case"feedPitch":e={value:1,type:"font"};break;case"text":e=lt();break;case"nativeText":e="Text";break;case"image":e=ct();break;case"qrCode":e=ut();break;case"barcode":e=hn();break}return new k({type:t,value:e})},vn=t=>{const e=T();return t.filter(n=>n.visible).map(n=>fn(n,e)).filter(Boolean)},mn=t=>Array(wt[t]).fill("").map((e,n)=>n%2==0?"=":"-").join(""),fn=(t,e)=>{switch(t.type){case"setMargin":e.margin=t.value;break;case"setAlign":e.align=t.value;break;case"setLineSpace":e.lineSpace=t.value;break;case"setWordGap":e.wordGap=t.value;break;case"setFont":e.font=Number(t.value);break;case"setDensity":e.density=Number(t.value);break;case"reset":Object.assign(e,T());break;case"cutLine":return{id:t.id,component:()=>a(()=>import("./NativeTextCanvas.8e72b44f.js"),["assets/NativeTextCanvas.8e72b44f.js","assets/NativeTextCanvas.e7a430e6.css","assets/index.e095b384.js","assets/index.63ae7d14.css","assets/vendor.b1428349.js","assets/devterm.9c60640a.js","assets/buffer.89012e65.js"]),options:m(r({},e),{margin:0,wordGap:0,lineSpace:0,density:At}),props:{value:mn(e.font)}};case"barcode":return{id:t.id,component:()=>a(()=>import("./BarcodeCanvas.885705ea.js"),["assets/BarcodeCanvas.885705ea.js","assets/BarcodeCanvas.dd58c81b.css","assets/index.e095b384.js","assets/index.63ae7d14.css","assets/vendor.b1428349.js","assets/devterm.9c60640a.js","assets/buffer.89012e65.js","assets/NativeTextCanvas.8e72b44f.js","assets/NativeTextCanvas.e7a430e6.css","assets/View.b2003e34.js","assets/TextButton.a795ee9b.js","assets/TextButton.63200045.css","assets/TextField.dd24fbe0.js","assets/TextField.11f65af1.css","assets/Dialog.554c1749.js","assets/Dialog.92b6b1a8.css","assets/FileSelect.a1c19718.js","assets/FileSelect.b43292a0.css","assets/CheckBox.127d2afd.js","assets/CheckBox.82b15c7e.css"]),options:r({},e),props:r({},t)};case"qrCode":return{id:t.id,component:()=>a(()=>import("./QrCodeCanvas.8d91505d.js"),["assets/QrCodeCanvas.8d91505d.js","assets/QrCodeCanvas.b7e8cc71.css","assets/index.e095b384.js","assets/index.63ae7d14.css","assets/vendor.b1428349.js","assets/devterm.9c60640a.js","assets/buffer.89012e65.js","assets/NativeTextCanvas.8e72b44f.js","assets/NativeTextCanvas.e7a430e6.css","assets/View.b2003e34.js","assets/TextButton.a795ee9b.js","assets/TextButton.63200045.css","assets/TextField.dd24fbe0.js","assets/TextField.11f65af1.css","assets/Dialog.554c1749.js","assets/Dialog.92b6b1a8.css","assets/FileSelect.a1c19718.js","assets/FileSelect.b43292a0.css","assets/CheckBox.127d2afd.js","assets/CheckBox.82b15c7e.css"]),options:r({},e),props:r({},t)};case"image":return{id:t.id,component:()=>a(()=>import("./ImageCanvas.9270a7f4.js"),["assets/ImageCanvas.9270a7f4.js","assets/ImageCanvas.415074bb.css","assets/index.e095b384.js","assets/index.63ae7d14.css","assets/vendor.b1428349.js","assets/devterm.9c60640a.js","assets/buffer.89012e65.js","assets/NativeTextCanvas.8e72b44f.js","assets/NativeTextCanvas.e7a430e6.css"]),options:r({},e),props:r({},t)};case"text":return{id:t.id,component:()=>a(()=>import("./TextCanvas.35b669af.js"),["assets/TextCanvas.35b669af.js","assets/TextCanvas.2c216df0.css","assets/index.e095b384.js","assets/index.63ae7d14.css","assets/vendor.b1428349.js","assets/devterm.9c60640a.js","assets/buffer.89012e65.js","assets/View.b2003e34.js","assets/TextButton.a795ee9b.js","assets/TextButton.63200045.css","assets/TextField.dd24fbe0.js","assets/TextField.11f65af1.css","assets/Dialog.554c1749.js","assets/Dialog.92b6b1a8.css","assets/FileSelect.a1c19718.js","assets/FileSelect.b43292a0.css","assets/CheckBox.127d2afd.js","assets/CheckBox.82b15c7e.css"]),options:r({},e),props:r({},t)};case"nativeText":return{id:t.id,component:()=>a(()=>import("./NativeTextCanvas.8e72b44f.js"),["assets/NativeTextCanvas.8e72b44f.js","assets/NativeTextCanvas.e7a430e6.css","assets/index.e095b384.js","assets/index.63ae7d14.css","assets/vendor.b1428349.js","assets/devterm.9c60640a.js","assets/buffer.89012e65.js"]),options:r({},e),props:r({},t)};case"feedPitch":return{id:t.id,component:()=>a(()=>import("./FeedPitch.eda35413.js"),["assets/FeedPitch.eda35413.js","assets/FeedPitch.3fa7fa3d.css","assets/index.e095b384.js","assets/index.63ae7d14.css","assets/vendor.b1428349.js","assets/devterm.9c60640a.js","assets/buffer.89012e65.js"]),options:r({},e),props:r({},t.value)}}return null},lt=()=>({text:"Sample",options:{fontSize:16,align:"left",lineSpace:0,wordGap:0,margin:0,fontFamily:null,color:"#000",weight:400,italic:!1},imageOptions:f()}),ct=()=>({file:null,imageOptions:f()}),ut=()=>({text:"Sample",options:{errorCorrectionLevel:"M",margin:0,scale:4,small:!1},imageOptions:f()}),hn=()=>({text:"Sample",options:{format:"",height:100,font:"monospace",textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,margin:10,displayValue:!0,flat:!1},imageOptions:f()});var gn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M22 16v-2h-2v-2h-2v-2h-2V8h-2V6h-4v2H8v2H6v2H4v2H2v2H0v2h24v-2z"}})])},bn={render:gn},yn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M22 8v2h-2v2h-2v2h-2v2h-2v2h-4v-2H8v-2H6v-2H4v-2H2V8H0V6h24v2z"}})])},$n={render:yn},xn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M2.1 4.9L9.2 12l-7.1 7.1 2.8 2.8 7.1-7.1 7.1 7.1 2.8-2.8-7.1-7.1 7.1-7.1-2.8-2.8L12 9.2 4.9 2.1z"}})])},Sn={render:xn},An=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M2 6h16v16H2z"}}),n("path",{attrs:{d:"M22 18H6V2h16v16zM8 16h12V4H8v12z"}})])},wn={render:An},In=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M12 6c5.4 0 10 2.7 10 6s-4.6 6-10 6-10-2.7-10-6 4.6-6 10-6m0-2C5.4 4 0 7.6 0 12s5.4 8 12 8 12-3.6 12-8-5.4-8-12-8z"}}),n("circle",{attrs:{cx:"12",cy:"12",r:"4"}})])},Cn={render:In},Tn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M10 2h4v20h-4z"}}),n("path",{attrs:{d:"M2 10h20v4H2z"}})])},kn={render:Tn},On=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M2 23c-.3 0-.5-.1-.7-.3-.4-.4-.4-1 0-1.4l20-20c.4-.4 1-.4 1.4 0s.4 1 0 1.4l-20 20c-.2.2-.4.3-.7.3zM13 8.1c-.3 0-.6-.1-1-.1-2.2 0-4 1.8-4 4 0 .4.1.7.1 1L13 8.1zm-2 7.8c.3.1.7.1 1 .1 2.2 0 4-1.8 4-4 0-.4-.1-.7-.1-1L11 15.9z"}}),n("path",{attrs:{d:"M3.5 17.7L5 16.2c-1.8-1.1-3-2.6-3-4.2 0-3.3 4.6-6 10-6 1 0 2 .1 2.9.3l1.7-1.7c-1.4-.4-3-.6-4.6-.6C5.4 4 0 7.6 0 12c0 2.2 1.3 4.2 3.5 5.7zm17-11.4L19 7.8c1.8 1.1 3 2.6 3 4.2 0 3.3-4.6 6-10 6-1 0-2-.1-2.9-.3l-1.7 1.7c1.4.4 3 .6 4.6.6 6.6 0 12-3.6 12-8 0-2.2-1.3-4.2-3.5-5.7z"}})])},Dn={render:On},En=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._g({staticClass:"controls-action-item",class:{focus:t.focus||t.selected,property:t.property,"can-select":t.canSelect},attrs:{focusable:""}},t.$listeners),[n("base-generic-button",{staticClass:"title",on:{click:t.onClick}},[n("span",[t._v(t._s(t.display.title)+t._s(t.display.value?":":""))]),t._v(" "),t.display.value?n("span",[t._v(t._s(t.display.value))]):t._e()]),t.$slots.default?n("div",[t._t("default")],2):t._e()],1)},Fn=[];const Mn={components:{BaseGenericButton:A},props:{itemStates:{type:Object,default(){return{id:!1}}},canSelect:{type:Boolean,default:!1},id:{type:String,default:"id"},focus:{type:Boolean,default:!1},property:{type:Boolean,default:!1},display:{type:Object,default(){return{title:"Action Item",value:"Action Item Value"}}}},computed:{selected(){return this.itemStates[this.id]}},methods:{onClick(){this.canSelect&&this.$emit("select",this.id)}}},dt={};var jn=s(Mn,En,Fn,!1,Ln,"7c1f1344",null,null);function Ln(t){for(let e in dt)this[e]=dt[e]}var Pn=function(){return jn.exports}(),Rn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("app-dialog",t._g(t._b({ref:"dialog",staticClass:"dialog-action-select",attrs:{"escape-close":!0,title:"Actions"},scopedSlots:t._u([{key:"default",fn:function(){return t._l(t.groupedActions,function(o,i){return n("fieldset",{key:i},[n("legend",[t._v(t._s(i))]),n("ul",t._l(o,function(l){return n("li",{key:l.title},[n("input-text-button",{attrs:{color:"primary"},on:{click:function(no){return t.onClick(l.value)}}},[t._v(" "+t._s(l.title)+" ")])],1)}),0)])})},proxy:!0}])},"app-dialog",t.$attrs,!1),t.$listeners))},Nn=[];const Vn={components:{AppDialog:O,InputTextButton:h},mixins:[c],inheritAttrs:!1,computed:{groupedActions(){return at().reduce((t,e)=>((t[e.group]||(t[e.group]=[])).push(e),t),{})}},methods:{onClick(t){this.$emit("select",t),this.close()}}},pt={};var zn=s(Vn,Rn,Nn,!1,Bn,"2a0c6b8e",null,null);function Bn(t){for(let e in pt)this[e]=pt[e]}var Gn=function(){return zn.exports}(),Hn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"actions",class:{"action-active":t.selectedAction,drag:t.isDrag}},[n("div",{ref:"list",staticClass:"list"},[n("div",{on:{dragover:t.allowDrop,drop:t.onDrop}},[n("transition-group",{attrs:{name:t.isDrag?null:"flip-list",tag:"ul"}},t._l(t.model,function(o,i){return n("li",{key:o.id,attrs:{id:"anchor-action-item-"+o.id}},[t.ACTION_DEFINITIONS[o.type]?n("action-item",{attrs:{id:o.id,property:t.ACTION_DEFINITIONS[o.type].property,display:t.ACTION_DEFINITIONS[o.type].display(o.value),"can-select":!!t.ACTION_DIALOGS[o.type],"item-states":t.itemStates,"data-id":o.id,draggable:!t.itemStates[o.id],focus:t.dragTargetId===o.id&&o.id!==t.dragId},on:{select:function(l){return t.onSelectAction(o.id)},dragstart:t.onDragStart},scopedSlots:t._u([{key:"default",fn:function(){return[n("div",{staticClass:"action-controls"},[n("span",{staticClass:"index"},[t._v(t._s(i+1))]),n("input-icon-button",{on:{click:function(l){return t.onClickActionUp(i)}}},[n("svg-icon-arrow-up")],1),n("input-icon-button",{on:{click:function(l){return t.onClickActionDown(i)}}},[n("svg-icon-arrow-down")],1),n("input-icon-button",{on:{click:function(l){return t.onClickActionAdd(i)}}},[n("svg-icon-add")],1),n("input-icon-button",{on:{click:function(l){return t.onClickActionDuplicate(i)}}},[n("svg-icon-duplicate")],1),n("input-icon-button",{on:{click:function(l){return t.onClickActionVisible(i)}}},[o.visible?n("svg-icon-visible"):n("svg-icon-invisible")],1),n("input-icon-button",{on:{click:function(l){return t.onClickActionDelete(i)}}},[n("svg-icon-remove")],1)],1)]},proxy:!0}],null,!0)}):n("span",[t._v(" Action "+t._s(o.type)+" not defined\u2026 ")])],1)}),0)],1)]),n("div",{staticClass:"add-action"},[n("input-text-button",{attrs:{color:"primary"},on:{click:function(o){return t.onClickActionAdd()}}},[t._v(" Add Action ")])],1),t.selectedAction?n(t.dialogComponent,{ref:"dialog",tag:"component",attrs:{colors:t.colors,value:t.selectedAction.value},on:{input:function(o){return t.updateAction(t.selectedAction,o)},ready:t.onReadyDialog,close:t.onCloseDialog}}):t._e(),n("dialog-action-select",{ref:"dialogActionSelect",on:{select:t.onSelectAddAction}})],1)},Un=[];const Wn={components:{SvgIconArrowUp:bn,SvgIconArrowDown:$n,SvgIconRemove:Sn,SvgIconDuplicate:wn,SvgIconAdd:kn,SvgIconVisible:Cn,SvgIconInvisible:Dn,InputIconButton:j,InputTextButton:h,ActionItem:Pn,DialogActionSelect:Gn},props:{value:{type:Array,default(){return[]}},colors:{type:Object,default(){return{}}}},data(){return{ACTION_DEFINITIONS:It,ACTION_DIALOGS:b,getComponentByType:pn,selectedActionId:null,actionTypeOptions:dn(),itemStates:{},isDrag:!1,dragId:null,dragTargetId:null,model:[...this.value],addIndex:null}},computed:{selectedAction(){return this.model.find(t=>t.id===this.selectedActionId)},dialogComponent(){return this.selectedAction&&b[this.selectedAction.type]}},watch:{value(t){this.model=[...t]},model:{handler(t){this.itemStates=Object.fromEntries(t.map(({id:e})=>[e,!1]))},immediate:!0},selectedAction(t,e){const n=r({},this.itemStates);e&&(n[e.id]=!1),t&&(n[t.id]=!0),this.itemStates=n,this.$emit("selectAction",t)}},mounted(){this.subscriptions=[Ct(window,"dragenter").subscribe(t=>{if(t.target.closest("li [data-id]")){const e=t.target.closest("li [data-id]");this.dragTargetId=e.dataset.id}})]},destroyed(){this.subscriptions.forEach(t=>t.unsubscribe())},methods:{onSelectAddAction(t){if(t){const e=_n(t);this.addIndex!==null?(this.updateModel([].concat(this.model.slice(0,this.addIndex+1),e,this.model.slice(this.addIndex+1))),this.addIndex=null):this.updateModel([].concat(this.model,e)),this.$nextTick(()=>{this.selectedActionId=null;const n=this.$refs.list.querySelector(`#anchor-action-item-${e.id}`);n&&n.scrollIntoView({block:"center"}),!!b[e.type]&&window.setTimeout(()=>{this.selectedActionId=e.id},100)})}},showActionSelectDialog(){return this.$refs.dialogActionSelect.show()},onReadyDialog(){this.$nextTick(()=>{this.$refs.dialog.show()})},onCloseDialog(){this.selectedActionId=null},onSelectAction(t){t?this.selectedActionId=t:this.selectedActionId=null},updateModel(t){this.model=[...t],this.$emit("input",[...t])},updateAction(t,e){const n=this.model,o=n.indexOf(t);n[o]=m(r({},n[o]),{value:e}),this.updateModel(n)},onClickActionAdd(t){this.addIndex=t,this.showActionSelectDialog()},onClickActionDelete(t){const e=[].concat(this.model);this.updateModel([...e.slice(0,t||0),...e.slice(t+1)])},onClickActionUp(t){const e=[].concat(this.model),n=e[Math.max(t-1,0)];e[Math.max(t-1,0)]=e[t],e[t]=n,this.updateModel(e)},onClickActionDown(t){const e=[].concat(this.model),n=this.model[Math.min(t+1,e.length-1)];e[Math.min(t+1,e.length-1)]=e[t],e[t]=n,this.updateModel(e)},onClickActionVisible(t){const e=this.model[t],n=this.model;n[t]=m(r({},n[t]),{visible:!e.visible}),this.updateModel(n)},onDragStart(t){window.setTimeout(()=>{this.dragId=t.target.dataset.id,this.isDrag=!0},100)},onDrop(t){let e=[].concat(this.model);const n=e.indexOf(e.find(l=>l.id===this.dragTargetId)),o=e.indexOf(e.find(l=>l.id===this.dragId)),i=e.splice(o,1);o>n?e=[...e.slice(0,n+1),...i,...e.slice(n+1)]:e=[...e.slice(0,n),...i,...e.slice(n)],this.dragId=null,this.dragTargetId=null,this.isDrag=!1,this.updateModel(e)},allowDrop(t){t.preventDefault()},onClickActionDuplicate(t){const e=new k(JSON.parse(JSON.stringify(this.model[t])));this.updateModel([].concat(this.model.slice(0,t+1),e,this.model.slice(t+1)))}}},_t={};var qn=s(Wn,Hn,Un,!1,Qn,"bda0030c",null,null);function Qn(t){for(let e in _t)this[e]=_t[e]}var Xn=function(){return qn.exports}(),Yn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("app-view",{staticClass:"view-printer",style:t.style},[n("div",{key:JSON.stringify(t.colors),staticClass:"printer-preview"},[n("div",{staticClass:"scroll",class:{loading:t.loading}},[n("div",{class:{"has-selected":t.selectedAction}},t._l(t.previewItems,function(o){return n("div",{key:o.id,class:{selected:t.selectedAction&&t.selectedAction.id===o.id},attrs:{id:"anchor-action-"+o.id}},[n(o.component,t._b({key:o.id,tag:"component",attrs:{options:o.options,colors:t.colors},on:{ready:function(i){return o.resolve()}}},"component",o.props,!1))],1)}),0)]),n("div",{staticClass:"buttons"},[n("input-text-button",{staticClass:"print-button",attrs:{color:"primary"},on:{click:t.onClickPrint}},[t._v(" Print ")])],1),n("transition",{attrs:{name:"fade"}},[t.loading?n("div",{staticClass:"layer-loading"},[t._v(" Loading ")]):t._e()])],1),n("actions",{staticClass:"printer-actions",attrs:{colors:t.colors},on:{selectAction:function(o){t.selectedAction=o}},model:{value:t.actions,callback:function(o){t.actions=o},expression:"actions"}}),t.actions.length<1?n("div",{staticClass:"actions-empty"},[t._v(" Add a Action! ")]):t._e()],1)},Jn=[];const Zn={components:{AppView:yt,InputIconButton:j,InputTextButton:h,InputDropDown:_,Actions:Xn},props:{colors:{type:Object,default(){return{primary:[255,204,0],secondary:[0,0,0],printer:{preview:{background:[0,0,0],foreground:[255,204,0]}}}}},value:{type:Array,default(){return[]}}},data(){return{actions:[].concat(this.value),previewItems:[],loading:!0,selectedAction:null}},computed:{style(){return{"--color-printer-preview-background":`rgb(${this.colors.printer.preview.background.join(",")})`,"--color-printer-preview-foreground":`rgb(${this.colors.printer.preview.foreground.join(",")})`}}},watch:{value(t){this.actions=t},actions(){this.render(),this.$emit("input",this.actions)},selectedAction(t){t&&this.scrollToAction(t)}},mounted(){this.render(),this.subscriptions=[Tt.pipe(Ot(({key:t})=>t==="PrintScreen")).subscribe(()=>this.print())]},destroyed(){this.subscriptions.forEach(t=>t.unsubscribe())},methods:{render(){this.actions.length?(this.loading=!0,window.clearTimeout(this.renderTimeout),this.renderTimeout=window.setTimeout(async()=>{const t=[];this.previewItems=await vn(this.actions).map(e=>(t.push(new Promise(n=>{e.resolve=()=>n()})),e)),await Promise.all(t),this.$nextTick(()=>{this.loading=!1,this.selectedAction&&this.scrollToAction(this.selectedAction)})},500)):this.previewItems=[]},print(){return this.$client.executeActions(this.actions)},scrollToAction(t){this.$nextTick(()=>{window.requestAnimationFrame(()=>{const e=document.querySelector(`#anchor-action-${t.id}`);e&&e.scrollIntoView({block:"center"})})})},onClickPrint(){this.print()}}},vt={};var Kn=s(Zn,Yn,Jn,!1,to,"633c4470",null,null);function to(t){for(let e in vt)this[e]=vt[e]}var eo=function(){return Kn.exports}(),po=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:eo});export{d as A,$ as C,y as I,po as P,ut as a,lt as b,hn as g};
