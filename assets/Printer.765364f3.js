var rt=Object.defineProperty,lt=Object.defineProperties;var ct=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var ut=Object.prototype.hasOwnProperty,pt=Object.prototype.propertyIsEnumerable;var y=(t,e,n)=>e in t?rt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,a=(t,e)=>{for(var n in e||(e={}))ut.call(e,n)&&y(t,n,e[n]);if(b)for(var n of b(e))pt.call(e,n)&&y(t,n,e[n]);return t},m=(t,e)=>lt(t,ct(e));import{A as dt}from"./View.c40cc634.js";import{n as r,B as $,_ as l,A as _,F as f,g as x,r as S,M as _t,t as w,p as vt,a as mt,D as A,b as O,c as ft,d as ht,e as gt,f as bt,k as yt}from"./index.67fd3a58.js";import{I}from"./TextButton.8a136169.js";import{I as d,D as s,a as v,B as $t}from"./TextField.bcd10360.js";import{A as xt,M as c,f as St}from"./Dialog.ca0be6c5.js";import{B as wt,a as At,I as Ot}from"./FileSelect.0a4fdd11.js";import{I as T}from"./CheckBox.9c65fd89.js";var It=function(){var t,e=this,n=e.$createElement,o=e._self._c||n;return o("base-generic-button",e._g({staticClass:"input-icon-button",class:(t={},t["color-"+e.color]=e.color,t)},e.$listeners),[o("i",[e._t("default",function(){return[e.svg?o(e.svg,{tag:"component"}):e._e()]})],2)])},Tt=[];const Ct={components:{BaseGenericButton:$},inheritAttrs:!1,props:{color:{type:String,default:"secondary"},svg:{type:[Object,Function],required:!1,default:null}}},C={};var Dt=r(Ct,It,Tt,!1,kt,"3a22583a",null,null);function kt(t){for(let e in C)this[e]=C[e]}var D=function(){return Dt.exports}(),h={barcode:()=>l(()=>import("./Barcode.2093bd38.js"),["assets/Barcode.2093bd38.js","assets/index.67fd3a58.js","assets/index.29fac79c.css","assets/vendor.b1428349.js","assets/devterm.eed8f68c.js","assets/buffer.89012e65.js","assets/CheckBox.9c65fd89.js","assets/CheckBox.82b15c7e.css","assets/TextField.bcd10360.js","assets/TextField.11f65af1.css","assets/Dialog.ca0be6c5.js","assets/Dialog.1893bfc8.css","assets/View.c40cc634.js","assets/TextButton.8a136169.js","assets/TextButton.63200045.css","assets/FileSelect.0a4fdd11.js","assets/FileSelect.5a9fa111.css"]),qrCode:()=>l(()=>Promise.resolve().then(function(){return Ke}),void 0),text:()=>l(()=>Promise.resolve().then(function(){return Me}),void 0),image:()=>l(()=>Promise.resolve().then(function(){return We}),void 0),feedPitch:()=>l(()=>Promise.resolve().then(function(){return sn}),void 0),setAlign:()=>l(()=>Promise.resolve().then(function(){return Gt}),void 0),setFont:()=>l(()=>Promise.resolve().then(function(){return Yt}),void 0),setLineSpace:()=>l(()=>Promise.resolve().then(function(){return se}),void 0),setWordGap:()=>l(()=>Promise.resolve().then(function(){return de}),void 0),setMargin:()=>l(()=>Promise.resolve().then(function(){return te}),void 0),setDensity:()=>l(()=>Promise.resolve().then(function(){return ge}),void 0)},Et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("app-dialog",t._g(t._b({ref:"dialog",staticClass:"action-dialog",attrs:{form:t.form,embed:""},scopedSlots:t._u([{key:"default",fn:function(){return[t._t("default")]},proxy:!0},{key:"buttons",fn:function(){return[n("input-text-button",{attrs:{type:t.form?"submit":"button",color:"primary",text:"Close"},on:{click:function(o){return t.$emit("close")}}})]},proxy:!0}],null,!0)},"app-dialog",t.$attrs,!1),t.$listeners))},Ft=[];const jt={components:{InputTextButton:I,AppDialog:xt},mixins:[c],inheritAttrs:!1,props:{form:{type:Boolean,default:!1}}},k={};var Mt=r(jt,Et,Ft,!1,Lt,"0be6849b",null,null);function Lt(t){for(let e in k)this[e]=k[e]}var u=function(){return Mt.exports}(),Pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("action-dialog",t._g(t._b({staticClass:"action-dialog-set-align",attrs:{title:"Set Align",form:""},on:{submit:t.onSubmit},scopedSlots:t._u([{key:"default",fn:function(){return[n("input-dropdown",{attrs:{label:t.label,value:String(t.value),options:t.options},on:{input:function(o){t.$emit("input",Number(o))}}})]},proxy:!0}])},"action-dialog",t.$attrs,!1),Object.assign({},t.$listeners,{input:[]})))},Rt=[];const Nt={components:{ActionDialog:u,InputDropdown:d},mixins:[c],inheritAttrs:!1,props:{value:{type:[Number,String],default:0}},data(){return{label:"Select align",options:[["Left",_.LEFT],["Center",_.CENTER],["Right",_.RIGHT]].map(([t,e])=>new s({title:t,value:String(e)}))}},methods:{onSubmit(t){t.preventDefault(),this.close()}}},E={};var Bt=r(Nt,Pt,Rt,!1,Vt,"a6463072",null,null);function Vt(t){for(let e in E)this[e]=E[e]}var F=function(){return Bt.exports}(),Gt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:F}),zt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("action-dialog",t._g(t._b({staticClass:"action-dialog-set-font",attrs:{title:"Set Font",form:""},on:{submit:t.onSubmit},scopedSlots:t._u([{key:"default",fn:function(){return[n("input-dropdown",{attrs:{label:t.label,options:t.options,value:String(t.value)},on:{input:function(o){return t.$emit("input",o)}}})]},proxy:!0}])},"action-dialog",t.$attrs,!1),Object.assign({},t.$listeners,{input:[]})))},Ht=[];const Ut={components:{ActionDialog:u,InputDropdown:d},mixins:[c],inheritAttrs:!1,props:{value:{type:[String,Number],default:0}},data(){return{label:"Select font",options:Object.keys(f).map(t=>new s({title:t,value:String(f[t])}))}},methods:{onSubmit(t){t.preventDefault(),this.close()}}},j={};var Xt=r(Ut,zt,Ht,!1,Wt,"4b289272",null,null);function Wt(t){for(let e in j)this[e]=j[e]}var M=function(){return Xt.exports}(),Yt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:M}),qt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("action-dialog",t._g(t._b({staticClass:"action-set-margin",attrs:{title:"Set Margin",form:""},on:{submit:t.onSubmit},scopedSlots:t._u([{key:"default",fn:function(){return[n("input-text-field",{attrs:{step:"0.01",max:"1",min:"0",type:"number",value:t.value,label:t.label},on:{input:function(o){return t.$emit("input",o||0)}}})]},proxy:!0}])},"action-dialog",t.$attrs,!1),Object.assign({},t.$listeners,{input:[]})))},Qt=[];const Jt={components:{ActionDialog:u,InputTextField:v},mixins:[c],inheritAttrs:!1,props:{value:{type:[Number,String],default:0}},data(){return{label:"Set Margin"}},methods:{onSubmit(t){t.preventDefault(),this.close()}}},L={};var Zt=r(Jt,qt,Qt,!1,Kt,"769021e6",null,null);function Kt(t){for(let e in L)this[e]=L[e]}var P=function(){return Zt.exports}(),te=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:P}),ee=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("action-dialog",t._g(t._b({staticClass:"action-set-line-space",attrs:{title:"Set Line Space",form:""},on:{submit:t.onSubmit},scopedSlots:t._u([{key:"default",fn:function(){return[n("input-text-field",{attrs:{step:"1",min:"0",type:"number",value:t.value,label:t.label},on:{input:function(o){return t.$emit("input",t.$even||0)}}})]},proxy:!0}])},"action-dialog",t.$attrs,!1),Object.assign({},t.$listeners,{input:[]})))},ne=[];const oe={components:{ActionDialog:u,InputTextField:v},mixins:[c],inheritAttrs:!1,props:{value:{type:[Number,String],default:0}},data(){return{label:"Set Line-space"}},methods:{onSubmit(t){t.preventDefault(),this.close()}}},R={};var ie=r(oe,ee,ne,!1,ae,"e3e78b5c",null,null);function ae(t){for(let e in R)this[e]=R[e]}var N=function(){return ie.exports}(),se=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:N}),re=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("action-dialog",t._g(t._b({staticClass:"action-set-word-gap",attrs:{title:"Set Word Gap",form:""},on:{submit:t.onSubmit},scopedSlots:t._u([{key:"default",fn:function(){return[n("input-text-field",{attrs:{step:"1",min:"0",type:"number",value:t.value,label:t.label},on:{input:function(o){return t.$emit("input",o||0)}}})]},proxy:!0}])},"action-dialog",t.$attrs,!1),Object.assign({},t.$listeners,{input:[]})))},le=[];const ce={components:{ActionDialog:u,InputTextField:v},mixins:[c],inheritAttrs:!1,props:{value:{type:[Number,String],default:0}},data(){return{label:"Set Word-Gap"}},methods:{onSubmit(t){t.preventDefault(),this.close()}}},B={};var ue=r(ce,re,le,!1,pe,"33430204",null,null);function pe(t){for(let e in B)this[e]=B[e]}var V=function(){return ue.exports}(),de=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:V}),_e=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("action-dialog",t._g(t._b({staticClass:"action-set-density",attrs:{title:"Set Density",form:""},on:{submit:t.onSubmit},scopedSlots:t._u([{key:"default",fn:function(){return[n("input-dropdown",{attrs:{label:t.label,options:t.options,value:t.value},on:{input:function(o){return t.$emit("input",o)}}})]},proxy:!0}])},"action-dialog",t.$attrs,!1),Object.assign({},t.$listeners,{input:[]})))},ve=[];const me={components:{ActionDialog:u,InputDropdown:d},mixins:[c],inheritAttrs:!1,props:{value:{type:[Number,String],default:0}},data(){return{label:"Set Density",options:Array(15).fill("").map((t,e)=>new s(String(e+1)))}},methods:{onSubmit(t){t.preventDefault(),this.close()}}},G={};var fe=r(me,_e,ve,!1,he,"35dd931d",null,null);function he(t){for(let e in G)this[e]=G[e]}var z=function(){return fe.exports}(),ge=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:z}),be=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("base-tab-container",t._b({staticClass:"app-tab-container",attrs:{"transition-name":"fade"},scopedSlots:t._u([t._l(t.$scopedSlots,function(o,i){return{key:i,fn:function(p){return[t._t(i,null,null,Object.assign({},p,(o()[0].componentOptions||{}).propsData))]}}})],null,!0)},"base-tab-container",t.$attrs,!1))},ye=[];const $e={components:{BaseTabContainer:wt},inheritAttrs:!1},H={};var xe=r($e,be,ye,!1,Se,"1e37c05f",null,null);function Se(t){for(let e in H)this[e]=H[e]}var we=function(){return xe.exports}(),Ae=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("base-input-label",{staticClass:"input-text-box",attrs:{text:t.label,delimiter:t.$attrs.delimiter||void 0,"top-label":t.$attrs["top-label"],"baseline-label":t.$attrs["baseline-label"]}},[n("textarea",t._b({domProps:{value:t.value},on:{input:t.onInput}},"textarea",t.$attrs,!1))])},Oe=[];const Ie={components:{BaseInputLabel:$t},inheritAttrs:!1,props:{label:{type:String,default:"TextBox"},topLabel:{type:Boolean,default:!0},value:{type:String,default:""}},methods:{onInput(t){this.$emit("input",t.target.value)}}},U={};var Te=r(Ie,Ae,Oe,!1,Ce,"beec945e",null,null);function Ce(t){for(let e in U)this[e]=U[e]}var g=function(){return Te.exports}(),De=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("action-dialog",t._g(t._b({staticClass:"action-dialog-text",attrs:{title:"Text",form:""},on:{submit:t.onSubmit},scopedSlots:t._u([{key:"default",fn:function(){return[n("app-tab-container",{staticClass:"tab-container",scopedSlots:t._u([{key:"general",fn:function(o){return[n("base-tab-container-content",t._b({attrs:{title:"General"}},"base-tab-container-content",o,!1),[n("input-text-box",{staticClass:"input",attrs:{placeholder:"Enter Text",label:null,rows:"10"},model:{value:t.model.text,callback:function(i){t.$set(t.model,"text",i)},expression:"model.text"}}),n("div",{staticClass:"footer"},[n("span",[t._v("Rows: "),n("span",[t._v(t._s(t.model.text.split(`
`).length)+"; Count: "+t._s(t.model.text.length))])])])],1)]}},{key:"options",fn:function(o){return[n("base-tab-container-content",t._b({attrs:{title:"Options"}},"base-tab-container-content",o,!1),[n("input-drop-down",{attrs:{label:"Family",options:t.fontOptions},on:{input:t.onInputFontFamily},model:{value:t.model.options.fontFamily,callback:function(i){t.$set(t.model.options,"fontFamily",i)},expression:"model.options.fontFamily"}}),n("input-drop-down",{attrs:{label:"Variante",options:t.variantOptions},on:{input:t.onInputVariante},model:{value:t.variant,callback:function(i){t.variant=i},expression:"variant"}}),n("input-drop-down",{attrs:{label:"Align",options:t.alignOptions},on:{input:function(i){t.model.options.align=Number(i)}},model:{value:t.model.options.align,callback:function(i){t.$set(t.model.options,"align",i)},expression:"model.options.align"}}),n("input-text-field",{attrs:{step:"1",min:"0",type:"number",value:t.model.options.fontSize,label:"Font Size"},on:{input:function(i){t.model.options.fontSize=i||0}}}),n("input-text-field",{attrs:{step:"1",min:"0",type:"number",value:t.model.options.wordGap,label:"Word Gap"},on:{input:function(i){t.model.options.wordGap=i||0}}}),n("input-text-field",{attrs:{step:"1",min:"0",type:"number",value:t.model.options.lineSpace,label:"Line Space"},on:{input:function(i){t.model.options.lineSpace=i||0}}})],1)]}}])})]},proxy:!0}])},"action-dialog",t.$attrs,!1),Object.assign({},t.$listeners,{input:[]})))},ke=[];const Ee={components:{ActionDialog:u,AppTabContainer:we,BaseTabContainerContent:At,InputTextBox:g,InputTextField:v,InputDropDown:d},mixins:[c],inheritAttrs:!1,props:{value:{type:Object,default(){return et()}}},data(){const t=this.$config.fonts;return{variant:null,fonts:t,updateTimeout:null,model:a({},this.value),alignOptions:[["Left",_.LEFT],["Center",_.CENTER],["Right",_.RIGHT]].map(([e,n])=>new s({title:e,value:String(n)})),fontOptions:[{title:"Select Font",value:""}].concat(this.$config.fonts.map(e=>new s(e.name)))}},computed:{currentFont(){return this.$config.fonts.find(t=>t.name===this.model.options.fontFamily)},variantOptions(){return this.currentFont?this.currentFont.variants.map(({weight:t,italic:e},n)=>new s({title:String(t),group:e?"Iatlic":"Normal",value:n})):[]}},watch:{variant(t){const{weight:e,italic:n}=this.currentFont.variants[Number(t)];this.model.options=m(a({},this.model.options),{weight:e,italic:n})},model:{handler(){window.clearTimeout(this.updateTimeout),this.updateTimeout=window.setTimeout(()=>{this.$emit("input",a({},this.model))},500)},deep:!0}},methods:{onInputFontFamily(){this.variant=0},onInputVariante(){},onInput(t){this.$emit("input",t)},onSubmit(t){t.preventDefault(),this.close()}}},X={};var Fe=r(Ee,De,ke,!1,je,"62489cf0",null,null);function je(t){for(let e in X)this[e]=X[e]}var W=function(){return Fe.exports}(),Me=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:W}),Le=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("action-dialog",t._g(t._b({staticClass:"action-dialog-native-text",attrs:{title:"Text",form:""},on:{submit:t.onSubmit},scopedSlots:t._u([{key:"default",fn:function(){return[n("input-text-box",{staticClass:"input",attrs:{placeholder:"Enter Text",label:null,value:t.value,rows:"10"},on:{input:t.onInput}}),n("div",{staticClass:"footer"},[n("span",[t._v("Rows: "),n("span",[t._v(t._s(t.value.split(`
`).length)+"; Count: "+t._s(t.value.length))])])])]},proxy:!0}])},"action-dialog",t.$attrs,!1),Object.assign({},t.$listeners,{input:[]})))},Pe=[];const Re={components:{ActionDialog:u,InputTextBox:g},mixins:[c],inheritAttrs:!1,props:{value:{type:String,default:""}},methods:{onInput(t){this.$emit("input",t)},onSubmit(t){t.preventDefault(),this.close()}}},Y={};var Ne=r(Re,Le,Pe,!1,Be,"509b7a71",null,null);function Be(t){for(let e in Y)this[e]=Y[e]}var Ve=function(){return Ne.exports}(),Ge=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("action-dialog",t._g(t._b({staticClass:"action-dialog-image",attrs:{title:"Image",form:""},on:{submit:t.onSubmit},scopedSlots:t._u([{key:"default",fn:function(){return[t.previewDataUrl?n("div",{staticClass:"preview"},[n("img",{attrs:{src:t.previewDataUrl}})]):t._e(),n("input-file-select",{attrs:{label:"File"},on:{input:t.onInputFileSelect}}),n("div",{staticClass:"cols"},[n("div",[n("input-check-box",{attrs:{label:"Grayscale"},model:{value:t.model.imageOptions.grayscale,callback:function(o){t.$set(t.model.imageOptions,"grayscale",o)},expression:"model.imageOptions.grayscale"}})],1),n("div",[n("input-check-box",{attrs:{label:"Rotate"},model:{value:t.model.imageOptions.rotate,callback:function(o){t.$set(t.model.imageOptions,"rotate",o)},expression:"model.imageOptions.rotate"}})],1),n("div",[n("input-check-box",{attrs:{label:"Flip X"},model:{value:t.model.imageOptions.flipX,callback:function(o){t.$set(t.model.imageOptions,"flipX",o)},expression:"model.imageOptions.flipX"}})],1),n("div",[n("input-check-box",{attrs:{label:"Flip Y"},model:{value:t.model.imageOptions.flipY,callback:function(o){t.$set(t.model.imageOptions,"flipY",o)},expression:"model.imageOptions.flipY"}})],1)]),n("input-text-field",{attrs:{type:"number",min:"1",step:"1",label:"width",placeholder:"Size from Image (max. 384px)"},model:{value:t.model.imageOptions.width,callback:function(o){t.$set(t.model.imageOptions,"width",o)},expression:"model.imageOptions.width"}})]},proxy:!0}])},"action-dialog",t.$attrs,!1),Object.assign({},t.$listeners,{input:[]})))},ze=[];const He={components:{ActionDialog:u,InputCheckBox:T,InputTextField:v,InputFileSelect:Ot},mixins:[c],inheritAttrs:!1,props:{colors:{type:Object,default(){return{primary:[255,0,0],secondary:[0,255,0]}}},value:{type:Object,default(){return nt()}}},data(){return{updateTimeout:null,previewDataUrl:null,model:a({},this.value)}},watch:{model:{handler(){window.clearTimeout(this.updateTimeout),this.updateTimeout=window.setTimeout(()=>{this.render(),this.$emit("input",a({},this.model))},500)},deep:!0},colors(){this.render()}},mounted(){this.render()},methods:{onInput(t){this.$emit("input",t)},async onInputFileSelect(t){if(t){const e=await new Promise(n=>{const o=new FileReader;o.onload=i=>n(i.target.result),o.readAsDataURL(t)});this.updateCanvas(e)}else this.previewDataUrl=null},async updateCanvas(t){let e=await x(t);e=S(e,_t),this.model=m(a({},this.model),{file:w(e)}),this.render()},async render(){let t=await x(this.model.file);t=vt(t,this.model.imageOptions),t=mt(t,this.colors),t=S(t,null,100),this.previewDataUrl=w(t)},async loadFromUrl(){try{await this.updateCanvas(this.url)}catch(t){console.error(t)}},onSubmit(t){t.preventDefault(),this.close()}}},q={};var Ue=r(He,Ge,ze,!1,Xe,"384b47b3",null,null);function Xe(t){for(let e in q)this[e]=q[e]}var Q=function(){return Ue.exports}(),We=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Q}),Ye=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("action-dialog",t._g(t._b({staticClass:"action-dialog-qr-code",attrs:{title:"QR Code",form:""},on:{submit:t.onSubmit},scopedSlots:t._u([{key:"default",fn:function(){return[n("input-text-box",{attrs:{label:"Text","baseline-label":""},model:{value:t.model.text,callback:function(o){t.$set(t.model,"text",o)},expression:"model.text"}}),n("hr"),n("input-drop-down",{attrs:{options:t.errorCorrectionLevelOptions,label:"Correc. Lev."},model:{value:t.model.options.errorCorrectionLevel,callback:function(o){t.$set(t.model.options,"errorCorrectionLevel",o)},expression:"model.options.errorCorrectionLevel"}}),n("div",{staticClass:"cols"},[n("div",[n("input-text-field",{attrs:{value:t.model.options.margin,type:"number",label:"Margin",step:"1",min:"0"},on:{input:function(o){t.model.options.margin=o||0}}})],1),n("div",[n("input-text-field",{attrs:{value:t.model.options.scale,type:"number",label:"Scale",step:"1",min:"0"},on:{input:function(o){t.model.options.scale=o||0}}})],1)]),n("hr"),n("div",{staticClass:"cols"},[n("div",[n("input-check-box",{attrs:{label:"Small"},model:{value:t.model.options.small,callback:function(o){t.$set(t.model.options,"small",o)},expression:"model.options.small"}})],1),n("div",[n("input-check-box",{attrs:{label:"Rotate"},model:{value:t.model.imageOptions.rotate,callback:function(o){t.$set(t.model.imageOptions,"rotate",o)},expression:"model.imageOptions.rotate"}})],1),n("div",[n("input-check-box",{attrs:{label:"Flip X"},model:{value:t.model.imageOptions.flipX,callback:function(o){t.$set(t.model.imageOptions,"flipX",o)},expression:"model.imageOptions.flipX"}})],1),n("div",[n("input-check-box",{attrs:{label:"Flip Y"},model:{value:t.model.imageOptions.flipY,callback:function(o){t.$set(t.model.imageOptions,"flipY",o)},expression:"model.imageOptions.flipY"}})],1)]),n("input-text-field",{attrs:{type:"number",min:"1",step:"1",label:"width",placeholder:"Size from Image (max. 384px)"},model:{value:t.model.imageOptions.width,callback:function(o){t.$set(t.model.imageOptions,"width",o)},expression:"model.imageOptions.width"}})]},proxy:!0}])},"action-dialog",t.$attrs,!1),Object.assign({},t.$listeners,{input:[]})))},qe=[];const Qe={components:{ActionDialog:u,InputCheckBox:T,InputDropDown:d,InputTextField:v,InputTextBox:g},mixins:[c],inheritAttrs:!1,props:{colors:{type:Object,default(){return{primary:[255,0,0],secondary:[0,255,0]}}},value:{type:Object,default(){return ot()}}},data(){return{type:"text",model:a({},this.value),errorCorrectionLevelOptions:[["Low","L"],["Medium","M"],["Quartile","Q"],["High","H"]].map(([t,e])=>new s({title:t,value:e})),typeOptions:[["Text","text"],["Url","url"]].map(([t,e])=>new s({title:t,value:e}))}},watch:{model:{handler(){window.clearTimeout(this.updateTimeout),this.updateTimeout=window.setTimeout(()=>{this.$emit("input",a({},this.model))},500)},deep:!0}},methods:{onSubmit(t){t.preventDefault(),this.close()}}},J={};var Je=r(Qe,Ye,qe,!1,Ze,"12ee8e87",null,null);function Ze(t){for(let e in J)this[e]=J[e]}var Z=function(){return Je.exports}(),Ke=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Z}),tn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("action-dialog",t._g(t._b({staticClass:"action-dialog-feed-pitch",attrs:{title:"Feed Pitch",form:""},on:{submit:t.onSubmit},scopedSlots:t._u([{key:"default",fn:function(){return[n("input-dropdown",{attrs:{label:"By",options:t.options},model:{value:t.model.type,callback:function(o){t.$set(t.model,"type",o)},expression:"model.type"}}),n("input-text-field",{attrs:{value:t.model.value,step:"1",max:"100",min:"0",type:"number",label:"Value"},on:{input:function(o){t.model.value=o||0}}})]},proxy:!0}])},"action-dialog",t.$attrs,!1),Object.assign({},t.$listeners,{input:[]})))},en=[];const nn={components:{ActionDialog:u,InputDropdown:d,InputTextField:v},mixins:[c],inheritAttrs:!1,props:{value:{type:Object,default(){return{type:"font",value:0}}}},data(){return{label:"Select align",options:[["Pixel","pixel"],["Font-Size","font"]].map(([t,e])=>new s({title:t,value:e})),model:a({},this.value)}},watch:{model:{handler(){this.$emit("input",this.model)},deep:!0}},methods:{onSubmit(t){t.preventDefault(),this.close()}}},K={};var on=r(nn,tn,en,!1,an,"3b4b732e",null,null);function an(t){for(let e in K)this[e]=K[e]}var tt=function(){return on.exports}(),sn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:tt});const rn=()=>[new s({title:"Add new Action\u2026",value:""}),new s({title:"Set Margin",value:"setMargin"}),new s({title:"Set Font",value:"setFont"}),new s({title:"Set Align",value:"setAlign"}),new s({title:"Set Density",value:"setDensity"}),new s({title:"Set LineSpace",value:"setLineSpace"}),new s({title:"Set WordGap",value:"setWordGap"}),new s({title:"Feed Pitch",value:"feedPitch"}),new s({title:"Reset",value:"reset"}),new s({title:"Image",value:"image"}),new s({title:"QRCode",value:"qrCode"}),new s({title:"Barcode",value:"barcode"}),new s({title:"Text",value:"text"}),new s({title:"NativeText",value:"nativeText"}),new s({title:"Cutline",value:"cutLine"})];console.log("DEFAULT_DENSITY",A);const ln=t=>({setMargin:P,setAlign:F,setFont:M,setDensity:z,text:W,nativeText:Ve,image:Q,qrCode:Z,setLineSpace:N,setWordGap:V,feedPitch:tt})[t],cn=t=>{let e;switch(t){case"setLineSpace":e=0;break;case"setWordGap":e=0;break;case"setMargin":e=0;break;case"setFont":e=f.SIZE_8_16_THIN_1;break;case"setAlign":e=_.LEFT;break;case"feedPitch":e={value:1,type:"font"};break;case"text":e=et();break;case"nativeText":e="Text";break;case"image":e=nt();break;case"qrCode":e=ot();break;case"barcode":e=_n();break}return new ht({type:t,value:e})},un=t=>{const e=O();return t.map(n=>dn(n,e)).filter(Boolean)},pn=t=>Array(ft[t]).fill("").map((e,n)=>n%2==0?"=":"-").join(""),dn=(t,e)=>{switch(t.type){case"setMargin":e.margin=t.value;break;case"setAlign":e.align=t.value;break;case"setLineSpace":e.lineSpace=t.value;break;case"setWordGap":e.wordGap=t.value;break;case"setFont":e.font=Number(t.value);break;case"setDensity":e.density=Number(t.value);break;case"reset":Object.assign(e,O());break;case"cutLine":return{id:t.id,component:()=>l(()=>import("./TextCanvas.65ce93eb.js"),["assets/TextCanvas.65ce93eb.js","assets/TextCanvas.503ce964.css","assets/index.67fd3a58.js","assets/index.29fac79c.css","assets/vendor.b1428349.js","assets/devterm.eed8f68c.js","assets/buffer.89012e65.js","assets/View.c40cc634.js","assets/TextButton.8a136169.js","assets/TextButton.63200045.css","assets/TextField.bcd10360.js","assets/TextField.11f65af1.css","assets/Dialog.ca0be6c5.js","assets/Dialog.1893bfc8.css","assets/FileSelect.0a4fdd11.js","assets/FileSelect.5a9fa111.css","assets/CheckBox.9c65fd89.js","assets/CheckBox.82b15c7e.css"]),options:m(a({},e),{margin:0,wordGap:0,lineSpace:0,density:A}),props:{value:pn(e.font)}};case"barcode":return{id:t.id,component:()=>l(()=>import("./BarcodeCanvas.5a23ce70.js"),["assets/BarcodeCanvas.5a23ce70.js","assets/BarcodeCanvas.bb682541.css","assets/index.67fd3a58.js","assets/index.29fac79c.css","assets/vendor.b1428349.js","assets/devterm.eed8f68c.js","assets/buffer.89012e65.js","assets/TextCanvas.65ce93eb.js","assets/TextCanvas.503ce964.css","assets/View.c40cc634.js","assets/TextButton.8a136169.js","assets/TextButton.63200045.css","assets/TextField.bcd10360.js","assets/TextField.11f65af1.css","assets/Dialog.ca0be6c5.js","assets/Dialog.1893bfc8.css","assets/FileSelect.0a4fdd11.js","assets/FileSelect.5a9fa111.css","assets/CheckBox.9c65fd89.js","assets/CheckBox.82b15c7e.css"]),options:a({},e),props:a({},t)};case"qrCode":return{id:t.id,component:()=>l(()=>import("./QrCodeCanvas.b8403801.js"),["assets/QrCodeCanvas.b8403801.js","assets/QrCodeCanvas.51d70edd.css","assets/index.67fd3a58.js","assets/index.29fac79c.css","assets/vendor.b1428349.js","assets/devterm.eed8f68c.js","assets/buffer.89012e65.js","assets/TextCanvas.65ce93eb.js","assets/TextCanvas.503ce964.css","assets/View.c40cc634.js","assets/TextButton.8a136169.js","assets/TextButton.63200045.css","assets/TextField.bcd10360.js","assets/TextField.11f65af1.css","assets/Dialog.ca0be6c5.js","assets/Dialog.1893bfc8.css","assets/FileSelect.0a4fdd11.js","assets/FileSelect.5a9fa111.css","assets/CheckBox.9c65fd89.js","assets/CheckBox.82b15c7e.css"]),options:a({},e),props:a({},t)};case"image":return{id:t.id,component:()=>l(()=>import("./ImageCanvas.f940367b.js"),["assets/ImageCanvas.f940367b.js","assets/ImageCanvas.691ee703.css","assets/index.67fd3a58.js","assets/index.29fac79c.css","assets/vendor.b1428349.js","assets/devterm.eed8f68c.js","assets/buffer.89012e65.js","assets/TextCanvas.65ce93eb.js","assets/TextCanvas.503ce964.css","assets/View.c40cc634.js","assets/TextButton.8a136169.js","assets/TextButton.63200045.css","assets/TextField.bcd10360.js","assets/TextField.11f65af1.css","assets/Dialog.ca0be6c5.js","assets/Dialog.1893bfc8.css","assets/FileSelect.0a4fdd11.js","assets/FileSelect.5a9fa111.css","assets/CheckBox.9c65fd89.js","assets/CheckBox.82b15c7e.css"]),options:a({},e),props:a({},t)};case"text":return{id:t.id,component:()=>l(()=>import("./TextCanvas.65ce93eb.js"),["assets/TextCanvas.65ce93eb.js","assets/TextCanvas.503ce964.css","assets/index.67fd3a58.js","assets/index.29fac79c.css","assets/vendor.b1428349.js","assets/devterm.eed8f68c.js","assets/buffer.89012e65.js","assets/View.c40cc634.js","assets/TextButton.8a136169.js","assets/TextButton.63200045.css","assets/TextField.bcd10360.js","assets/TextField.11f65af1.css","assets/Dialog.ca0be6c5.js","assets/Dialog.1893bfc8.css","assets/FileSelect.0a4fdd11.js","assets/FileSelect.5a9fa111.css","assets/CheckBox.9c65fd89.js","assets/CheckBox.82b15c7e.css"]),options:a({},e),props:a({},t)};case"nativeText":return{id:t.id,component:()=>l(()=>import("./NativeTextCanvas.040ce5e0.js"),["assets/NativeTextCanvas.040ce5e0.js","assets/NativeTextCanvas.f4ff4905.css","assets/index.67fd3a58.js","assets/index.29fac79c.css","assets/vendor.b1428349.js","assets/devterm.eed8f68c.js","assets/buffer.89012e65.js"]),options:a({},e),props:a({},t)};case"feedPitch":return{id:t.id,component:()=>l(()=>import("./FeedPitch.87a25343.js"),["assets/FeedPitch.87a25343.js","assets/FeedPitch.3c536760.css","assets/index.67fd3a58.js","assets/index.29fac79c.css","assets/vendor.b1428349.js","assets/devterm.eed8f68c.js","assets/buffer.89012e65.js"]),options:a({},e),props:a({},t.value)}}return null},et=()=>({text:"Sample",options:{fontSize:16,align:"left",lineSpace:0,wordGap:0,margin:0,fontFamily:null,color:"#000",weight:400,italic:!1}}),nt=()=>({file:null,imageOptions:{grayscale:!1,rotate:!1,flipX:!1,flipY:!1,width:null}}),ot=()=>({text:"Sample",options:{errorCorrectionLevel:"M",margin:0,scale:4,small:!1},imageOptions:{rotate:!1,flipX:!1,flipY:!1,width:null}}),_n=()=>({text:"Sample",options:{format:"",height:100,font:"monospace",textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,margin:10,displayValue:!0,flat:!1},imageOptions:{rotate:!1,flipX:!1,flipY:!1,width:null}});var vn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M22 16v-2h-2v-2h-2v-2h-2V8h-2V6h-4v2H8v2H6v2H4v2H2v2H0v2h24v-2z"}})])},mn={render:vn},fn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M22 8v2h-2v2h-2v2h-2v2h-2v2h-4v-2H8v-2H6v-2H4v-2H2V8H0V6h24v2z"}})])},hn={render:fn},gn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M2.1 4.9L9.2 12l-7.1 7.1 2.8 2.8 7.1-7.1 7.1 7.1 2.8-2.8-7.1-7.1 7.1-7.1-2.8-2.8L12 9.2 4.9 2.1z"}})])},bn={render:gn},yn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._g({staticClass:"controls-action-item",class:{focus:t.focus||t.selected,property:t.property,"can-select":t.canSelect},attrs:{focusable:""}},t.$listeners),[n("div",{staticClass:"head"},[n("base-generic-button",{staticClass:"title",on:{click:t.onClick}},[n("span",[t._v(t._s(t.display.title)+t._s(t.display.value?":":""))]),t.display.value?n("span",[t._v(t._s(t.display.value))]):t._e()]),t.$slots.head?n("div",[t._t("head")],2):t._e()],1)])},$n=[];const xn={components:{BaseGenericButton:$},props:{itemStates:{type:Object,default(){return{id:!1}}},canSelect:{type:Boolean,default:!1},id:{type:String,default:"id"},focus:{type:Boolean,default:!1},property:{type:Boolean,default:!1},display:{type:Object,default(){return{title:"Action Item",value:"Action Item Value"}}}},computed:{selected(){return this.itemStates[this.id]}},methods:{onClick(){this.canSelect&&this.$emit("select",this.id)}}},it={};var Sn=r(xn,yn,$n,!1,wn,"4923e813",null,null);function wn(t){for(let e in it)this[e]=it[e]}var An=function(){return Sn.exports}(),On=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"actions",class:{"action-active":t.selectedAction,drag:t.isDrag}},[n("div",{ref:"list",staticClass:"list"},[n("div",{on:{dragover:t.allowDrop,drop:t.onDrop}},[n("transition-group",{attrs:{name:t.isDrag?null:"flip-list",tag:"ul"}},t._l(t.model,function(o,i){return n("li",{key:o.id,attrs:{id:"anchor-action-item-"+o.id}},[t.ACTION_DEFINITIONS[o.type]?n("action-item",{attrs:{id:o.id,property:t.ACTION_DEFINITIONS[o.type].property,display:t.ACTION_DEFINITIONS[o.type].display(o.value),"can-select":!!t.ACTION_DIALOGS[o.type],"item-states":t.itemStates,"data-id":o.id,draggable:!t.itemStates[o.id],focus:t.dragTargetId===o.id&&o.id!==t.dragId},on:{select:function(p){return t.onSelectAction(o.id)},dragstart:t.onDragStart},scopedSlots:t._u([{key:"head",fn:function(){return[n("div",{staticClass:"action-controls"},[n("span",{staticClass:"index"},[t._v(t._s(i+1))]),n("input-icon-button",{on:{click:function(p){return t.onClickActionUp(i)}}},[n("svg-icon-arrow-up")],1),n("input-icon-button",{on:{click:function(p){return t.onClickActionDown(i)}}},[n("svg-icon-arrow-down")],1),n("input-icon-button",{on:{click:function(p){return t.onClickActionDelete(i)}}},[n("svg-icon-trash")],1)],1)]},proxy:!0}],null,!0)}):n("span",[t._v(" Action "+t._s(o.type)+" not defined\u2026 ")])],1)}),0)],1)]),n("div",{staticClass:"add-action"},[n("input-drop-down",{attrs:{options:t.actionTypeOptions,label:null},model:{value:t.createAction,callback:function(o){t.createAction=o},expression:"createAction"}})],1),t.selectedAction?n(t.dialogComponent,{ref:"dialog",tag:"component",attrs:{colors:t.colors,value:t.selectedAction.value},on:{input:function(o){return t.updateAction(t.selectedAction,o)},ready:t.onReadyDialog,close:t.onCloseDialog}}):t._e()],1)},In=[];const Tn={components:{SvgIconArrowUp:mn,SvgIconArrowDown:hn,SvgIconTrash:bn,InputIconButton:D,InputDropDown:d,ActionItem:An},props:{value:{type:Array,default(){return[]}},colors:{type:Object,default(){return{}}}},data(){return{ACTION_DEFINITIONS:gt,ACTION_DIALOGS:h,getComponentByType:ln,selectedActionId:null,createAction:null,actionTypeOptions:rn(),itemStates:{},isDrag:!1,dragId:null,dragTargetId:null,model:[...this.value]}},computed:{selectedAction(){return this.model.find(t=>t.id===this.selectedActionId)},dialogComponent(){return this.selectedAction&&h[this.selectedAction.type]}},watch:{value(t){this.model=[...t]},model:{handler(t){this.itemStates=Object.fromEntries(t.map(({id:e})=>[e,!1]))},immediate:!0},selectedAction(t,e){const n=a({},this.itemStates);e&&(n[e.id]=!1),t&&(n[t.id]=!0),this.itemStates=n,this.$emit("selectAction",t)},createAction(t){if(t){const e=cn(t);this.updateModel([].concat(this.model,e)),this.$nextTick(()=>{this.createAction="",this.selectedActionId=null;const n=this.$refs.list.querySelector(`#anchor-action-item-${e.id}`);n&&n.scrollIntoView({block:"center"}),!!h[e.type]&&window.setTimeout(()=>{this.selectedActionId=e.id},600)})}}},mounted(){this.subscriptions=[bt(window,"dragenter").subscribe(t=>{if(t.target.closest("li [data-id]")){const e=t.target.closest("li [data-id]");this.dragTargetId=e.dataset.id}})]},destroyed(){this.subscriptions.forEach(t=>t.unsubscribe())},methods:{onReadyDialog(){this.$nextTick(()=>{this.$refs.dialog.show()})},onCloseDialog(){this.selectedActionId=null},onSelectAction(t){t?this.selectedActionId=t:this.selectedActionId=null},updateModel(t){this.model=[...t],this.$emit("input",[...t])},updateAction(t,e){const n=this.model,o=n.indexOf(t);n[o]=m(a({},n[o]),{value:e}),this.updateModel(n)},onClickActionDelete(t){const e=[].concat(this.model);this.updateModel([...e.slice(0,t||0),...e.slice(t+1)])},onClickActionUp(t){const e=[].concat(this.model),n=e[Math.max(t-1,0)];e[Math.max(t-1,0)]=e[t],e[t]=n,this.updateModel(e)},onClickActionDown(t){const e=[].concat(this.model),n=this.model[Math.min(t+1,e.length-1)];e[Math.min(t+1,e.length-1)]=e[t],e[t]=n,this.updateModel(e)},onDragStart(t){window.setTimeout(()=>{this.dragId=t.target.dataset.id,this.isDrag=!0},100)},onDrop(t){let e=[].concat(this.model);const n=e.indexOf(e.find(p=>p.id===this.dragTargetId)),o=e.indexOf(e.find(p=>p.id===this.dragId)),i=e.splice(o,1);o>n?e=[...e.slice(0,n+1),...i,...e.slice(n+1)]:e=[...e.slice(0,n),...i,...e.slice(n)],this.dragId=null,this.dragTargetId=null,this.isDrag=!1,this.updateModel(e)},allowDrop(t){t.preventDefault()}}},at={};var Cn=r(Tn,On,In,!1,Dn,"7df5142f",null,null);function Dn(t){for(let e in at)this[e]=at[e]}var kn=function(){return Cn.exports}(),En=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("app-view",{staticClass:"view-printer",style:t.style},[n("div",{key:JSON.stringify(t.colors),staticClass:"printer-preview"},[n("div",[n("div",{class:{"has-selected":t.selectedAction}},t._l(t.previewItems,function(o,i){return n("div",{key:i,class:{selected:t.selectedAction&&t.selectedAction.id===o.id},attrs:{id:"anchor-action-"+o.id}},[n(o.component,t._b({key:JSON.stringify(o.options),tag:"component",attrs:{options:o.options,colors:t.colors}},"component",o.props,!1))],1)}),0)]),n("input-text-button",{staticClass:"print-button",attrs:{color:"primary"},on:{click:t.onClickPrint}},[t._v(" Print ")]),n("transition",{attrs:{name:"fade"}},[t.loading?n("div",{staticClass:"layer-loading"},[t._v(" Loading ")]):t._e()])],1),n("actions",{staticClass:"printer-actions",attrs:{colors:t.colors},on:{selectAction:function(o){t.selectedAction=o}},model:{value:t.actions,callback:function(o){t.actions=o},expression:"actions"}}),t.actions.length<1?n("div",{staticClass:"actions-empty"},[t._v(" Add a Action! ")]):t._e()],1)},Fn=[];const jn={components:{AppView:dt,InputIconButton:D,InputTextButton:I,InputDropDown:d,Actions:kn},props:{colors:{type:Object,default(){return{primary:[255,204,0],secondary:[0,0,0],printer:{preview:{background:[0,0,0],foreground:[255,204,0]}}}}},value:{type:Array,default(){return[]}}},data(){return{actions:[].concat(this.value),previewItems:[],loading:!0,selectedAction:null}},computed:{style(){return{"--color-printer-preview-background":`rgb(${this.colors.printer.preview.background.join(",")})`,"--color-printer-preview-foreground":`rgb(${this.colors.printer.preview.foreground.join(",")})`}}},watch:{value(t){this.actions=t},actions(){this.render(),this.$emit("input",this.actions)},selectedAction(t){if(t){const e=document.querySelector(`#anchor-action-${t.id}`);this.$nextTick(()=>{window.requestAnimationFrame(()=>{e&&e.scrollIntoView({block:"center",behavior:"smooth"})})})}}},mounted(){this.render(),this.subscriptions=[yt.pipe(St(({key:t})=>t==="PrintScreen")).subscribe(()=>this.print())]},destroyed(){this.subscriptions.forEach(t=>t.unsubscribe())},methods:{render(){this.actions.length?(this.loading=!0,window.clearTimeout(this.renderTimeout),this.renderTimeout=window.setTimeout(async()=>{this.previewItems=await un(this.actions),console.log(this.actions,this.previewItems,this.previewItems.find(t=>!t)),this.$nextTick(()=>{this.loading=!1})},500)):this.previewItems=[]},print(){return this.$client.executeActions(this.actions)},onClickPrint(){this.print()}}},st={};var Mn=r(jn,En,Fn,!1,Ln,"7b7ee105",null,null);function Ln(t){for(let e in st)this[e]=st[e]}var Pn=function(){return Mn.exports}(),Xn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Pn});export{u as A,g as I,Xn as P,_n as a,ot as b,et as g};
