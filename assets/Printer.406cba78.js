var $=Object.defineProperty,T=Object.defineProperties;var x=Object.getOwnPropertyDescriptors;var p=Object.getOwnPropertySymbols;var C=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var _=(e,t,n)=>t in e?$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,s=(e,t)=>{for(var n in t||(t={}))C.call(t,n)&&_(e,n,t[n]);if(p)for(var n of p(t))k.call(t,n)&&_(e,n,t[n]);return e},c=(e,t)=>T(e,x(t));import{A as E}from"./View.376899ee.js";import{n as l,B as f,_ as r,g as m,D as O,M as L,A as g,a as d,b as M,F as j,d as P,f as V,k as R}from"./index.d9e5b60e.js";import{I as u}from"./TextButton.350da12d.js";import{D as h,I as N}from"./DropDown.cb7d7234.js";import{A as F,M as B,f as G}from"./Dialog.d6ff428b.js";var z=function(){var e,t=this,n=t.$createElement,i=t._self._c||n;return i("base-generic-button",t._g({staticClass:"input-icon-button",class:(e={},e["color-"+t.color]=t.color,e)},t.$listeners),[i("i",[t._t("default",function(){return[t.svg?i(t.svg,{tag:"component"}):t._e()]})],2)])},H=[];const q={components:{BaseGenericButton:f},inheritAttrs:!1,props:{color:{type:String,default:"secondary"},svg:{type:[Object,Function],required:!1,default:null}}},A={};var W=l(q,z,H,!1,U,"66b006f0",null,null);function U(e){for(let t in A)this[t]=A[t]}var b=function(){return W.exports}(),v={barcode:()=>r(()=>import("./Barcode.370767e5.js"),["assets/Barcode.370767e5.js","assets/index.d9e5b60e.js","assets/index.4c06a71d.css","assets/vendor.b1428349.js","assets/devterm.9c60640a.js","assets/buffer.89012e65.js","assets/ActionDialog.57f6228c.js","assets/TextButton.350da12d.js","assets/TextButton.0a2406b2.css","assets/Dialog.d6ff428b.js","assets/Dialog.30fbfc42.css","assets/Content.fc811b08.js","assets/Content.1ab9f320.css","assets/CheckBox.a8b2afb0.js","assets/CheckBox.12afbd75.css","assets/DropDown.cb7d7234.js","assets/DropDown.4b7d9790.css","assets/TextField.d4d55022.js","assets/TextField.8c427f2c.css","assets/TextBox.08d44795.js","assets/TextBox.4f745cbd.css","assets/ImageOptions.3db9f288.js","assets/View.376899ee.js"]),qrCode:()=>r(()=>import("./QrCode.ad18717d.js"),["assets/QrCode.ad18717d.js","assets/QrCode.879a4742.css","assets/ActionDialog.57f6228c.js","assets/TextButton.350da12d.js","assets/TextButton.0a2406b2.css","assets/index.d9e5b60e.js","assets/index.4c06a71d.css","assets/vendor.b1428349.js","assets/devterm.9c60640a.js","assets/buffer.89012e65.js","assets/Dialog.d6ff428b.js","assets/Dialog.30fbfc42.css","assets/Content.fc811b08.js","assets/Content.1ab9f320.css","assets/CheckBox.a8b2afb0.js","assets/CheckBox.12afbd75.css","assets/DropDown.cb7d7234.js","assets/DropDown.4b7d9790.css","assets/TextField.d4d55022.js","assets/TextField.8c427f2c.css","assets/TextBox.08d44795.js","assets/TextBox.4f745cbd.css","assets/ImageOptions.3db9f288.js","assets/View.376899ee.js"]),grid:()=>r(()=>import("./Grid.ef4f4cf1.js"),["assets/Grid.ef4f4cf1.js","assets/Grid.7c0e99a7.css","assets/index.d9e5b60e.js","assets/index.4c06a71d.css","assets/vendor.b1428349.js","assets/devterm.9c60640a.js","assets/buffer.89012e65.js","assets/ActionDialog.57f6228c.js","assets/TextButton.350da12d.js","assets/TextButton.0a2406b2.css","assets/Dialog.d6ff428b.js","assets/Dialog.30fbfc42.css","assets/Content.fc811b08.js","assets/Content.1ab9f320.css","assets/DropDown.cb7d7234.js","assets/DropDown.4b7d9790.css","assets/TextField.d4d55022.js","assets/TextField.8c427f2c.css","assets/ImageOptions.3db9f288.js","assets/CheckBox.a8b2afb0.js","assets/CheckBox.12afbd75.css","assets/View.376899ee.js"]),text:()=>r(()=>import("./Text.dfa30247.js"),["assets/Text.dfa30247.js","assets/Text.613f602b.css","assets/index.d9e5b60e.js","assets/index.4c06a71d.css","assets/vendor.b1428349.js","assets/devterm.9c60640a.js","assets/buffer.89012e65.js","assets/DropDown.cb7d7234.js","assets/DropDown.4b7d9790.css","assets/ActionDialog.57f6228c.js","assets/TextButton.350da12d.js","assets/TextButton.0a2406b2.css","assets/Dialog.d6ff428b.js","assets/Dialog.30fbfc42.css","assets/Content.fc811b08.js","assets/Content.1ab9f320.css","assets/TextBox.08d44795.js","assets/TextBox.4f745cbd.css","assets/TextField.d4d55022.js","assets/TextField.8c427f2c.css","assets/ImageOptions.3db9f288.js","assets/CheckBox.a8b2afb0.js","assets/CheckBox.12afbd75.css","assets/View.376899ee.js"]),nativeText:()=>r(()=>import("./NativeText.6132c4f6.js"),["assets/NativeText.6132c4f6.js","assets/NativeText.801a7451.css","assets/ActionDialog.57f6228c.js","assets/TextButton.350da12d.js","assets/TextButton.0a2406b2.css","assets/index.d9e5b60e.js","assets/index.4c06a71d.css","assets/vendor.b1428349.js","assets/devterm.9c60640a.js","assets/buffer.89012e65.js","assets/Dialog.d6ff428b.js","assets/Dialog.30fbfc42.css","assets/TextBox.08d44795.js","assets/TextBox.4f745cbd.css","assets/DropDown.cb7d7234.js","assets/DropDown.4b7d9790.css"]),image:()=>r(()=>import("./Image.195383ab.js"),["assets/Image.195383ab.js","assets/Image.0a7576d4.css","assets/index.d9e5b60e.js","assets/index.4c06a71d.css","assets/vendor.b1428349.js","assets/devterm.9c60640a.js","assets/buffer.89012e65.js","assets/ActionDialog.57f6228c.js","assets/TextButton.350da12d.js","assets/TextButton.0a2406b2.css","assets/Dialog.d6ff428b.js","assets/Dialog.30fbfc42.css","assets/FileSelect.9188bada.js","assets/FileSelect.aa36643f.css","assets/DropDown.cb7d7234.js","assets/DropDown.4b7d9790.css","assets/ImageOptions.3db9f288.js","assets/CheckBox.a8b2afb0.js","assets/CheckBox.12afbd75.css","assets/TextField.d4d55022.js","assets/TextField.8c427f2c.css","assets/View.376899ee.js"]),feedPitch:()=>r(()=>import("./FeedPitch.3edb3987.js"),["assets/FeedPitch.3edb3987.js","assets/ActionDialog.57f6228c.js","assets/TextButton.350da12d.js","assets/TextButton.0a2406b2.css","assets/index.d9e5b60e.js","assets/index.4c06a71d.css","assets/vendor.b1428349.js","assets/devterm.9c60640a.js","assets/buffer.89012e65.js","assets/Dialog.d6ff428b.js","assets/Dialog.30fbfc42.css","assets/DropDown.cb7d7234.js","assets/DropDown.4b7d9790.css","assets/TextField.d4d55022.js","assets/TextField.8c427f2c.css"]),setAlign:()=>r(()=>import("./SetAlign.e44546a5.js"),["assets/SetAlign.e44546a5.js","assets/index.d9e5b60e.js","assets/index.4c06a71d.css","assets/vendor.b1428349.js","assets/devterm.9c60640a.js","assets/buffer.89012e65.js","assets/ActionDialog.57f6228c.js","assets/TextButton.350da12d.js","assets/TextButton.0a2406b2.css","assets/Dialog.d6ff428b.js","assets/Dialog.30fbfc42.css","assets/DropDown.cb7d7234.js","assets/DropDown.4b7d9790.css"]),setFont:()=>r(()=>import("./SetFont.31e29b28.js"),["assets/SetFont.31e29b28.js","assets/index.d9e5b60e.js","assets/index.4c06a71d.css","assets/vendor.b1428349.js","assets/devterm.9c60640a.js","assets/buffer.89012e65.js","assets/ActionDialog.57f6228c.js","assets/TextButton.350da12d.js","assets/TextButton.0a2406b2.css","assets/Dialog.d6ff428b.js","assets/Dialog.30fbfc42.css","assets/DropDown.cb7d7234.js","assets/DropDown.4b7d9790.css"]),setLineSpace:()=>r(()=>import("./SetLineSpace.c9f25fa2.js"),["assets/SetLineSpace.c9f25fa2.js","assets/ActionDialog.57f6228c.js","assets/TextButton.350da12d.js","assets/TextButton.0a2406b2.css","assets/index.d9e5b60e.js","assets/index.4c06a71d.css","assets/vendor.b1428349.js","assets/devterm.9c60640a.js","assets/buffer.89012e65.js","assets/Dialog.d6ff428b.js","assets/Dialog.30fbfc42.css","assets/TextField.d4d55022.js","assets/TextField.8c427f2c.css","assets/DropDown.cb7d7234.js","assets/DropDown.4b7d9790.css"]),setWordGap:()=>r(()=>import("./SetWordGap.2a31ef77.js"),["assets/SetWordGap.2a31ef77.js","assets/ActionDialog.57f6228c.js","assets/TextButton.350da12d.js","assets/TextButton.0a2406b2.css","assets/index.d9e5b60e.js","assets/index.4c06a71d.css","assets/vendor.b1428349.js","assets/devterm.9c60640a.js","assets/buffer.89012e65.js","assets/Dialog.d6ff428b.js","assets/Dialog.30fbfc42.css","assets/TextField.d4d55022.js","assets/TextField.8c427f2c.css","assets/DropDown.cb7d7234.js","assets/DropDown.4b7d9790.css"]),setMargin:()=>r(()=>import("./SetMargin.072484af.js"),["assets/SetMargin.072484af.js","assets/ActionDialog.57f6228c.js","assets/TextButton.350da12d.js","assets/TextButton.0a2406b2.css","assets/index.d9e5b60e.js","assets/index.4c06a71d.css","assets/vendor.b1428349.js","assets/devterm.9c60640a.js","assets/buffer.89012e65.js","assets/Dialog.d6ff428b.js","assets/Dialog.30fbfc42.css","assets/TextField.d4d55022.js","assets/TextField.8c427f2c.css","assets/DropDown.cb7d7234.js","assets/DropDown.4b7d9790.css"]),setDensity:()=>r(()=>import("./SetDensity.5ad2a855.js"),["assets/SetDensity.5ad2a855.js","assets/ActionDialog.57f6228c.js","assets/TextButton.350da12d.js","assets/TextButton.0a2406b2.css","assets/index.d9e5b60e.js","assets/index.4c06a71d.css","assets/vendor.b1428349.js","assets/devterm.9c60640a.js","assets/buffer.89012e65.js","assets/Dialog.d6ff428b.js","assets/Dialog.30fbfc42.css","assets/DropDown.cb7d7234.js","assets/DropDown.4b7d9790.css"])};const y=()=>[{native:!0,title:"Align (native)",value:"setAlign",group:"Layout"},{native:!0,title:"Margin (native)",value:"setMargin",group:"Layout"},{native:!0,title:"Font (native)",value:"setFont",group:"Layout"},{native:!0,title:"LineSpace (native)",value:"setLineSpace",group:"Layout"},{native:!0,title:"WordGap (native)",value:"setWordGap",group:"Layout"},{native:!1,title:"Grid",value:"grid",group:"Layout"},{native:!1,title:"Image",value:"image",group:"Content"},{native:!1,title:"QRCode",value:"qrCode",group:"Content"},{native:!1,title:"Barcode",value:"barcode",group:"Content"},{native:!1,title:"Text",value:"text",group:"Content"},{native:!0,title:"Text (native)",value:"nativeText",group:"Content"},{native:!0,title:"Reset (native)",value:"reset",group:"General"},{native:!0,title:"Feed Pitch (native)",value:"feedPitch",group:"General"},{native:!0,title:"Cutline (native)",value:"cutLine",group:"General"},{native:!0,title:"Density (native)",value:"setDensity",group:"General"}],Q=()=>[new h({title:"Add new Action\u2026",value:""}),...y().map(e=>new h(e))],J=e=>{let t;switch(e){case"setLineSpace":t=0;break;case"setWordGap":t=0;break;case"setMargin":t=0;break;case"setDensity":t=1;break;case"setFont":t=j.SIZE_8_16_THIN_1;break;case"setAlign":t=M.LEFT;break;case"feedPitch":t={value:1,type:"font"};break;case"text":t=ee();break;case"nativeText":t="Text";break;case"grid":t=K();break;case"image":t=te();break;case"qrCode":t=ne();break;case"barcode":t=ie();break}return new g({type:e,value:t})},X=e=>{const t=m();return e.filter(n=>n.visible).map(n=>Z(n,t)).filter(Boolean)},Y=e=>Array(L[e]).fill("").map((t,n)=>n%2==0?"=":"-").join(""),Z=(e,t)=>{switch(e.type){case"setMargin":t.margin=e.value;break;case"setAlign":t.align=e.value;break;case"setLineSpace":t.lineSpace=e.value;break;case"setWordGap":t.wordGap=e.value;break;case"setFont":t.font=Number(e.value);break;case"setDensity":t.density=Number(e.value);break;case"reset":Object.assign(t,m());break;case"cutLine":return{id:e.id,component:()=>r(()=>import("./NativeText.0f6c1251.js"),["assets/NativeText.0f6c1251.js","assets/NativeText.160177ab.css","assets/index.d9e5b60e.js","assets/index.4c06a71d.css","assets/vendor.b1428349.js","assets/devterm.9c60640a.js","assets/buffer.89012e65.js"]),options:c(s({},t),{margin:0,wordGap:0,lineSpace:0,density:O}),props:{value:Y(t.font)}};case"grid":return{id:e.id,component:()=>r(()=>import("./GridCanvas.473e5b8d.js"),["assets/GridCanvas.473e5b8d.js","assets/GridCanvas.b667bdd0.css","assets/index.d9e5b60e.js","assets/index.4c06a71d.css","assets/vendor.b1428349.js","assets/devterm.9c60640a.js","assets/buffer.89012e65.js","assets/NativeText.0f6c1251.js","assets/NativeText.160177ab.css","assets/View.376899ee.js","assets/TextButton.350da12d.js","assets/TextButton.0a2406b2.css","assets/DropDown.cb7d7234.js","assets/DropDown.4b7d9790.css","assets/Dialog.d6ff428b.js","assets/Dialog.30fbfc42.css"]),options:s({},t),props:s({},e)};case"barcode":return{id:e.id,component:()=>r(()=>import("./BarcodeCanvas.cb1c387a.js"),["assets/BarcodeCanvas.cb1c387a.js","assets/BarcodeCanvas.c3e7a34f.css","assets/index.d9e5b60e.js","assets/index.4c06a71d.css","assets/vendor.b1428349.js","assets/devterm.9c60640a.js","assets/buffer.89012e65.js","assets/NativeText.0f6c1251.js","assets/NativeText.160177ab.css","assets/View.376899ee.js","assets/TextButton.350da12d.js","assets/TextButton.0a2406b2.css","assets/DropDown.cb7d7234.js","assets/DropDown.4b7d9790.css","assets/Dialog.d6ff428b.js","assets/Dialog.30fbfc42.css"]),options:s({},t),props:s({},e)};case"qrCode":return{id:e.id,component:()=>r(()=>import("./QrCodeCanvas.fc3f2ced.js"),["assets/QrCodeCanvas.fc3f2ced.js","assets/QrCodeCanvas.61d59f7a.css","assets/index.d9e5b60e.js","assets/index.4c06a71d.css","assets/vendor.b1428349.js","assets/devterm.9c60640a.js","assets/buffer.89012e65.js","assets/NativeText.0f6c1251.js","assets/NativeText.160177ab.css","assets/View.376899ee.js","assets/TextButton.350da12d.js","assets/TextButton.0a2406b2.css","assets/DropDown.cb7d7234.js","assets/DropDown.4b7d9790.css","assets/Dialog.d6ff428b.js","assets/Dialog.30fbfc42.css"]),options:s({},t),props:s({},e)};case"image":return{id:e.id,component:()=>r(()=>import("./ImageCanvas.f97c73ca.js"),["assets/ImageCanvas.f97c73ca.js","assets/ImageCanvas.2ca62634.css","assets/index.d9e5b60e.js","assets/index.4c06a71d.css","assets/vendor.b1428349.js","assets/devterm.9c60640a.js","assets/buffer.89012e65.js","assets/NativeText.0f6c1251.js","assets/NativeText.160177ab.css"]),options:s({},t),props:s({},e)};case"text":return{id:e.id,component:()=>r(()=>import("./TextCanvas.d11d4bc2.js"),["assets/TextCanvas.d11d4bc2.js","assets/TextCanvas.195204e8.css","assets/index.d9e5b60e.js","assets/index.4c06a71d.css","assets/vendor.b1428349.js","assets/devterm.9c60640a.js","assets/buffer.89012e65.js","assets/View.376899ee.js","assets/TextButton.350da12d.js","assets/TextButton.0a2406b2.css","assets/DropDown.cb7d7234.js","assets/DropDown.4b7d9790.css","assets/Dialog.d6ff428b.js","assets/Dialog.30fbfc42.css"]),options:s({},t),props:s({},e)};case"nativeText":return{id:e.id,component:()=>r(()=>import("./NativeText.0f6c1251.js"),["assets/NativeText.0f6c1251.js","assets/NativeText.160177ab.css","assets/index.d9e5b60e.js","assets/index.4c06a71d.css","assets/vendor.b1428349.js","assets/devterm.9c60640a.js","assets/buffer.89012e65.js"]),options:s({},t),props:s({},e)};case"feedPitch":return{id:e.id,component:()=>r(()=>import("./FeedPitch.7758ef61.js"),["assets/FeedPitch.7758ef61.js","assets/FeedPitch.3fa7fa3d.css","assets/index.d9e5b60e.js","assets/index.4c06a71d.css","assets/vendor.b1428349.js","assets/devterm.9c60640a.js","assets/buffer.89012e65.js"]),options:s({},t),props:s({},e.value)}}return null},K=()=>({widths:[1],data:[[]],options:{columnGutter:0,rowGutter:0},imageOptions:d()}),ee=()=>({text:"Sample",options:{fontSize:16,align:"left",lineSpace:0,wordGap:0,margin:0,fontFamily:null,color:"#000",weight:400,italic:!1},imageOptions:d()}),te=()=>({file:null,imageOptions:d()}),ne=()=>({text:"Sample",options:{errorCorrectionLevel:"M",margin:0,scale:4,small:!1},imageOptions:d()}),ie=()=>({text:"Sample",options:{format:"",height:100,font:"monospace",textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,margin:10,displayValue:!0,flat:!1},imageOptions:d()});var re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M22 16v-2h-2v-2h-2v-2h-2V8h-2V6h-4v2H8v2H6v2H4v2H2v2H0v2h24v-2z"}})])},se={render:re},oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M22 8v2h-2v2h-2v2h-2v2h-2v2h-4v-2H8v-2H6v-2H4v-2H2V8H0V6h24v2z"}})])},ae={render:oe},ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M2.1 4.9L9.2 12l-7.1 7.1 2.8 2.8 7.1-7.1 7.1 7.1 2.8-2.8-7.1-7.1 7.1-7.1-2.8-2.8L12 9.2 4.9 2.1z"}})])},le={render:ce},de=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M2 6h16v16H2z"}}),n("path",{attrs:{d:"M22 18H6V2h16v16zM8 16h12V4H8v12z"}})])},ue={render:de},ve=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M12 6c5.4 0 10 2.7 10 6s-4.6 6-10 6-10-2.7-10-6 4.6-6 10-6m0-2C5.4 4 0 7.6 0 12s5.4 8 12 8 12-3.6 12-8-5.4-8-12-8z"}}),n("circle",{attrs:{cx:"12",cy:"12",r:"4"}})])},pe={render:ve},_e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M10 2h4v20h-4z"}}),n("path",{attrs:{d:"M2 10h20v4H2z"}})])},fe={render:_e},me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M2 23c-.3 0-.5-.1-.7-.3-.4-.4-.4-1 0-1.4l20-20c.4-.4 1-.4 1.4 0s.4 1 0 1.4l-20 20c-.2.2-.4.3-.7.3zM13 8.1c-.3 0-.6-.1-1-.1-2.2 0-4 1.8-4 4 0 .4.1.7.1 1L13 8.1zm-2 7.8c.3.1.7.1 1 .1 2.2 0 4-1.8 4-4 0-.4-.1-.7-.1-1L11 15.9z"}}),n("path",{attrs:{d:"M3.5 17.7L5 16.2c-1.8-1.1-3-2.6-3-4.2 0-3.3 4.6-6 10-6 1 0 2 .1 2.9.3l1.7-1.7c-1.4-.4-3-.6-4.6-.6C5.4 4 0 7.6 0 12c0 2.2 1.3 4.2 3.5 5.7zm17-11.4L19 7.8c1.8 1.1 3 2.6 3 4.2 0 3.3-4.6 6-10 6-1 0-2-.1-2.9-.3l-1.7 1.7c1.4.4 3 .6 4.6.6 6.6 0 12-3.6 12-8 0-2.2-1.3-4.2-3.5-5.7z"}})])},ge={render:me},he=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._g({staticClass:"controls-action-item",class:{focus:e.focus||e.selected,property:e.property,"can-select":e.canSelect},attrs:{focusable:""}},e.$listeners),[n("base-generic-button",{staticClass:"title",on:{click:e.onClick}},[n("span",[e._v(e._s(e.display.title)+e._s(e.display.value?":":""))]),e._v(" "),e.display.value?n("span",[e._v(e._s(e.display.value))]):e._e()]),e.$slots.default?n("div",[e._t("default")],2):e._e()],1)},Ae=[];const be={components:{BaseGenericButton:f},props:{itemStates:{type:Object,default(){return{id:!1}}},canSelect:{type:Boolean,default:!1},id:{type:String,default:"id"},focus:{type:Boolean,default:!1},property:{type:Boolean,default:!1},display:{type:Object,default(){return{title:"Action Item",value:"Action Item Value"}}}},computed:{selected(){return this.itemStates[this.id]}},methods:{onClick(){this.canSelect&&this.$emit("select",this.id)}}},I={};var ye=l(be,he,Ae,!1,Ie,"683e90c7",null,null);function Ie(e){for(let t in I)this[t]=I[t]}var we=function(){return ye.exports}(),De=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("app-dialog",e._g(e._b({ref:"dialog",staticClass:"dialog-action-select",attrs:{"escape-close":!0,title:"Actions"},scopedSlots:e._u([{key:"default",fn:function(){return e._l(e.groupedActions,function(i,o){return n("fieldset",{key:o},[n("legend",[e._v(e._s(o))]),n("ul",e._l(i,function(a){return n("li",{key:a.title},[n("input-text-button",{attrs:{color:"primary"},on:{click:function(Ge){return e.onClick(a.value)}}},[e._v(" "+e._s(a.title)+" ")])],1)}),0)])})},proxy:!0},{key:"buttons",fn:function(){return[n("input-text-button",{attrs:{type:"button",color:"primary",text:"Close"},on:{click:function(i){return e.close("close")}}})]},proxy:!0}])},"app-dialog",e.$attrs,!1),e.$listeners))},Se=[];const $e={components:{AppDialog:F,InputTextButton:u},mixins:[B],inheritAttrs:!1,props:{native:{type:Boolean,default:!1}},computed:{groupedActions(){return y().filter(e=>this.native&&e.native||!e.native).reduce((e,t)=>((e[t.group]||(e[t.group]=[])).push(t),e),{})}},methods:{onClick(e){this.$emit("select",e),this.close()}}},w={};var Te=l($e,De,Se,!1,xe,"f89038bc",null,null);function xe(e){for(let t in w)this[t]=w[t]}var Ce=function(){return Te.exports}(),ke=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"actions",class:{"action-active":e.selectedAction,drag:e.isDrag}},[n("div",{ref:"list",staticClass:"list"},[n("div",{on:{dragover:e.allowDrop,drop:e.onDrop}},[n("transition-group",{attrs:{name:e.isDrag?null:"flip-list",tag:"ul"}},e._l(e.model,function(i,o){return n("li",{key:i.id,attrs:{id:"anchor-action-item-"+i.id}},[e.ACTION_DEFINITIONS[i.type]?n("action-item",{attrs:{id:i.id,property:e.ACTION_DEFINITIONS[i.type].property,display:e.ACTION_DEFINITIONS[i.type].display(i.value),"can-select":!!e.ACTION_DIALOGS[i.type],"item-states":e.itemStates,"data-id":i.id,draggable:!e.itemStates[i.id],focus:e.dragTargetId===i.id&&i.id!==e.dragId},on:{select:function(a){return e.onSelectAction(i.id)},dragstart:e.onDragStart},scopedSlots:e._u([{key:"default",fn:function(){return[n("div",{staticClass:"action-controls"},[n("span",{staticClass:"index"},[e._v(e._s(o+1))]),n("input-icon-button",{on:{click:function(a){return e.onClickActionUp(o)}}},[n("svg-icon-arrow-up")],1),n("input-icon-button",{on:{click:function(a){return e.onClickActionDown(o)}}},[n("svg-icon-arrow-down")],1),n("input-icon-button",{on:{click:function(a){return e.onClickActionAdd(o)}}},[n("svg-icon-add")],1),n("input-icon-button",{on:{click:function(a){return e.onClickActionDuplicate(o)}}},[n("svg-icon-duplicate")],1),n("input-icon-button",{on:{click:function(a){return e.onClickActionVisible(o)}}},[i.visible?n("svg-icon-visible"):n("svg-icon-invisible")],1),n("input-icon-button",{on:{click:function(a){return e.onClickActionDelete(o)}}},[n("svg-icon-remove")],1)],1)]},proxy:!0}],null,!0)}):n("span",[e._v(" Action "+e._s(i.type)+" not defined\u2026 ")])],1)}),0)],1)]),n("div",{staticClass:"add-action"},[n("input-text-button",{attrs:{color:"primary"},on:{click:function(i){return e.onClickActionAdd()}}},[e._v(" Add Action ")])],1),e.selectedAction?n(e.dialogComponent,{ref:"dialog",tag:"component",attrs:{embed:e.embed,colors:e.colors,value:e.selectedAction.value},on:{input:function(i){return e.updateAction(e.selectedAction,i)},ready:e.onReadyDialog,close:e.onCloseDialog}}):e._e(),n("dialog-action-select",{ref:"dialogActionSelect",attrs:{native:e.nativeActions,embed:e.embed},on:{select:e.onSelectAddAction}})],1)},Ee=[];const Oe={components:{SvgIconArrowUp:se,SvgIconArrowDown:ae,SvgIconRemove:le,SvgIconDuplicate:ue,SvgIconAdd:fe,SvgIconVisible:pe,SvgIconInvisible:ge,InputIconButton:b,InputTextButton:u,ActionItem:we,DialogActionSelect:Ce},props:{embed:{type:Boolean,default:!1},nativeActions:{type:Boolean,default:!0},value:{type:Array,default(){return[]}},colors:{type:Object,default(){return{}}}},data(){return{ACTION_DEFINITIONS:P,ACTION_DIALOGS:v,selectedActionId:null,actionTypeOptions:Q(),itemStates:{},isDrag:!1,dragId:null,dragTargetId:null,model:[...this.value],addIndex:void 0}},computed:{selectedAction(){return this.model.find(e=>e.id===this.selectedActionId)},dialogComponent(){return this.selectedAction&&v[this.selectedAction.type]}},watch:{value(e){this.model=[...e]},model:{handler(e){this.itemStates=Object.fromEntries(e.map(({id:t})=>[t,!1]))},immediate:!0},selectedAction(e,t){const n=s({},this.itemStates);t&&(n[t.id]=!1),e&&(n[e.id]=!0),this.itemStates=n,this.$emit("selectAction",e)}},mounted(){this.subscriptions=[V(window,"dragenter").subscribe(e=>{if(e.target.closest("li [data-id]")){const t=e.target.closest("li [data-id]");this.dragTargetId=t.dataset.id}})]},destroyed(){this.subscriptions.forEach(e=>e.unsubscribe())},methods:{onSelectAddAction(e){if(e){const t=J(e);Number.isInteger(this.addIndex)?this.updateModel([].concat(this.model.slice(0,this.addIndex+1),t,this.model.slice(this.addIndex+1))):this.updateModel([].concat(this.model,t)),this.addIndex=void 0,this.$nextTick(()=>{this.selectedActionId=null;const n=this.$refs.list.querySelector(`#anchor-action-item-${t.id}`);n&&n.scrollIntoView({block:"center"}),!!v[t.type]&&window.setTimeout(()=>{this.selectedActionId=t.id},100)})}},showActionSelectDialog(){return this.$refs.dialogActionSelect.show()},onReadyDialog(){this.$nextTick(()=>{this.$refs.dialog.show()})},onCloseDialog(){this.selectedActionId=null},onSelectAction(e){e?this.selectedActionId=e:this.selectedActionId=null},updateModel(e){this.model=[...e],this.$emit("input",[...e])},updateAction(e,t){const n=this.model,i=n.indexOf(e);n[i]=c(s({},n[i]),{value:t}),this.updateModel(n)},onClickActionAdd(e){this.addIndex=e,this.showActionSelectDialog()},onClickActionDelete(e){const t=[].concat(this.model);this.updateModel([...t.slice(0,e||0),...t.slice(e+1)])},onClickActionUp(e){const t=[].concat(this.model),n=t[Math.max(e-1,0)];t[Math.max(e-1,0)]=t[e],t[e]=n,this.updateModel(t)},onClickActionDown(e){const t=[].concat(this.model),n=this.model[Math.min(e+1,t.length-1)];t[Math.min(e+1,t.length-1)]=t[e],t[e]=n,this.updateModel(t)},onClickActionVisible(e){const t=this.model[e],n=this.model;n[e]=c(s({},n[e]),{visible:!t.visible}),this.updateModel(n)},onDragStart(e){window.setTimeout(()=>{this.dragId=e.target.dataset.id,this.isDrag=!0},100)},onDrop(e){let t=[].concat(this.model);const n=t.indexOf(t.find(a=>a.id===this.dragTargetId)),i=t.indexOf(t.find(a=>a.id===this.dragId)),o=t.splice(i,1);i>n?t=[...t.slice(0,n+1),...o,...t.slice(n+1)]:t=[...t.slice(0,n),...o,...t.slice(n)],this.dragId=null,this.dragTargetId=null,this.isDrag=!1,this.updateModel(t)},allowDrop(e){e.preventDefault()},onClickActionDuplicate(e){const t=new g(c(s({},JSON.parse(JSON.stringify(this.model[e]))),{id:null}));this.updateModel([].concat(this.model.slice(0,e+1),t,this.model.slice(e+1)))}}},D={};var Le=l(Oe,ke,Ee,!1,Me,"4c613b12",null,null);function Me(e){for(let t in D)this[t]=D[t]}var je=function(){return Le.exports}(),Pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("app-view",{staticClass:"view-printer",style:e.style},[n("div",{key:JSON.stringify(e.colors),staticClass:"printer-preview"},[n("div",{staticClass:"scroll",class:{loading:e.loading}},[n("div",{class:{"has-selected":e.selectedAction}},e._l(e.previewItems,function(i){return n("div",{key:i.id,class:{selected:e.selectedAction&&e.selectedAction.id===i.id},attrs:{id:"anchor-action-"+i.id}},[n(i.component,e._b({key:i.id,tag:"component",attrs:{options:i.options,colors:e.colors},on:{ready:function(o){return i.resolve()}}},"component",i.props,!1))],1)}),0)]),n("div",{staticClass:"buttons"},[n("input-text-button",{staticClass:"print-button",attrs:{color:"primary"},on:{click:e.onClickPrint}},[e._v(" Print ")])],1),n("transition",{attrs:{name:"fade"}},[e.loading?n("div",{staticClass:"layer-loading"},[e._v(" Loading ")]):e._e()])],1),n("actions",{staticClass:"printer-actions",attrs:{embed:"",colors:e.colors},on:{selectAction:function(i){e.selectedAction=i}},model:{value:e.actions,callback:function(i){e.actions=i},expression:"actions"}}),e.actions.length<1?n("div",{staticClass:"actions-empty"},[e._v(" Add a Action! ")]):e._e()],1)},Ve=[];const Re={components:{AppView:E,InputIconButton:b,InputTextButton:u,InputDropDown:N,Actions:je},props:{colors:{type:Object,default(){return{primary:[255,204,0],secondary:[0,0,0],printer:{preview:{background:[0,0,0],foreground:[255,204,0]}}}}},value:{type:Array,default(){return[]}}},data(){return{actions:[].concat(this.value),previewItems:[],loading:!0,selectedAction:null}},computed:{style(){return{"--color-printer-preview-background":`rgb(${this.colors.printer.preview.background.join(",")})`,"--color-printer-preview-foreground":`rgb(${this.colors.printer.preview.foreground.join(",")})`}}},watch:{value(e){this.actions=e},actions(){this.render(),this.$emit("input",this.actions)},selectedAction(e){e&&this.scrollToAction(e)}},mounted(){this.render(),this.subscriptions=[R.pipe(G(({key:e})=>e==="PrintScreen")).subscribe(()=>this.print())]},destroyed(){this.subscriptions.forEach(e=>e.unsubscribe())},methods:{render(){this.actions.length?(this.loading=!0,window.clearTimeout(this.renderTimeout),this.renderTimeout=window.setTimeout(async()=>{const e=[];this.previewItems=await X(this.actions).map(t=>(e.push(new Promise(n=>{t.resolve=()=>n()})),t)),await Promise.all(e),this.$nextTick(()=>{this.loading=!1,this.selectedAction&&this.scrollToAction(this.selectedAction)})},500)):this.previewItems=[]},print(){return this.$client.executeActions(this.actions)},scrollToAction(e){this.$nextTick(()=>{window.requestAnimationFrame(()=>{const t=document.querySelector(`#anchor-action-${e.id}`);t&&t.scrollIntoView({block:"center"})})})},onClickPrint(){this.print()}}},S={};var Ne=l(Re,Pe,Ve,!1,Fe,"2065e18e",null,null);function Fe(e){for(let t in S)this[t]=S[t]}var Be=function(){return Ne.exports}(),Je=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Be});export{je as A,Je as P,ie as a,ne as b,ee as c,te as d,K as g};
