import{n as a,i as p,j as u,l as f}from"./index.a368ccdb.js";import{B as d,a as m,I as h,D as b}from"./TextField.8dd3b75b.js";import{A as _,M as x}from"./Dialog.3e6e57b7.js";import{I as v}from"./CheckBox.48ef8714.js";import{I as D}from"./TextButton.3d91a0e8.js";import"./vendor.b1428349.js";import"./devterm.a10f71a8.js";var y=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("app-dialog",e._g(e._b({ref:"dialog",staticClass:"dialog-remote",class:{connected:e.connected},attrs:{title:"Remote",form:""},on:{submit:e.onSubmit},scopedSlots:e._u([{key:"default",fn:function(){return[t("div",{staticClass:"profile-select"},[t("input-drop-down",{attrs:{"baseline-label":"",label:"Profile",options:e.profileOptions},model:{value:e.selectedProfile,callback:function(o){e.selectedProfile=o},expression:"selectedProfile"}}),t("input-text-button",{attrs:{color:"primary",disabled:!e.selectedProfile,text:"Delete"},on:{click:e.onClickDeleteProfile}})],1),t("input-text-field",{attrs:{label:"Profile Name"},model:{value:e.profileName,callback:function(o){e.profileName=o},expression:"profileName"}}),t("hr"),t("base-input-label",{attrs:{text:"Connection"}},[t("span",[e._v(e._s(e.connected?"Connected with "+e.$client.host+":"+e.$client.port:"Disconnected"))])]),t("input-check-box",{attrs:{label:"SSL"},model:{value:e.secure,callback:function(o){e.secure=o},expression:"secure"}}),t("input-text-field",{attrs:{label:"Host",placeholder:"Enter host\u2026"},model:{value:e.host,callback:function(o){e.host=o},expression:"host"}}),t("input-text-field",{attrs:{type:"Number",label:"Port",min:"1024",step:"1",value:e.port},on:{input:function(o){e.port=parseInt(o)}}})]},proxy:!0},{key:"buttons",fn:function(){return[e.connected?t("input-text-button",{attrs:{color:"primary",text:"Disconnect"},on:{click:e.onClickDisconnect}}):t("input-text-button",{attrs:{color:"primary",type:"submit",text:"Connect"}}),t("input-text-button",{attrs:{color:"secondary",text:"Close"},on:{click:function(o){return e.close()}}})]},proxy:!0}])},"app-dialog",e.$attrs,!1),e.$listeners))},P=[];const g={components:{AppDialog:_,BaseInputLabel:d,InputCheckBox:v,InputTextButton:D,InputTextField:m,InputDropDown:h},mixins:[x],inheritAttrs:!1,props:{remeber:{type:Boolean,default:!1}},data(){return{host:"localhost",port:3e3,secure:window.location.protocol.startsWith("https"),selectedProfile:null,profileName:p}},computed:{connected(){return this.$client.connected},profileOptions(){return[{title:"Select Profile\u2026",value:""},...this.$config.get("profiles")].map(e=>new b(e.name||e))}},watch:{selectedProfile(e,n){if(e!==n){const t=this.$config.get("profiles").find(({name:c})=>c===e)||u(),{name:o,port:i,host:r,secure:l}=t;this.profileName=o,this.port=i,this.host=r||f,this.secure=l||!1}}},methods:{async onSubmit(e){e.preventDefault();try{await this.$client.connect(this.port,this.host,this.secure),await this.$config.saveProfile({name:this.profileName,port:this.port,host:this.host,secure:this.secure}),this.close({profile:this.profileName})}catch(n){console.error(n)}},async onClickDisconnect(){try{await this.$client.disconnect()}catch(e){console.error(e)}},async onClickDeleteProfile(){await this.$config.deleteProfile(this.selectedProfile),this.selectedProfile=null}}},s={};var k=a(g,y,P,!1,C,"1e870ff8",null,null);function C(e){for(let n in s)this[n]=s[n]}var T=function(){return k.exports}();export{T as default};
