import{n as o,x as c,A as d,r as h,M as l,p as i}from"./index.ae9fd7ab.js";import"./vendor.b1428349.js";import"./devterm.9e5b33a4.js";import"./buffer.4460b8ba.js";var u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("canvas")},p=[];const v={props:{colors:{type:Object,default(){return{printer:{preview:{foreground:[255,0,0]}}}}},value:{type:Object,default(){return c()}},width:{type:Number,default:384},options:{type:Object,default(){return{}}}},data(){return{ctx:null}},watch:{value(){this.render()}},mounted(){this.$el.width=this.width,this.ctx=this.$el.getContext("2d"),this.render()},methods:{getColor(e=1){return`rgb(${this.colors.printer.preview.foreground.join(" ")} / ${e*100}%)`},render(){window.cancelAnimationFrame(this.animationFrame),this.animationFrame=window.requestAnimationFrame(async()=>{const e=this.ctx;let t=(await d.table.beforePrinterCommand({value:this.value},!1)).value;t=h(t,{background:this.colors.printer.preview.background,foreground:this.colors.printer.preview.foreground},.6+.4*(this.options.density/l)),e.canvas.width=this.width,e.canvas.height=t.height;const a=this.width,s=parseInt(this.options.margin*a);let r=0;switch(this.options.align){case i.RIGHT:r+=this.width-t.width;break;case i.CENTER:r+=(this.width-t.width)/2;break;default:r+=s;break}e.drawImage(t,r,0),this.$emit("ready")})}}},n={};var _=o(v,u,p,!1,m,"d294dc7a",null,null);function m(e){for(let t in n)this[t]=n[t]}var x=function(){return _.exports}();export{x as default};
