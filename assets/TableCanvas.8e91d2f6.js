import{n as o,w as d,A as c,q as h,M as l,m as n}from"./index.4d358bc2.js";import"./vendor.b1428349.js";import"./devterm.9e5b33a4.js";import"./buffer.4460b8ba.js";import"./canvas-text-wrapper.5613b40d.js";var u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("canvas")},p=[];const v={props:{colors:{type:Object,default(){return{printer:{preview:{foreground:[255,0,0]}}}}},value:{type:Object,default(){return d()}},width:{type:Number,default:384},options:{type:Object,default(){return{}}}},data(){return{ctx:null}},watch:{value(){this.render()}},mounted(){this.$el.width=this.width,this.ctx=this.$el.getContext("2d"),this.render()},methods:{getColor(t=1){return`rgb(${this.colors.printer.preview.foreground.join(" ")} / ${t*100}%)`},render(){window.cancelAnimationFrame(this.animationFrame),this.animationFrame=window.requestAnimationFrame(async()=>{const t=this.ctx;let e=(await c.table.beforePrinterCommand({value:this.value},!1)).value;e=h(e,{background:this.colors.printer.preview.background,foreground:this.colors.printer.preview.foreground},.6+.4*(this.options.density/l)),t.canvas.width=this.width,t.canvas.height=e.height;const a=this.width,s=parseInt(this.options.margin*a);let r=0;switch(this.options.align){case n.RIGHT:r+=this.width-e.width;break;case n.CENTER:r+=(this.width-e.width)/2;break;default:r+=s;break}t.drawImage(e,r,0),this.$emit("ready")})}}},i={};var m=o(v,u,p,!1,_,"d294dc7a",null,null);function _(t){for(let e in i)this[e]=i[e]}var j=function(){return m.exports}();export{j as default};
