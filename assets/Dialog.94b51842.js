import{i as a,S as u,n as r,k as h}from"./index.86f8bf01.js";function p(t,e){return function(i){return i.lift(new _(t,e))}}var _=function(){function t(e,s){this.predicate=e,this.thisArg=s}return t.prototype.call=function(e,s){return s.subscribe(new f(e,this.predicate,this.thisArg))},t}(),f=function(t){a(e,t);function e(s,i,o){var n=t.call(this,s)||this;return n.predicate=i,n.thisArg=o,n.count=0,n}return e.prototype._next=function(s){var i;try{i=this.predicate.call(this.thisArg,s,this.count++)}catch(o){this.destination.error(o);return}i&&this.destination.next(s)},e}(u),d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.open?s("dialog",{staticClass:"app-dialog",class:{embed:t.embed}},[s("span",{on:{click:function(i){return t.close()}}}),t.title?s("div",{staticClass:"dialog-title"},[t._v(" "+t._s(t.title)+" ")]):t._e(),s(t.form?"form":"div",{tag:"component",staticClass:"dialog-content",on:{submit:function(i){return t.$emit("submit",i)}}},[s("div",[t._t("default",function(){return[t._v("Dialog Content")]})],2),t.$slots.buttons?s("div",{staticClass:"buttons"},[t._t("buttons")],2):t._e()])],1):t._e()},b=[];const v={inheritAttrs:!0,props:{embed:{type:Boolean,default:!1},escapeClose:{type:Boolean,default:!0},initOpen:{type:Boolean,default:!1},title:{type:String,default:null},form:{type:Boolean,default:!1}},data(){return{open:!1,subscriptions:[]}},watch:{open(t){t?this.subscriptions=[h.pipe(p(({key:e})=>e==="Escape"&&this.escapeClose)).subscribe(e=>{this.close()})]:(this.subscriptions.forEach(e=>e.unsubscribe()),this.subscriptions=[])}},mounted(){this.$emit("ready"),this.initOpen&&this.$nextTick(()=>{this.show()})},destroyed(){this.subscriptions.forEach(t=>t.unsubscribe())},methods:{show(){return new Promise(t=>{this.open=!0,this.$nextTick(()=>{this.embed?this.$el.show():this.$el.showModal(),this.$emit("open"),this.$once("close",t)})})},close(t){this.open=!1,this.$el.close(t),this.$emit("close",t)}}},l={};var m=r(v,d,b,!1,$,"51e8b538",null,null);function $(t){for(let e in l)this[e]=l[e]}var F=function(){return m.exports}();const g={data(){return{open:!1}},mounted(){const t=this.$children[0];this.open=t.open,t.$on("open",()=>this.open=!0).$on("close",()=>this.open=!1)},methods:{show(...t){return this.$children[0].show(...t)},close(...t){return this.$children[0].close(...t)}}};let y,x;const c={};var w=r(g,y,x,!1,C,null,null,null);function C(t){for(let e in c)this[e]=c[e]}var S=function(){return w.exports}();export{F as A,S as M,p as f};
