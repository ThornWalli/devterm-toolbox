var re=Object.defineProperty,oe=Object.defineProperties;var ae=Object.getOwnPropertyDescriptors;var g=Object.getOwnPropertySymbols;var se=Object.prototype.hasOwnProperty,le=Object.prototype.propertyIsEnumerable;var b=(e,t,n)=>t in e?re(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,r=(e,t)=>{for(var n in t||(t={}))se.call(t,n)&&b(e,n,t[n]);if(g)for(var n of g(t))le.call(t,n)&&b(e,n,t[n]);return e},v=(e,t)=>oe(e,ae(t));import{A as ce}from"./View.ebc1ce3f.js";import{n as s,B as y,_ as a,g as $,r as x,M as ue,t as S,p as de,A as pe,a as _e}from"./index.26493afd.js";import{I as w}from"./TextButton.7bb6f4b0.js";import{I as p,D as o,a as _,B as ve}from"./TextField.c46d9973.js";import{A as f,F as m,p as fe,D as A,e as I,f as me}from"./devterm.94c2d908.js";import{A as he,M as c,f as ge,k as be,a as ye}from"./Dialog.b3e45a15.js";import{I as O}from"./CheckBox.c59a75ed.js";import{I as $e}from"./FileSelect.9d6efecc.js";var xe=function(){var e,t=this,n=t.$createElement,i=t._self._c||n;return i("base-generic-button",t._g({staticClass:"input-icon-button",class:(e={},e["color-"+t.color]=t.color,e)},t.$listeners),[i("i",[t._t("default",function(){return[t.svg?i(t.svg,{tag:"component"}):t._e()]})],2)])},Se=[];const we={components:{BaseGenericButton:y},inheritAttrs:!1,props:{color:{type:String,default:"secondary"},svg:{type:[Object,Function],required:!1,default:null}}},T={};var Ae=s(we,xe,Se,!1,Ie,"3a22583a",null,null);function Ie(e){for(let t in T)this[t]=T[t]}var k=function(){return Ae.exports}(),h={barcode:()=>a(()=>import("./Barcode.3a918809.js"),["assets/Barcode.3a918809.js","assets/index.26493afd.js","assets/index.4c94bef4.css","assets/vendor.b1428349.js","assets/devterm.94c2d908.js","assets/CheckBox.c59a75ed.js","assets/CheckBox.82b15c7e.css","assets/TextField.c46d9973.js","assets/TextField.76075ce2.css","assets/Dialog.b3e45a15.js","assets/Dialog.f8987a4e.css","assets/View.ebc1ce3f.js","assets/TextButton.7bb6f4b0.js","assets/TextButton.79dccd20.css","assets/FileSelect.9d6efecc.js","assets/FileSelect.e53ff824.css"]),qrCode:()=>a(()=>Promise.resolve().then(function(){return Lt}),void 0),text:()=>a(()=>Promise.resolve().then(function(){return wt}),void 0),image:()=>a(()=>Promise.resolve().then(function(){return Ct}),void 0),feedPitch:()=>a(()=>Promise.resolve().then(function(){return zt}),void 0),setAlign:()=>a(()=>Promise.resolve().then(function(){return Pe}),void 0),setFont:()=>a(()=>Promise.resolve().then(function(){return Ge}),void 0),setLineSpace:()=>a(()=>Promise.resolve().then(function(){return tt}),void 0),setWordGap:()=>a(()=>Promise.resolve().then(function(){return st}),void 0),setMargin:()=>a(()=>Promise.resolve().then(function(){return qe}),void 0),setDensity:()=>a(()=>Promise.resolve().then(function(){return _t}),void 0)},Oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("app-dialog",e._g(e._b({ref:"dialog",staticClass:"action-dialog",attrs:{embed:""},scopedSlots:e._u([{key:"default",fn:function(){return[e._t("default")]},proxy:!0},{key:"buttons",fn:function(){return[n("input-text-button",{attrs:{color:"primary",text:"Close"},on:{click:function(i){return e.$emit("close")}}})]},proxy:!0}],null,!0)},"app-dialog",e.$attrs,!1),e.$listeners))},Te=[];const ke={components:{InputTextButton:w,AppDialog:he},mixins:[c],inheritAttrs:!1},C={};var Ce=s(ke,Oe,Te,!1,De,"a6d84d84",null,null);function De(e){for(let t in C)this[t]=C[t]}var u=function(){return Ce.exports}(),Ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("action-dialog",e._g(e._b({staticClass:"action-dialog-set-align",attrs:{title:"Set Align"},scopedSlots:e._u([{key:"head",fn:function(){return[e._t("head")]},proxy:!0},{key:"default",fn:function(){return[n("input-dropdown",{attrs:{label:e.label,value:String(e.value),options:e.options},on:{input:function(i){e.$emit("input",Number(i))}}})]},proxy:!0}],null,!0)},"action-dialog",e.$attrs,!1),Object.assign({},e.$listeners,{input:[]})))},je=[];const Me={components:{ActionDialog:u,InputDropdown:p},mixins:[c],inheritAttrs:!1,props:{value:{type:[Number,String],default:0}},data(){return{label:"Select align",options:[["Left",f.LEFT],["Center",f.CENTER],["Right",f.RIGHT]].map(([e,t])=>new o({title:e,value:String(t)}))}}},D={};var Fe=s(Me,Ee,je,!1,Le,"6e0fa7f5",null,null);function Le(e){for(let t in D)this[t]=D[t]}var E=function(){return Fe.exports}(),Pe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:E}),Re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("action-dialog",e._g(e._b({staticClass:"action-dialog-set-font",attrs:{title:"Set Font"},scopedSlots:e._u([{key:"head",fn:function(){return[e._t("head")]},proxy:!0},{key:"default",fn:function(){return[n("input-dropdown",{attrs:{label:e.label,options:e.options,value:String(e.value)},on:{input:function(i){return e.$emit("input",i)}}})]},proxy:!0}],null,!0)},"action-dialog",e.$attrs,!1),Object.assign({},e.$listeners,{input:[]})))},Ne=[];const Be={components:{ActionDialog:u,InputDropdown:p},mixins:[c],inheritAttrs:!1,props:{value:{type:[String,Number],default:0}},data(){return{label:"Select font",options:Object.keys(m).map(e=>new o({title:e,value:String(m[e])}))}}},j={};var Ve=s(Be,Re,Ne,!1,ze,"075ad29a",null,null);function ze(e){for(let t in j)this[t]=j[t]}var M=function(){return Ve.exports}(),Ge=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:M}),He=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("action-dialog",e._g(e._b({staticClass:"action-set-margin",attrs:{title:"Set Margin"},scopedSlots:e._u([{key:"head",fn:function(){return[e._t("head")]},proxy:!0},{key:"default",fn:function(){return[n("input-text-field",{attrs:{step:"0.01",max:"1",min:"0",type:"number",value:e.value,label:e.label},on:{input:function(i){return e.$emit("input",i||0)}}})]},proxy:!0}],null,!0)},"action-dialog",e.$attrs,!1),Object.assign({},e.$listeners,{input:[]})))},Ue=[];const Xe={components:{ActionDialog:u,InputTextField:_},mixins:[c],inheritAttrs:!1,props:{value:{type:[Number,String],default:0}},data(){return{label:"Set Margin"}}},F={};var Ye=s(Xe,He,Ue,!1,We,"d5f438f2",null,null);function We(e){for(let t in F)this[t]=F[t]}var L=function(){return Ye.exports}(),qe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:L}),Qe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("action-dialog",e._g(e._b({staticClass:"action-set-line-space",attrs:{title:"Set Line Space"},scopedSlots:e._u([{key:"head",fn:function(){return[e._t("head")]},proxy:!0},{key:"default",fn:function(){return[n("input-text-field",{attrs:{step:"1",min:"0",type:"number",value:e.value,label:e.label},on:{input:function(i){return e.$emit("input",e.$even||0)}}})]},proxy:!0}],null,!0)},"action-dialog",e.$attrs,!1),Object.assign({},e.$listeners,{input:[]})))},Je=[];const Ze={components:{ActionDialog:u,InputTextField:_},mixins:[c],inheritAttrs:!1,props:{value:{type:[Number,String],default:0}},data(){return{label:"Set Line-space"}}},P={};var Ke=s(Ze,Qe,Je,!1,et,"4bc19970",null,null);function et(e){for(let t in P)this[t]=P[t]}var R=function(){return Ke.exports}(),tt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:R}),nt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("action-dialog",e._g(e._b({staticClass:"action-set-word-gap",attrs:{title:"Set Word Gap"},scopedSlots:e._u([{key:"head",fn:function(){return[e._t("head")]},proxy:!0},{key:"default",fn:function(){return[n("input-text-field",{attrs:{step:"1",min:"0",type:"number",value:e.value,label:e.label},on:{input:function(i){return e.$emit("input",i||0)}}})]},proxy:!0}],null,!0)},"action-dialog",e.$attrs,!1),Object.assign({},e.$listeners,{input:[]})))},it=[];const rt={components:{ActionDialog:u,InputTextField:_},mixins:[c],inheritAttrs:!1,props:{value:{type:[Number,String],default:0}},data(){return{label:"Set Word-Gap"}}},N={};var ot=s(rt,nt,it,!1,at,"3aa84cc8",null,null);function at(e){for(let t in N)this[t]=N[t]}var B=function(){return ot.exports}(),st=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:B}),lt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("action-dialog",e._g(e._b({staticClass:"action-set-density",attrs:{title:"Set Density"},scopedSlots:e._u([{key:"head",fn:function(){return[e._t("head")]},proxy:!0},{key:"default",fn:function(){return[n("input-dropdown",{attrs:{label:e.label,options:e.options,value:e.value},on:{input:function(i){return e.$emit("input",i)}}})]},proxy:!0}],null,!0)},"action-dialog",e.$attrs,!1),Object.assign({},e.$listeners,{input:[]})))},ct=[];const ut={components:{ActionDialog:u,InputDropdown:p},mixins:[c],inheritAttrs:!1,props:{value:{type:[Number,String],default:0}},data(){return{label:"Set Density",options:Array(15).fill("").map((e,t)=>new o(String(t+1)))}}},V={};var dt=s(ut,lt,ct,!1,pt,"110e1a49",null,null);function pt(e){for(let t in V)this[t]=V[t]}var z=function(){return dt.exports}(),_t=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:z}),vt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("base-input-label",{staticClass:"input-text-box",attrs:{text:e.label,delimiter:e.$attrs.delimiter||void 0,"top-label":e.$attrs["top-label"],"baseline-label":e.$attrs["baseline-label"]}},[n("textarea",e._b({domProps:{value:e.value},on:{input:e.onInput}},"textarea",e.$attrs,!1))])},ft=[];const mt={components:{BaseInputLabel:ve},inheritAttrs:!1,props:{label:{type:String,default:"TextBox"},topLabel:{type:Boolean,default:!0},value:{type:String,default:""}},data(){return{inputTimeout:null}},methods:{onInput(e){window.clearTimeout(this.inputTimeout),this.inputTimeout=window.setTimeout(()=>{this.$emit("input",e.target.value)},300)}}},G={};var ht=s(mt,vt,ft,!1,gt,"4d2fd548",null,null);function gt(e){for(let t in G)this[t]=G[t]}var H=function(){return ht.exports}(),bt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("action-dialog",e._g(e._b({staticClass:"action-dialog-text",attrs:{title:"Text"},scopedSlots:e._u([{key:"head",fn:function(){return[e._t("head")]},proxy:!0},{key:"default",fn:function(){return[n("input-text-box",{staticClass:"input",attrs:{placeholder:"Enter Text",label:null,value:e.value,rows:"10"},on:{input:e.onInput}}),n("div",{staticClass:"footer"},[n("span",[e._v("Rows: "),n("span",[e._v(e._s(e.value.split(`
`).length)+"; Count: "+e._s(e.value.length))])])])]},proxy:!0}],null,!0)},"action-dialog",e.$attrs,!1),Object.assign({},e.$listeners,{input:[]})))},yt=[];const $t={components:{ActionDialog:u,InputTextBox:H},mixins:[c],inheritAttrs:!1,props:{value:{type:String,default:""}},data(){return{label:"Select align"}},methods:{onInput(e){this.$emit("input",e)}}},U={};var xt=s($t,bt,yt,!1,St,"69a52efb",null,null);function St(e){for(let t in U)this[t]=U[t]}var X=function(){return xt.exports}(),wt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:X}),At=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("action-dialog",e._g(e._b({staticClass:"action-dialog-image",attrs:{title:"Image"},scopedSlots:e._u([{key:"head",fn:function(){return[e._t("head")]},proxy:!0},{key:"default",fn:function(){return[e.previewDataUrl?n("div",{staticClass:"preview"},[n("img",{attrs:{src:e.previewDataUrl}})]):e._e(),n("input-file-select",{attrs:{label:"File"},on:{input:e.onInputFileSelect}}),n("div",{staticClass:"cols"},[n("div",[n("input-check-box",{attrs:{label:"Grayscale"},model:{value:e.model.imageOptions.grayscale,callback:function(i){e.$set(e.model.imageOptions,"grayscale",i)},expression:"model.imageOptions.grayscale"}})],1),n("div",[n("input-check-box",{attrs:{label:"Rotate"},model:{value:e.model.imageOptions.rotate,callback:function(i){e.$set(e.model.imageOptions,"rotate",i)},expression:"model.imageOptions.rotate"}})],1),n("div",[n("input-check-box",{attrs:{label:"Flip X"},model:{value:e.model.imageOptions.flipX,callback:function(i){e.$set(e.model.imageOptions,"flipX",i)},expression:"model.imageOptions.flipX"}})],1),n("div",[n("input-check-box",{attrs:{label:"Flip Y"},model:{value:e.model.imageOptions.flipY,callback:function(i){e.$set(e.model.imageOptions,"flipY",i)},expression:"model.imageOptions.flipY"}})],1)]),n("input-text-field",{attrs:{type:"number",min:"1",step:"1",label:"width",placeholder:"Size from Image (max. 384px)"},model:{value:e.model.imageOptions.width,callback:function(i){e.$set(e.model.imageOptions,"width",i)},expression:"model.imageOptions.width"}})]},proxy:!0}],null,!0)},"action-dialog",e.$attrs,!1),Object.assign({},e.$listeners,{input:[]})))},It=[];const Ot={components:{ActionDialog:u,InputCheckBox:O,InputTextField:_,InputFileSelect:$e},mixins:[c],inheritAttrs:!1,props:{colors:{type:Object,default(){return{primary:[255,0,0],secondary:[0,255,0]}}},value:{type:Object,default(){return K()}}},data(){return{previewDataUrl:null,model:r({},this.value)}},watch:{model:{handler(){window.clearTimeout(this.updateTimeout),this.updateTimeout=window.setTimeout(()=>{this.render(),this.$emit("input",r({},this.model))},500)},deep:!0},colors(){this.render()}},mounted(){this.render()},methods:{onInput(e){this.$emit("input",e)},async onInputFileSelect(e){const t=await new Promise(n=>{const i=new FileReader;i.onload=l=>n(l.target.result),i.readAsDataURL(e)});this.updateCanvas(t)},async updateCanvas(e){let t=await $(e);t=x(t,ue),this.model=v(r({},this.model),{file:S(t)}),this.render()},async render(){let e=await $(this.model.file);e=fe(e,this.model.imageOptions),e=de(e,this.colors),e=x(e,null,100),this.previewDataUrl=S(e)},async loadFromUrl(){try{await this.updateCanvas(this.url)}catch(e){console.error(e)}}}},Y={};var Tt=s(Ot,At,It,!1,kt,"58799f29",null,null);function kt(e){for(let t in Y)this[t]=Y[t]}var W=function(){return Tt.exports}(),Ct=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:W}),Dt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("action-dialog",e._g(e._b({staticClass:"action-dialog-qr-code",attrs:{title:"QR Code"},scopedSlots:e._u([{key:"head",fn:function(){return[e._t("head")]},proxy:!0},{key:"default",fn:function(){return[n("input-text-box",{attrs:{label:"Text","baseline-label":""},model:{value:e.model.text,callback:function(i){e.$set(e.model,"text",i)},expression:"model.text"}}),n("hr"),n("input-drop-down",{attrs:{options:e.errorCorrectionLevelOptions,label:"Correc. Lev."},model:{value:e.model.options.errorCorrectionLevel,callback:function(i){e.$set(e.model.options,"errorCorrectionLevel",i)},expression:"model.options.errorCorrectionLevel"}}),n("div",{staticClass:"cols"},[n("div",[n("input-text-field",{attrs:{value:e.model.options.margin,type:"number",label:"Margin",step:"1",min:"0"},on:{input:function(i){e.model.options.margin=i||0}}})],1),n("div",[n("input-text-field",{attrs:{value:e.model.options.scale,type:"number",label:"Scale",step:"1",min:"0"},on:{input:function(i){e.model.options.scale=i||0}}})],1)]),n("hr"),n("div",{staticClass:"cols"},[n("div",[n("input-check-box",{attrs:{label:"Small"},model:{value:e.model.options.small,callback:function(i){e.$set(e.model.options,"small",i)},expression:"model.options.small"}})],1),n("div",[n("input-check-box",{attrs:{label:"Rotate"},model:{value:e.model.imageOptions.rotate,callback:function(i){e.$set(e.model.imageOptions,"rotate",i)},expression:"model.imageOptions.rotate"}})],1),n("div",[n("input-check-box",{attrs:{label:"Flip X"},model:{value:e.model.imageOptions.flipX,callback:function(i){e.$set(e.model.imageOptions,"flipX",i)},expression:"model.imageOptions.flipX"}})],1),n("div",[n("input-check-box",{attrs:{label:"Flip Y"},model:{value:e.model.imageOptions.flipY,callback:function(i){e.$set(e.model.imageOptions,"flipY",i)},expression:"model.imageOptions.flipY"}})],1)]),n("input-text-field",{attrs:{type:"number",min:"1",step:"1",label:"width",placeholder:"Size from Image (max. 384px)"},model:{value:e.model.imageOptions.width,callback:function(i){e.$set(e.model.imageOptions,"width",i)},expression:"model.imageOptions.width"}})]},proxy:!0}],null,!0)},"action-dialog",e.$attrs,!1),Object.assign({},e.$listeners,{input:[]})))},Et=[];const jt={components:{ActionDialog:u,InputCheckBox:O,InputDropDown:p,InputTextField:_,InputTextBox:H},mixins:[c],inheritAttrs:!1,props:{colors:{type:Object,default(){return{primary:[255,0,0],secondary:[0,255,0]}}},value:{type:Object,default(){return ee()}}},data(){return{type:"text",model:r({},this.value),errorCorrectionLevelOptions:[["Low","L"],["Medium","M"],["Quartile","Q"],["High","H"]].map(([e,t])=>new o({title:e,value:t})),typeOptions:[["Text","text"],["Url","url"]].map(([e,t])=>new o({title:e,value:t}))}},watch:{model:{handler(){window.clearTimeout(this.updateTimeout),this.updateTimeout=window.setTimeout(()=>{this.$emit("input",r({},this.model))},500)},deep:!0}}},q={};var Mt=s(jt,Dt,Et,!1,Ft,"2b5d0355",null,null);function Ft(e){for(let t in q)this[t]=q[t]}var Q=function(){return Mt.exports}(),Lt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Q}),Pt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("action-dialog",e._g(e._b({staticClass:"action-dialog-feed-pitch",attrs:{title:"Feed Pitch"},scopedSlots:e._u([{key:"head",fn:function(){return[e._t("head")]},proxy:!0},{key:"default",fn:function(){return[n("input-dropdown",{attrs:{label:"By",options:e.options},model:{value:e.model.type,callback:function(i){e.$set(e.model,"type",i)},expression:"model.type"}}),n("input-text-field",{attrs:{value:e.model.value,step:"1",max:"100",min:"0",type:"number",label:"Value"},on:{input:function(i){e.model.value=i||0}}})]},proxy:!0}],null,!0)},"action-dialog",e.$attrs,!1),Object.assign({},e.$listeners,{input:[]})))},Rt=[];const Nt={components:{ActionDialog:u,InputDropdown:p,InputTextField:_},mixins:[c],inheritAttrs:!1,props:{value:{type:Object,default(){return{type:"font",value:0}}}},data(){return{label:"Select align",options:[["Pixel","pixel"],["Font-Size","font"]].map(([e,t])=>new o({title:e,value:t})),model:r({},this.value)}},watch:{model:{handler(){this.$emit("input",this.model)},deep:!0}}},J={};var Bt=s(Nt,Pt,Rt,!1,Vt,"3b62d7ea",null,null);function Vt(e){for(let t in J)this[t]=J[t]}var Z=function(){return Bt.exports}(),zt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Z});const Gt=()=>[new o({title:"Add new Action\u2026",value:""}),new o({title:"Set Margin",value:"setMargin"}),new o({title:"Set Font",value:"setFont"}),new o({title:"Set Align",value:"setAlign"}),new o({title:"Set Density",value:"setDensity"}),new o({title:"Set LineSpace",value:"setLineSpace"}),new o({title:"Set WordGap",value:"setWordGap"}),new o({title:"Feed Pitch",value:"feedPitch"}),new o({title:"Reset",value:"reset"}),new o({title:"Image",value:"image"}),new o({title:"QRCode",value:"qrCode"}),new o({title:"Barcode",value:"barcode"}),new o({title:"Text",value:"text"}),new o({title:"Cutline",value:"cutLine"})];console.log("DEFAULT_DENSITY",A);const Ht=e=>({setMargin:L,setAlign:E,setFont:M,setDensity:z,text:X,image:W,qrCode:Q,setLineSpace:R,setWordGap:B,feedPitch:Z})[e],Ut=e=>{let t;switch(e){case"setLineSpace":t=0;break;case"setWordGap":t=0;break;case"setMargin":t=0;break;case"setFont":t=m.SIZE_8_16_THIN_1;break;case"setAlign":t=f.LEFT;break;case"feedPitch":t={value:1,type:"font"};break;case"text":t="Text";break;case"image":t=K();break;case"qrCode":t=ee();break;case"barcode":t=qt();break}return new pe({type:e,value:t})},Xt=e=>{const t=I();return e.map(n=>Wt(n,t)).filter(Boolean)},Yt=e=>Array(me[e]).fill("").map((t,n)=>n%2==0?"=":"-").join(""),Wt=(e,t)=>{switch(e.type){case"setMargin":t.margin=e.value;break;case"setAlign":t.align=e.value;break;case"setLineSpace":t.lineSpace=e.value;break;case"setWordGap":t.wordGap=e.value;break;case"setFont":t.font=Number(e.value);break;case"setDensity":t.density=Number(e.value);break;case"reset":Object.assign(t,I());break;case"cutLine":return{id:e.id,component:()=>a(()=>import("./TextCanvas.72403480.js"),["assets/TextCanvas.72403480.js","assets/TextCanvas.daeaf047.css","assets/devterm.94c2d908.js","assets/index.26493afd.js","assets/index.4c94bef4.css","assets/vendor.b1428349.js"]),options:v(r({},t),{margin:0,wordGap:0,lineSpace:0,density:A}),props:{value:Yt(t.font)}};case"barcode":return{id:e.id,component:()=>a(()=>import("./BarcodeCanvas.56fdbe33.js"),["assets/BarcodeCanvas.56fdbe33.js","assets/BarcodeCanvas.bb682541.css","assets/devterm.94c2d908.js","assets/index.26493afd.js","assets/index.4c94bef4.css","assets/vendor.b1428349.js","assets/TextCanvas.72403480.js","assets/TextCanvas.daeaf047.css","assets/View.ebc1ce3f.js","assets/TextButton.7bb6f4b0.js","assets/TextButton.79dccd20.css","assets/TextField.c46d9973.js","assets/TextField.76075ce2.css","assets/Dialog.b3e45a15.js","assets/Dialog.f8987a4e.css","assets/CheckBox.c59a75ed.js","assets/CheckBox.82b15c7e.css","assets/FileSelect.9d6efecc.js","assets/FileSelect.e53ff824.css"]),options:r({},t),props:r({},e)};case"qrCode":return{id:e.id,component:()=>a(()=>import("./QrCodeCanvas.fcbc1f6e.js"),["assets/QrCodeCanvas.fcbc1f6e.js","assets/QrCodeCanvas.75f80047.css","assets/devterm.94c2d908.js","assets/index.26493afd.js","assets/index.4c94bef4.css","assets/vendor.b1428349.js","assets/TextCanvas.72403480.js","assets/TextCanvas.daeaf047.css","assets/View.ebc1ce3f.js","assets/TextButton.7bb6f4b0.js","assets/TextButton.79dccd20.css","assets/TextField.c46d9973.js","assets/TextField.76075ce2.css","assets/Dialog.b3e45a15.js","assets/Dialog.f8987a4e.css","assets/CheckBox.c59a75ed.js","assets/CheckBox.82b15c7e.css","assets/FileSelect.9d6efecc.js","assets/FileSelect.e53ff824.css"]),options:r({},t),props:r({},e)};case"image":return{id:e.id,component:()=>a(()=>import("./ImageCanvas.1f4ca127.js"),["assets/ImageCanvas.1f4ca127.js","assets/ImageCanvas.691ee703.css","assets/devterm.94c2d908.js","assets/index.26493afd.js","assets/index.4c94bef4.css","assets/vendor.b1428349.js","assets/TextCanvas.72403480.js","assets/TextCanvas.daeaf047.css"]),options:r({},t),props:r({},e)};case"text":return{id:e.id,component:()=>a(()=>import("./TextCanvas.72403480.js"),["assets/TextCanvas.72403480.js","assets/TextCanvas.daeaf047.css","assets/devterm.94c2d908.js","assets/index.26493afd.js","assets/index.4c94bef4.css","assets/vendor.b1428349.js"]),options:r({},t),props:r({},e)};case"feedPitch":return{id:e.id,component:()=>a(()=>import("./FeedPitch.48fc8610.js"),["assets/FeedPitch.48fc8610.js","assets/FeedPitch.3c536760.css","assets/devterm.94c2d908.js","assets/index.26493afd.js","assets/index.4c94bef4.css","assets/vendor.b1428349.js"]),options:r({},t),props:r({},e.value)}}return null},K=()=>({file:null,imageOptions:{grayscale:!1,rotate:!1,flipX:!1,flipY:!1,width:null}}),ee=()=>({text:"Sample",options:{errorCorrectionLevel:"M",margin:0,scale:4,small:!1},imageOptions:{rotate:!1,flipX:!1,flipY:!1,width:null}}),qt=()=>({text:"Sample",options:{format:"",height:100,font:"monospace",textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,margin:10,displayValue:!0,flat:!1},imageOptions:{rotate:!1,flipX:!1,flipY:!1,width:null}});var Qt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M22 16v-2h-2v-2h-2v-2h-2V8h-2V6h-4v2H8v2H6v2H4v2H2v2H0v2h24v-2z"}})])},Jt={render:Qt},Zt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M22 8v2h-2v2h-2v2h-2v2h-2v2h-4v-2H8v-2H6v-2H4v-2H2V8H0V6h24v2z"}})])},Kt={render:Zt},en=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M2.1 4.9L9.2 12l-7.1 7.1 2.8 2.8 7.1-7.1 7.1 7.1 2.8-2.8-7.1-7.1 7.1-7.1-2.8-2.8L12 9.2 4.9 2.1z"}})])},tn={render:en},nn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._g({staticClass:"controls-action-item",class:{focus:e.focus||e.selected,property:e.property,"can-select":e.canSelect},attrs:{focusable:""}},e.$listeners),[n("div",{staticClass:"head"},[n("base-generic-button",{staticClass:"title",on:{click:e.onClick}},[n("span",[e._v(e._s(e.display.title)+e._s(e.display.value?":":""))]),e.display.value?n("span",[e._v(e._s(e.display.value))]):e._e()]),e.$slots.head?n("div",[e._t("head")],2):e._e()],1)])},rn=[];const on={components:{BaseGenericButton:y},props:{itemStates:{type:Object,default(){return{id:!1}}},canSelect:{type:Boolean,default:!1},id:{type:String,default:"id"},focus:{type:Boolean,default:!1},property:{type:Boolean,default:!1},display:{type:Object,default(){return{title:"Action Item",value:"Action Item Value"}}}},computed:{selected(){return this.itemStates[this.id]}},methods:{onClick(){this.canSelect&&this.$emit("select",this.id)}}},te={};var an=s(on,nn,rn,!1,sn,"3a993813",null,null);function sn(e){for(let t in te)this[t]=te[t]}var ln=function(){return an.exports}(),cn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"actions",class:{"action-active":e.selectedAction,drag:e.isDrag}},[n("div",{ref:"list",staticClass:"list"},[n("div",{on:{dragover:e.allowDrop,drop:e.onDrop}},[n("transition-group",{attrs:{name:e.isDrag?null:"flip-list",tag:"ul"}},e._l(e.model,function(i,l){return n("li",{key:i.id,attrs:{id:"anchor-action-item-"+i.id}},[e.ACTION_DEFINITIONS[i.type]?n("action-item",{attrs:{id:i.id,property:e.ACTION_DEFINITIONS[i.type].property,display:e.ACTION_DEFINITIONS[i.type].display(i.value),"can-select":!!e.ACTION_DIALOGS[i.type],"item-states":e.itemStates,"data-id":i.id,draggable:!e.itemStates[i.id],focus:e.dragTargetId===i.id&&i.id!==e.dragId},on:{select:function(d){return e.onSelectAction(i.id)},dragstart:e.onDragStart},scopedSlots:e._u([{key:"head",fn:function(){return[n("div",{staticClass:"action-controls"},[n("span",{staticClass:"index"},[e._v(e._s(l+1))]),n("input-icon-button",{on:{click:function(d){return e.onClickActionUp(l)}}},[n("svg-icon-arrow-up")],1),n("input-icon-button",{on:{click:function(d){return e.onClickActionDown(l)}}},[n("svg-icon-arrow-down")],1),n("input-icon-button",{on:{click:function(d){return e.onClickActionDelete(l)}}},[n("svg-icon-trash")],1)],1)]},proxy:!0}],null,!0)}):n("span",[e._v(" Action "+e._s(i.type)+" not defined\u2026 ")])],1)}),0)],1)]),n("div",{staticClass:"add-action"},[n("input-drop-down",{attrs:{options:e.actionTypeOptions,label:null},model:{value:e.createAction,callback:function(i){e.createAction=i},expression:"createAction"}})],1),e.selectedAction?n(e.dialogComponent,{ref:"dialog",tag:"component",attrs:{colors:e.colors,value:e.selectedAction.value},on:{input:function(i){return e.updateAction(e.selectedAction,i)},ready:e.onReadyDialog,close:e.onCloseDialog}}):e._e()],1)},un=[];const dn={components:{SvgIconArrowUp:Jt,SvgIconArrowDown:Kt,SvgIconTrash:tn,InputIconButton:k,InputDropDown:p,ActionItem:ln},props:{value:{type:Array,default(){return[]}},colors:{type:Object,default(){return{}}}},data(){return{ACTION_DEFINITIONS:_e,ACTION_DIALOGS:h,getComponentByType:Ht,selectedActionId:null,createAction:null,actionTypeOptions:Gt(),itemStates:{},isDrag:!1,dragId:null,dragTargetId:null,model:[...this.value]}},computed:{selectedAction(){return this.model.find(e=>e.id===this.selectedActionId)},dialogComponent(){return this.selectedAction&&h[this.selectedAction.type]}},watch:{value(e){this.model=[...e]},model:{handler(e){this.itemStates=Object.fromEntries(e.map(({id:t})=>[t,!1]))},immediate:!0},selectedAction(e,t){const n=r({},this.itemStates);t&&(n[t.id]=!1),e&&(n[e.id]=!0),this.itemStates=n,this.$emit("selectAction",e)},createAction(e){if(e){const t=Ut(e);this.updateModel([].concat(this.model,t)),this.$nextTick(()=>{this.createAction="",this.selectedActionId=null;const n=this.$refs.list.querySelector(`#anchor-action-item-${t.id}`);n&&n.scrollIntoView({block:"center"}),!!h[t.type]&&window.setTimeout(()=>{this.selectedActionId=t.id},600)})}}},mounted(){this.subscriptions=[ge(window,"dragenter").subscribe(e=>{if(e.target.closest("li [data-id]")){const t=e.target.closest("li [data-id]");this.dragTargetId=t.dataset.id}})]},destroyed(){this.subscriptions.forEach(e=>e.unsubscribe())},methods:{onReadyDialog(){this.$nextTick(()=>{this.$refs.dialog.show()})},onCloseDialog(){this.selectedActionId=null},onSelectAction(e){e?this.selectedActionId=e:this.selectedActionId=null},updateModel(e){this.model=[...e],this.$emit("input",[...e])},updateAction(e,t){const n=this.model,i=n.indexOf(e);n[i]=v(r({},n[i]),{value:t}),this.updateModel(n)},onClickActionDelete(e){const t=[].concat(this.model);this.updateModel([...t.slice(0,e||0),...t.slice(e+1)])},onClickActionUp(e){const t=[].concat(this.model),n=t[Math.max(e-1,0)];t[Math.max(e-1,0)]=t[e],t[e]=n,this.updateModel(t)},onClickActionDown(e){const t=[].concat(this.model),n=this.model[Math.min(e+1,t.length-1)];t[Math.min(e+1,t.length-1)]=t[e],t[e]=n,this.updateModel(t)},onDragStart(e){window.setTimeout(()=>{this.dragId=e.target.dataset.id,this.isDrag=!0},100)},onDrop(e){let t=[].concat(this.model);const n=t.indexOf(t.find(d=>d.id===this.dragTargetId)),i=t.indexOf(t.find(d=>d.id===this.dragId)),l=t.splice(i,1);i>n?t=[...t.slice(0,n+1),...l,...t.slice(n+1)]:t=[...t.slice(0,n),...l,...t.slice(n)],this.dragId=null,this.dragTargetId=null,this.isDrag=!1,this.updateModel(t)},allowDrop(e){e.preventDefault()}}},ne={};var pn=s(dn,cn,un,!1,_n,"7df5142f",null,null);function _n(e){for(let t in ne)this[t]=ne[t]}var vn=function(){return pn.exports}(),fn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("app-view",{staticClass:"view-printer",style:e.style},[n("div",{key:JSON.stringify(e.colors),staticClass:"printer-preview"},[n("div",[n("div",{class:{"has-selected":e.selectedAction}},e._l(e.previewItems,function(i,l){return n("div",{key:l,class:{selected:e.selectedAction&&e.selectedAction.id===i.id},attrs:{id:"anchor-action-"+i.id}},[n(i.component,e._b({key:JSON.stringify(i.options),tag:"component",attrs:{options:i.options,colors:e.colors}},"component",i.props,!1))],1)}),0)]),n("input-text-button",{staticClass:"print-button",attrs:{color:"primary"},on:{click:e.onClickPrint}},[e._v(" Print ")]),n("transition",{attrs:{name:"fade"}},[e.loading?n("div",{staticClass:"layer-loading"},[e._v(" Loading ")]):e._e()])],1),n("actions",{staticClass:"printer-actions",attrs:{colors:e.colors},on:{selectAction:function(i){e.selectedAction=i}},model:{value:e.actions,callback:function(i){e.actions=i},expression:"actions"}}),e.actions.length<1?n("div",{staticClass:"actions-empty"},[e._v(" Add a Action! ")]):e._e()],1)},mn=[];const hn={components:{AppView:ce,InputIconButton:k,InputTextButton:w,InputDropDown:p,Actions:vn},props:{colors:{type:Object,default(){return{primary:[255,204,0],secondary:[0,0,0],printer:{preview:{background:[0,0,0],foreground:[255,204,0]}}}}},value:{type:Array,default(){return[]}}},data(){return{actions:[].concat(this.value),previewItems:[],loading:!0,selectedAction:null}},computed:{style(){return{"--color-printer-preview-background":`rgb(${this.colors.printer.preview.background.join(",")})`,"--color-printer-preview-foreground":`rgb(${this.colors.printer.preview.foreground.join(",")})`}}},watch:{value(e){this.actions=e},actions(){this.render(),this.$emit("input",this.actions)},selectedAction(e){if(e){const t=document.querySelector(`#anchor-action-${e.id}`);this.$nextTick(()=>{window.requestAnimationFrame(()=>{t&&t.scrollIntoView({block:"center",behavior:"smooth"})})})}}},mounted(){this.render(),this.subscriptions=[be.pipe(ye(({key:e})=>e==="PrintScreen")).subscribe(e=>this.print())]},destroyed(){this.subscriptions.forEach(e=>e.unsubscribe())},methods:{render(){this.actions.length?(this.loading=!0,window.clearTimeout(this.renderTimeout),this.renderTimeout=window.setTimeout(async()=>{this.previewItems=await Xt(this.actions),console.log(this.actions,this.previewItems,this.previewItems.find(e=>!e)),this.$nextTick(()=>{this.loading=!1})},500)):this.previewItems=[]},print(){return this.$client.executeActions(this.actions)},onClickPrint(){this.print()}}},ie={};var gn=s(hn,fn,mn,!1,bn,"d45e6c2c",null,null);function bn(e){for(let t in ie)this[t]=ie[t]}var yn=function(){return gn.exports}(),Cn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:yn});export{u as A,H as I,Cn as P,ee as a,qt as g};
