import{I as n,D as a}from"./DropDown.0d82d0c6.js";import{A as i,M as l}from"./Dialog.e41ae0b9.js";import{B as c}from"./InputLabel.ccd0d1b4.js";import{I as p}from"./TextButton.6290144b.js";import{I as u}from"./TextField.e004b8be.js";import{I as v}from"./CheckBox.91584043.js";import{n as h}from"./index.1ac76329.js";import"./vendor.b1428349.js";import"./devterm.23ce4049.js";var f=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("app-dialog",t._g(t._b({ref:"dialog",staticClass:"dialog-server",attrs:{title:"Server"},scopedSlots:t._u([{key:"default",fn:function(){return[e("base-input-label",{attrs:{text:"Status"}},[e("span",{staticClass:"status",class:{active:t.active}},[t._v(t._s(t.active?"listening on *:"+t.$server.options.port:"Offline"))])]),e("base-input-label",{attrs:{text:"Active Sessions"}},[e("span",[t._v(t._s(t.$server.options.activeSessions))])]),e("input-drop-down",{attrs:{"baseline-label":"",size:"5",readonly:"",label:"Active Hosts",options:t.hostsOptions}}),e("input-text-field",{attrs:{type:"Number",label:"Port",min:"1024",step:"1",value:t.port},on:{input:function(s){t.port=parseInt(s)}}}),t.active?t._e():e("input-check-box",{attrs:{label:"Auto connect"},model:{value:t.autoConnect,callback:function(s){t.autoConnect=s},expression:"autoConnect"}})]},proxy:!0},{key:"buttons",fn:function(){return[t.active?e("input-text-button",{attrs:{color:"primary",text:"Stop"},on:{click:t.onClickStop}}):e("input-text-button",{attrs:{color:"primary",text:"Start"},on:{click:t.onClickStart}}),e("input-text-button",{attrs:{color:"secondary",text:"Close"},on:{click:function(s){return t.close()}}})]},proxy:!0}])},"app-dialog",t.$attrs,!1),t.$listeners))},d=[];const _={components:{AppDialog:i,BaseInputLabel:c,InputTextButton:p,InputTextField:u,InputDropDown:n,InputCheckBox:v},mixins:[l],inheritAttrs:!1,data(){return{host:"localhost",port:3e3,refreshIntervalDuration:3e3,refreshInterval:null,autoConnect:!0}},computed:{active(){return this.$server.options.active},hostsOptions(){return this.$server.options.hosts.map(t=>new a(t))}},watch:{open(t){this.toggleRefreshInterval(t)}},destroy(){this.toggleRefreshInterval(!1)},methods:{toggleRefreshInterval(t){t?(this.$server.refresh(),this.refreshInterval=window.setInterval(()=>{this.$server.refresh()},this.refreshIntervalDuration)):window.clearInterval(this.refreshInterval)},async onClickStart(){try{await this.$server.start(this.port),this.autoConnect&&await this.$client.connect(this.port,this.$server.options.hosts[0]),this.autoConnect&&this.close()}catch(t){this.$errorList.add(t)}},async onClickStop(){try{await this.$server.stop()}catch(t){this.$errorList.add(t)}}}},o={};var m=h(_,f,d,!1,x,"7023c146",null,null);function x(t){for(let r in o)this[r]=o[r]}var D=function(){return m.exports}();export{D as default};
