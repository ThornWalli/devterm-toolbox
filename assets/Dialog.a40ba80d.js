import{n as P}from"./index.e95e771f.js";/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var T=function(r,e){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},T(r,e)};function a(r,e){T(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function d(r){return typeof r=="function"}var x=!1,l={Promise:void 0,set useDeprecatedSynchronousErrorHandling(r){if(r){var e=new Error;""+e.stack}x=r},get useDeprecatedSynchronousErrorHandling(){return x}};function b(r){setTimeout(function(){throw r},0)}var v={closed:!0,next:function(r){},error:function(r){if(l.useDeprecatedSynchronousErrorHandling)throw r;b(r)},complete:function(){}},A=function(){return Array.isArray||function(r){return r&&typeof r.length=="number"}}();function Y(r){return r!==null&&typeof r=="object"}var I=function(){function r(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(t,n){return n+1+") "+t.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}return r.prototype=Object.create(Error.prototype),r}(),w=I,h=function(){function r(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return r.prototype.unsubscribe=function(){var e;if(!this.closed){var t=this,n=t._parentOrParents,i=t._ctorUnsubscribe,o=t._unsubscribe,s=t._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof r)n.remove(this);else if(n!==null)for(var u=0;u<n.length;++u){var c=n[u];c.remove(this)}if(d(o)){i&&(this._unsubscribe=void 0);try{o.call(this)}catch(g){e=g instanceof w?$(g.errors):[g]}}if(A(s))for(var u=-1,p=s.length;++u<p;){var y=s[u];if(Y(y))try{y.unsubscribe()}catch(j){e=e||[],j instanceof w?e=e.concat($(j.errors)):e.push(j)}}if(e)throw new w(e)}},r.prototype.add=function(e){var t=e;if(!e)return r.EMPTY;switch(typeof e){case"function":t=new r(e);case"object":if(t===this||t.closed||typeof t.unsubscribe!="function")return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof r)){var n=t;t=new r,t._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=t._parentOrParents;if(i===null)t._parentOrParents=this;else if(i instanceof r){if(i===this)return t;t._parentOrParents=[i,this]}else if(i.indexOf(this)===-1)i.push(this);else return t;var o=this._subscriptions;return o===null?this._subscriptions=[t]:o.push(t),t},r.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);n!==-1&&t.splice(n,1)}},r.EMPTY=function(e){return e.closed=!0,e}(new r),r}();function $(r){return r.reduce(function(e,t){return e.concat(t instanceof w?t.errors:t)},[])}var E=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),f=function(r){a(e,r);function e(t,n,i){var o=r.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=v;break;case 1:if(!t){o.destination=v;break}if(typeof t=="object"){t instanceof e?(o.syncErrorThrowable=t.syncErrorThrowable,o.destination=t,t.add(o)):(o.syncErrorThrowable=!0,o.destination=new M(o,t));break}default:o.syncErrorThrowable=!0,o.destination=new M(o,t,n,i);break}return o}return e.prototype[E]=function(){return this},e.create=function(t,n,i){var o=new e(t,n,i);return o.syncErrorThrowable=!1,o},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(h),M=function(r){a(e,r);function e(t,n,i,o){var s=r.call(this)||this;s._parentSubscriber=t;var u,c=s;return d(n)?u=n:n&&(u=n.next,i=n.error,o=n.complete,n!==v&&(c=Object.create(n),d(c.unsubscribe)&&s.add(c.unsubscribe.bind(c)),c.unsubscribe=s.unsubscribe.bind(s))),s._context=c,s._next=u,s._error=i,s._complete=o,s}return e.prototype.next=function(t){if(!this.isStopped&&this._next){var n=this._parentSubscriber;!l.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?this.__tryOrUnsub(this._next,t):this.__tryOrSetError(n,this._next,t)&&this.unsubscribe()}},e.prototype.error=function(t){if(!this.isStopped){var n=this._parentSubscriber,i=l.useDeprecatedSynchronousErrorHandling;if(this._error)!i||!n.syncErrorThrowable?(this.__tryOrUnsub(this._error,t),this.unsubscribe()):(this.__tryOrSetError(n,this._error,t),this.unsubscribe());else if(n.syncErrorThrowable)i?(n.syncErrorValue=t,n.syncErrorThrown=!0):b(t),this.unsubscribe();else{if(this.unsubscribe(),i)throw t;b(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var i=function(){return t._complete.call(t._context)};!l.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?(this.__tryOrUnsub(i),this.unsubscribe()):(this.__tryOrSetError(n,i),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,n){try{t.call(this._context,n)}catch(i){if(this.unsubscribe(),l.useDeprecatedSynchronousErrorHandling)throw i;b(i)}},e.prototype.__tryOrSetError=function(t,n,i){if(!l.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,i)}catch(o){return l.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=o,t.syncErrorThrown=!0,!0):(b(o),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(f);function V(r){for(;r;){var e=r,t=e.closed,n=e.destination,i=e.isStopped;if(t||i)return!1;n&&n instanceof f?r=n:r=null}return!0}function z(r,e,t){if(r){if(r instanceof f)return r;if(r[E])return r[E]()}return!r&&!e&&!t?new f(v):new f(r,e,t)}var B=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function J(r){return r}function Q(r){return r.length===0?J:r.length===1?r[0]:function(t){return r.reduce(function(n,i){return i(n)},t)}}var S=function(){function r(e){this._isScalar=!1,e&&(this._subscribe=e)}return r.prototype.lift=function(e){var t=new r;return t.source=this,t.operator=e,t},r.prototype.subscribe=function(e,t,n){var i=this.operator,o=z(e,t,n);if(i?o.add(i.call(o,this.source)):o.add(this.source||l.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),l.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},r.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){l.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),V(e)?e.error(t):console.warn(t)}},r.prototype.forEach=function(e,t){var n=this;return t=D(t),new t(function(i,o){var s;s=n.subscribe(function(u){try{e(u)}catch(c){o(c),s&&s.unsubscribe()}},o,i)})},r.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},r.prototype[B]=function(){return this},r.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length===0?this:Q(e)(this)},r.prototype.toPromise=function(e){var t=this;return e=D(e),new e(function(n,i){var o;t.subscribe(function(s){return o=s},function(s){return i(s)},function(){return n(o)})})},r.create=function(e){return new r(e)},r}();function D(r){if(r||(r=l.Promise||Promise),!r)throw new Error("no Promise impl found");return r}function q(r,e){return function(n){if(typeof r!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new G(r,e))}}var G=function(){function r(e,t){this.project=e,this.thisArg=t}return r.prototype.call=function(e,t){return t.subscribe(new K(e,this.project,this.thisArg))},r}(),K=function(r){a(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.project=n,o.count=0,o.thisArg=i||o,o}return e.prototype._next=function(t){var n;try{n=this.project.call(this.thisArg,t,this.count++)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(f);function W(r,e){return function(n){return n.lift(new X(r,e))}}var X=function(){function r(e,t){this.predicate=e,this.thisArg=t}return r.prototype.call=function(e,t){return t.subscribe(new Z(e,this.predicate,this.thisArg))},r}(),Z=function(r){a(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.predicate=n,o.thisArg=i,o.count=0,o}return e.prototype._next=function(t){var n;try{n=this.predicate.call(this.thisArg,t,this.count++)}catch(i){this.destination.error(i);return}n&&this.destination.next(t)},e}(f),N=function(){function r(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return r.prototype=Object.create(Error.prototype),r}(),_=N,tt=function(r){a(e,r);function e(t,n){var i=r.call(this)||this;return i.subject=t,i.subscriber=n,i.closed=!1,i}return e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,n=t.observers;if(this.subject=null,!(!n||n.length===0||t.isStopped||t.closed)){var i=n.indexOf(this.subscriber);i!==-1&&n.splice(i,1)}}},e}(h),F=function(r){a(e,r);function e(t){var n=r.call(this,t)||this;return n.destination=t,n}return e}(f),U=function(r){a(e,r);function e(){var t=r.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return e.prototype[E]=function(){return new F(this)},e.prototype.lift=function(t){var n=new k(this,this);return n.operator=t,n},e.prototype.next=function(t){if(this.closed)throw new _;if(!this.isStopped)for(var n=this.observers,i=n.length,o=n.slice(),s=0;s<i;s++)o[s].next(t)},e.prototype.error=function(t){if(this.closed)throw new _;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var n=this.observers,i=n.length,o=n.slice(),s=0;s<i;s++)o[s].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new _;this.isStopped=!0;for(var t=this.observers,n=t.length,i=t.slice(),o=0;o<n;o++)i[o].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(t){if(this.closed)throw new _;return r.prototype._trySubscribe.call(this,t)},e.prototype._subscribe=function(t){if(this.closed)throw new _;return this.hasError?(t.error(this.thrownError),h.EMPTY):this.isStopped?(t.complete(),h.EMPTY):(this.observers.push(t),new tt(this,t))},e.prototype.asObservable=function(){var t=new S;return t.source=this,t},e.create=function(t,n){return new k(t,n)},e}(S),k=function(r){a(e,r);function e(t,n){var i=r.call(this)||this;return i.destination=t,i.source=n,i}return e.prototype.next=function(t){var n=this.destination;n&&n.next&&n.next(t)},e.prototype.error=function(t){var n=this.destination;n&&n.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){var n=this.source;return n?this.source.subscribe(t):h.EMPTY},e}(U);function O(){return function(e){return e.lift(new rt(e))}}var rt=function(){function r(e){this.connectable=e}return r.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var i=new et(e,n),o=t.subscribe(i);return i.closed||(i.connection=n.connect()),o},r}(),et=function(r){a(e,r);function e(t,n){var i=r.call(this,t)||this;return i.connectable=n,i}return e.prototype._unsubscribe=function(){var t=this.connectable;if(!t){this.connection=null;return}this.connectable=null;var n=t._refCount;if(n<=0){this.connection=null;return}if(t._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,o=t._connection;this.connection=null,o&&(!i||o===i)&&o.unsubscribe()},e}(f),nt=function(r){a(e,r);function e(t,n){var i=r.call(this)||this;return i.source=t,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,t=this._connection=new h,t.add(this.source.subscribe(new ot(this.getSubject(),this))),t.closed&&(this._connection=null,t=h.EMPTY)),t},e.prototype.refCount=function(){return O()(this)},e}(S),it=function(){var r=nt.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:r._subscribe},_isComplete:{value:r._isComplete,writable:!0},getSubject:{value:r.getSubject},connect:{value:r.connect},refCount:{value:r.refCount}}}(),ot=function(r){a(e,r);function e(t,n){var i=r.call(this,t)||this;return i.connectable=n,i}return e.prototype._error=function(t){this._unsubscribe(),r.prototype._error.call(this,t)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),r.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var n=t._connection;t._refCount=0,t._subject=null,t._connection=null,n&&n.unsubscribe()}},e}(F);function st(r,e){return function(n){var i;if(typeof r=="function"?i=r:i=function(){return r},typeof e=="function")return n.lift(new ut(i,e));var o=Object.create(n,it);return o.source=n,o.subjectFactory=i,o}}var ut=function(){function r(e,t){this.subjectFactory=e,this.selector=t}return r.prototype.call=function(e,t){var n=this.selector,i=this.subjectFactory(),o=n(i).subscribe(e);return o.add(t.subscribe(i)),o},r}();function ct(){return new U}function C(){return function(r){return O()(st(ct)(r))}}function m(r,e,t,n){return d(t)&&(n=t,t=void 0),n?m(r,e,t).pipe(q(function(i){return A(i)?n.apply(void 0,i):n(i)})):new S(function(i){function o(s){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(s)}R(r,e,o,i,t)})}function R(r,e,t,n,i){var o;if(ft(r)){var s=r;r.addEventListener(e,t,i),o=function(){return s.removeEventListener(e,t,i)}}else if(lt(r)){var u=r;r.on(e,t),o=function(){return u.off(e,t)}}else if(at(r)){var c=r;r.addListener(e,t),o=function(){return c.removeListener(e,t)}}else if(r&&r.length)for(var p=0,y=r.length;p<y;p++)R(r[p],e,t,n,i);else throw new TypeError("Invalid event target");n.add(o)}function at(r){return r&&typeof r.addListener=="function"&&typeof r.removeListener=="function"}function lt(r){return r&&typeof r.on=="function"&&typeof r.off=="function"}function ft(r){return r&&typeof r.addEventListener=="function"&&typeof r.removeEventListener=="function"}m(window,"resize").pipe(C());m(window,"keypress").pipe(C());const ht=m(window,"keyup").pipe(C());var pt=function(){var r=this,e=r.$createElement,t=r._self._c||e;return r.open?t("dialog",{staticClass:"app-dialog",class:{embed:r.embed}},[t("span",{on:{click:function(n){return r.close()}}}),r.title?t("div",{staticClass:"dialog-title"},[r._v(" "+r._s(r.title)+" ")]):r._e(),t("form",{staticClass:"dialog-content",on:{submit:function(n){return r.$emit("submit",n)}}},[t("div",[r._t("default",function(){return[r._v("Dialog Content")]})],2),r.$slots.buttons?t("div",{staticClass:"buttons"},[r._t("buttons")],2):r._e()])]):r._e()},bt=[];const _t={inheritAttrs:!0,props:{embed:{type:Boolean,default:!1},escapeClose:{type:Boolean,default:!0},initOpen:{type:Boolean,default:!1},title:{type:String,default:null}},data(){return{open:!1,subscriptions:[]}},watch:{open(r){r?this.subscriptions=[ht.pipe(W(({key:e})=>e==="Escape"&&this.escapeClose)).subscribe(e=>{this.close()})]:(this.subscriptions.forEach(e=>e.unsubscribe()),this.subscriptions=[])}},mounted(){this.$emit("ready"),this.initOpen&&this.$nextTick(()=>{this.show()})},destroyed(){this.subscriptions.forEach(r=>r.unsubscribe())},methods:{show(){return new Promise(r=>{this.open=!0,this.$nextTick(()=>{this.embed?this.$el.show():this.$el.showModal(),this.$emit("open"),this.$once("close",r)})})},close(r){this.open=!1,this.$el.close(r),this.$emit("close",r)}}},H={};var yt=P(_t,pt,bt,!1,dt,"69df6563",null,null);function dt(r){for(let e in H)this[e]=H[e]}var jt=function(){return yt.exports}();const vt={data(){return{open:!1}},mounted(){const r=this.$children[0];this.open=r.open,r.$on("open",()=>this.open=!0).$on("close",()=>this.open=!1)},methods:{show(...r){return this.$children[0].show(...r)},close(...r){return this.$children[0].close(...r)}}};let wt,Et;const L={};var St=P(vt,wt,Et,!1,mt,null,null,null);function mt(r){for(let e in L)this[e]=L[e]}var Tt=function(){return St.exports}();export{jt as A,Tt as M,W as a,m as f,ht as k};
