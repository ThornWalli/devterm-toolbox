var oe=Object.defineProperty,se=Object.defineProperties;var re=Object.getOwnPropertyDescriptors;var h=Object.getOwnPropertySymbols;var ae=Object.prototype.hasOwnProperty,le=Object.prototype.propertyIsEnumerable;var b=(e,t,n)=>t in e?oe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,o=(e,t)=>{for(var n in t||(t={}))ae.call(t,n)&&b(e,n,t[n]);if(h)for(var n of h(t))le.call(t,n)&&b(e,n,t[n]);return e},v=(e,t)=>se(e,re(t));import{A as ce}from"./View.db9df7a8.js";import{n as a,B as y,_ as r,A as m,F as f,g as $,r as x,M as ue,t as S,p as de,a as pe,D as w,b as A,c as _e,d as ve,e as me,f as fe,k as ge}from"./index.ad057053.js";import{I}from"./TextButton.e8c45ec8.js";import{I as p,D as s,a as _,B as he}from"./TextField.927dc3ff.js";import{A as be,M as c,f as ye}from"./Dialog.d28e6048.js";import{I as O}from"./CheckBox.64d3b2a3.js";import{I as $e}from"./FileSelect.277ad981.js";var xe=function(){var e,t=this,n=t.$createElement,i=t._self._c||n;return i("base-generic-button",t._g({staticClass:"input-icon-button",class:(e={},e["color-"+t.color]=t.color,e)},t.$listeners),[i("i",[t._t("default",function(){return[t.svg?i(t.svg,{tag:"component"}):t._e()]})],2)])},Se=[];const we={components:{BaseGenericButton:y},inheritAttrs:!1,props:{color:{type:String,default:"secondary"},svg:{type:[Object,Function],required:!1,default:null}}},T={};var Ae=a(we,xe,Se,!1,Ie,"3a22583a",null,null);function Ie(e){for(let t in T)this[t]=T[t]}var C=function(){return Ae.exports}(),g={barcode:()=>r(()=>import("./Barcode.89b1c3c8.js"),["assets/Barcode.89b1c3c8.js","assets/index.ad057053.js","assets/index.03e47e4b.css","assets/vendor.b1428349.js","assets/devterm.a10f71a8.js","assets/CheckBox.64d3b2a3.js","assets/CheckBox.82b15c7e.css","assets/TextField.927dc3ff.js","assets/TextField.a9ee00f3.css","assets/Dialog.d28e6048.js","assets/Dialog.68b2fee9.css","assets/View.db9df7a8.js","assets/TextButton.e8c45ec8.js","assets/TextButton.62fd88c4.css","assets/FileSelect.277ad981.js","assets/FileSelect.a3ea1f4f.css"]),qrCode:()=>r(()=>Promise.resolve().then(function(){return Lt}),void 0),text:()=>r(()=>Promise.resolve().then(function(){return wt}),void 0),image:()=>r(()=>Promise.resolve().then(function(){return kt}),void 0),feedPitch:()=>r(()=>Promise.resolve().then(function(){return zt}),void 0),setAlign:()=>r(()=>Promise.resolve().then(function(){return Pe}),void 0),setFont:()=>r(()=>Promise.resolve().then(function(){return Ge}),void 0),setLineSpace:()=>r(()=>Promise.resolve().then(function(){return tt}),void 0),setWordGap:()=>r(()=>Promise.resolve().then(function(){return at}),void 0),setMargin:()=>r(()=>Promise.resolve().then(function(){return qe}),void 0),setDensity:()=>r(()=>Promise.resolve().then(function(){return _t}),void 0)},Oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("app-dialog",e._g(e._b({ref:"dialog",staticClass:"action-dialog",attrs:{embed:""},scopedSlots:e._u([{key:"default",fn:function(){return[e._t("default")]},proxy:!0},{key:"buttons",fn:function(){return[n("input-text-button",{attrs:{color:"primary",text:"Close"},on:{click:function(i){return e.$emit("close")}}})]},proxy:!0}],null,!0)},"app-dialog",e.$attrs,!1),e.$listeners))},Te=[];const Ce={components:{InputTextButton:I,AppDialog:be},mixins:[c],inheritAttrs:!1},k={};var ke=a(Ce,Oe,Te,!1,De,"a6d84d84",null,null);function De(e){for(let t in k)this[t]=k[t]}var u=function(){return ke.exports}(),Ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("action-dialog",e._g(e._b({staticClass:"action-dialog-set-align",attrs:{title:"Set Align"},scopedSlots:e._u([{key:"default",fn:function(){return[n("input-dropdown",{attrs:{label:e.label,value:String(e.value),options:e.options},on:{input:function(i){e.$emit("input",Number(i))}}})]},proxy:!0}])},"action-dialog",e.$attrs,!1),Object.assign({},e.$listeners,{input:[]})))},je=[];const Me={components:{ActionDialog:u,InputDropdown:p},mixins:[c],inheritAttrs:!1,props:{value:{type:[Number,String],default:0}},data(){return{label:"Select align",options:[["Left",m.LEFT],["Center",m.CENTER],["Right",m.RIGHT]].map(([e,t])=>new s({title:e,value:String(t)}))}}},D={};var Fe=a(Me,Ee,je,!1,Le,"50de239a",null,null);function Le(e){for(let t in D)this[t]=D[t]}var E=function(){return Fe.exports}(),Pe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:E}),Re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("action-dialog",e._g(e._b({staticClass:"action-dialog-set-font",attrs:{title:"Set Font"},scopedSlots:e._u([{key:"default",fn:function(){return[n("input-dropdown",{attrs:{label:e.label,options:e.options,value:String(e.value)},on:{input:function(i){return e.$emit("input",i)}}})]},proxy:!0}])},"action-dialog",e.$attrs,!1),Object.assign({},e.$listeners,{input:[]})))},Ne=[];const Be={components:{ActionDialog:u,InputDropdown:p},mixins:[c],inheritAttrs:!1,props:{value:{type:[String,Number],default:0}},data(){return{label:"Select font",options:Object.keys(f).map(e=>new s({title:e,value:String(f[e])}))}}},j={};var Ve=a(Be,Re,Ne,!1,ze,"3fce58d0",null,null);function ze(e){for(let t in j)this[t]=j[t]}var M=function(){return Ve.exports}(),Ge=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:M}),Ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("action-dialog",e._g(e._b({staticClass:"action-set-margin",attrs:{title:"Set Margin"},scopedSlots:e._u([{key:"default",fn:function(){return[n("input-text-field",{attrs:{step:"0.01",max:"1",min:"0",type:"number",value:e.value,label:e.label},on:{input:function(i){return e.$emit("input",i||0)}}})]},proxy:!0}])},"action-dialog",e.$attrs,!1),Object.assign({},e.$listeners,{input:[]})))},He=[];const Xe={components:{ActionDialog:u,InputTextField:_},mixins:[c],inheritAttrs:!1,props:{value:{type:[Number,String],default:0}},data(){return{label:"Set Margin"}}},F={};var Ye=a(Xe,Ue,He,!1,We,"c7c5cee8",null,null);function We(e){for(let t in F)this[t]=F[t]}var L=function(){return Ye.exports}(),qe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:L}),Qe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("action-dialog",e._g(e._b({staticClass:"action-set-line-space",attrs:{title:"Set Line Space"},scopedSlots:e._u([{key:"default",fn:function(){return[n("input-text-field",{attrs:{step:"1",min:"0",type:"number",value:e.value,label:e.label},on:{input:function(i){return e.$emit("input",e.$even||0)}}})]},proxy:!0}])},"action-dialog",e.$attrs,!1),Object.assign({},e.$listeners,{input:[]})))},Je=[];const Ze={components:{ActionDialog:u,InputTextField:_},mixins:[c],inheritAttrs:!1,props:{value:{type:[Number,String],default:0}},data(){return{label:"Set Line-space"}}},P={};var Ke=a(Ze,Qe,Je,!1,et,"5233334b",null,null);function et(e){for(let t in P)this[t]=P[t]}var R=function(){return Ke.exports}(),tt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:R}),nt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("action-dialog",e._g(e._b({staticClass:"action-set-word-gap",attrs:{title:"Set Word Gap"},scopedSlots:e._u([{key:"default",fn:function(){return[n("input-text-field",{attrs:{step:"1",min:"0",type:"number",value:e.value,label:e.label},on:{input:function(i){return e.$emit("input",i||0)}}})]},proxy:!0}])},"action-dialog",e.$attrs,!1),Object.assign({},e.$listeners,{input:[]})))},it=[];const ot={components:{ActionDialog:u,InputTextField:_},mixins:[c],inheritAttrs:!1,props:{value:{type:[Number,String],default:0}},data(){return{label:"Set Word-Gap"}}},N={};var st=a(ot,nt,it,!1,rt,"2714dc23",null,null);function rt(e){for(let t in N)this[t]=N[t]}var B=function(){return st.exports}(),at=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:B}),lt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("action-dialog",e._g(e._b({staticClass:"action-set-density",attrs:{title:"Set Density"},scopedSlots:e._u([{key:"default",fn:function(){return[n("input-dropdown",{attrs:{label:e.label,options:e.options,value:e.value},on:{input:function(i){return e.$emit("input",i)}}})]},proxy:!0}])},"action-dialog",e.$attrs,!1),Object.assign({},e.$listeners,{input:[]})))},ct=[];const ut={components:{ActionDialog:u,InputDropdown:p},mixins:[c],inheritAttrs:!1,props:{value:{type:[Number,String],default:0}},data(){return{label:"Set Density",options:Array(15).fill("").map((e,t)=>new s(String(t+1)))}}},V={};var dt=a(ut,lt,ct,!1,pt,"dbdb1564",null,null);function pt(e){for(let t in V)this[t]=V[t]}var z=function(){return dt.exports}(),_t=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:z}),vt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("base-input-label",{staticClass:"input-text-box",attrs:{text:e.label,delimiter:e.$attrs.delimiter||void 0,"top-label":e.$attrs["top-label"],"baseline-label":e.$attrs["baseline-label"]}},[n("textarea",e._b({domProps:{value:e.value},on:{input:e.onInput}},"textarea",e.$attrs,!1))])},mt=[];const ft={components:{BaseInputLabel:he},inheritAttrs:!1,props:{label:{type:String,default:"TextBox"},topLabel:{type:Boolean,default:!0},value:{type:String,default:""}},data(){return{inputTimeout:null}},methods:{onInput(e){window.clearTimeout(this.inputTimeout),this.inputTimeout=window.setTimeout(()=>{this.$emit("input",e.target.value)},300)}}},G={};var gt=a(ft,vt,mt,!1,ht,"4d2fd548",null,null);function ht(e){for(let t in G)this[t]=G[t]}var U=function(){return gt.exports}(),bt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("action-dialog",e._g(e._b({staticClass:"action-dialog-text",attrs:{title:"Text"},scopedSlots:e._u([{key:"default",fn:function(){return[n("input-text-box",{staticClass:"input",attrs:{placeholder:"Enter Text",label:null,value:e.value,rows:"10"},on:{input:e.onInput}}),n("div",{staticClass:"footer"},[n("span",[e._v("Rows: "),n("span",[e._v(e._s(e.value.split(`
`).length)+"; Count: "+e._s(e.value.length))])])])]},proxy:!0}])},"action-dialog",e.$attrs,!1),Object.assign({},e.$listeners,{input:[]})))},yt=[];const $t={components:{ActionDialog:u,InputTextBox:U},mixins:[c],inheritAttrs:!1,props:{value:{type:String,default:""}},data(){return{label:"Select align"}},methods:{onInput(e){this.$emit("input",e)}}},H={};var xt=a($t,bt,yt,!1,St,"3d038fc0",null,null);function St(e){for(let t in H)this[t]=H[t]}var X=function(){return xt.exports}(),wt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:X}),At=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("action-dialog",e._g(e._b({staticClass:"action-dialog-image",attrs:{title:"Image"},scopedSlots:e._u([{key:"default",fn:function(){return[e.previewDataUrl?n("div",{staticClass:"preview"},[n("img",{attrs:{src:e.previewDataUrl}})]):e._e(),n("input-file-select",{attrs:{label:"File"},on:{input:e.onInputFileSelect}}),n("div",{staticClass:"cols"},[n("div",[n("input-check-box",{attrs:{label:"Grayscale"},model:{value:e.model.imageOptions.grayscale,callback:function(i){e.$set(e.model.imageOptions,"grayscale",i)},expression:"model.imageOptions.grayscale"}})],1),n("div",[n("input-check-box",{attrs:{label:"Rotate"},model:{value:e.model.imageOptions.rotate,callback:function(i){e.$set(e.model.imageOptions,"rotate",i)},expression:"model.imageOptions.rotate"}})],1),n("div",[n("input-check-box",{attrs:{label:"Flip X"},model:{value:e.model.imageOptions.flipX,callback:function(i){e.$set(e.model.imageOptions,"flipX",i)},expression:"model.imageOptions.flipX"}})],1),n("div",[n("input-check-box",{attrs:{label:"Flip Y"},model:{value:e.model.imageOptions.flipY,callback:function(i){e.$set(e.model.imageOptions,"flipY",i)},expression:"model.imageOptions.flipY"}})],1)]),n("input-text-field",{attrs:{type:"number",min:"1",step:"1",label:"width",placeholder:"Size from Image (max. 384px)"},model:{value:e.model.imageOptions.width,callback:function(i){e.$set(e.model.imageOptions,"width",i)},expression:"model.imageOptions.width"}})]},proxy:!0}])},"action-dialog",e.$attrs,!1),Object.assign({},e.$listeners,{input:[]})))},It=[];const Ot={components:{ActionDialog:u,InputCheckBox:O,InputTextField:_,InputFileSelect:$e},mixins:[c],inheritAttrs:!1,props:{colors:{type:Object,default(){return{primary:[255,0,0],secondary:[0,255,0]}}},value:{type:Object,default(){return K()}}},data(){return{previewDataUrl:null,model:o({},this.value)}},watch:{model:{handler(){window.clearTimeout(this.updateTimeout),this.updateTimeout=window.setTimeout(()=>{this.render(),this.$emit("input",o({},this.model))},500)},deep:!0},colors(){this.render()}},mounted(){this.render()},methods:{onInput(e){this.$emit("input",e)},async onInputFileSelect(e){if(e){const t=await new Promise(n=>{const i=new FileReader;i.onload=l=>n(l.target.result),i.readAsDataURL(e)});this.updateCanvas(t)}else this.previewDataUrl=null},async updateCanvas(e){let t=await $(e);t=x(t,ue),this.model=v(o({},this.model),{file:S(t)}),this.render()},async render(){let e=await $(this.model.file);e=de(e,this.model.imageOptions),e=pe(e,this.colors),e=x(e,null,100),this.previewDataUrl=S(e)},async loadFromUrl(){try{await this.updateCanvas(this.url)}catch(e){console.error(e)}}}},Y={};var Tt=a(Ot,At,It,!1,Ct,"33d657f3",null,null);function Ct(e){for(let t in Y)this[t]=Y[t]}var W=function(){return Tt.exports}(),kt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:W}),Dt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("action-dialog",e._g(e._b({staticClass:"action-dialog-qr-code",attrs:{title:"QR Code"},scopedSlots:e._u([{key:"default",fn:function(){return[n("input-text-box",{attrs:{label:"Text","baseline-label":""},model:{value:e.model.text,callback:function(i){e.$set(e.model,"text",i)},expression:"model.text"}}),n("hr"),n("input-drop-down",{attrs:{options:e.errorCorrectionLevelOptions,label:"Correc. Lev."},model:{value:e.model.options.errorCorrectionLevel,callback:function(i){e.$set(e.model.options,"errorCorrectionLevel",i)},expression:"model.options.errorCorrectionLevel"}}),n("div",{staticClass:"cols"},[n("div",[n("input-text-field",{attrs:{value:e.model.options.margin,type:"number",label:"Margin",step:"1",min:"0"},on:{input:function(i){e.model.options.margin=i||0}}})],1),n("div",[n("input-text-field",{attrs:{value:e.model.options.scale,type:"number",label:"Scale",step:"1",min:"0"},on:{input:function(i){e.model.options.scale=i||0}}})],1)]),n("hr"),n("div",{staticClass:"cols"},[n("div",[n("input-check-box",{attrs:{label:"Small"},model:{value:e.model.options.small,callback:function(i){e.$set(e.model.options,"small",i)},expression:"model.options.small"}})],1),n("div",[n("input-check-box",{attrs:{label:"Rotate"},model:{value:e.model.imageOptions.rotate,callback:function(i){e.$set(e.model.imageOptions,"rotate",i)},expression:"model.imageOptions.rotate"}})],1),n("div",[n("input-check-box",{attrs:{label:"Flip X"},model:{value:e.model.imageOptions.flipX,callback:function(i){e.$set(e.model.imageOptions,"flipX",i)},expression:"model.imageOptions.flipX"}})],1),n("div",[n("input-check-box",{attrs:{label:"Flip Y"},model:{value:e.model.imageOptions.flipY,callback:function(i){e.$set(e.model.imageOptions,"flipY",i)},expression:"model.imageOptions.flipY"}})],1)]),n("input-text-field",{attrs:{type:"number",min:"1",step:"1",label:"width",placeholder:"Size from Image (max. 384px)"},model:{value:e.model.imageOptions.width,callback:function(i){e.$set(e.model.imageOptions,"width",i)},expression:"model.imageOptions.width"}})]},proxy:!0}])},"action-dialog",e.$attrs,!1),Object.assign({},e.$listeners,{input:[]})))},Et=[];const jt={components:{ActionDialog:u,InputCheckBox:O,InputDropDown:p,InputTextField:_,InputTextBox:U},mixins:[c],inheritAttrs:!1,props:{colors:{type:Object,default(){return{primary:[255,0,0],secondary:[0,255,0]}}},value:{type:Object,default(){return ee()}}},data(){return{type:"text",model:o({},this.value),errorCorrectionLevelOptions:[["Low","L"],["Medium","M"],["Quartile","Q"],["High","H"]].map(([e,t])=>new s({title:e,value:t})),typeOptions:[["Text","text"],["Url","url"]].map(([e,t])=>new s({title:e,value:t}))}},watch:{model:{handler(){window.clearTimeout(this.updateTimeout),this.updateTimeout=window.setTimeout(()=>{this.$emit("input",o({},this.model))},500)},deep:!0}}},q={};var Mt=a(jt,Dt,Et,!1,Ft,"7675c78c",null,null);function Ft(e){for(let t in q)this[t]=q[t]}var Q=function(){return Mt.exports}(),Lt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Q}),Pt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("action-dialog",e._g(e._b({staticClass:"action-dialog-feed-pitch",attrs:{title:"Feed Pitch"},scopedSlots:e._u([{key:"default",fn:function(){return[n("input-dropdown",{attrs:{label:"By",options:e.options},model:{value:e.model.type,callback:function(i){e.$set(e.model,"type",i)},expression:"model.type"}}),n("input-text-field",{attrs:{value:e.model.value,step:"1",max:"100",min:"0",type:"number",label:"Value"},on:{input:function(i){e.model.value=i||0}}})]},proxy:!0}])},"action-dialog",e.$attrs,!1),Object.assign({},e.$listeners,{input:[]})))},Rt=[];const Nt={components:{ActionDialog:u,InputDropdown:p,InputTextField:_},mixins:[c],inheritAttrs:!1,props:{value:{type:Object,default(){return{type:"font",value:0}}}},data(){return{label:"Select align",options:[["Pixel","pixel"],["Font-Size","font"]].map(([e,t])=>new s({title:e,value:t})),model:o({},this.value)}},watch:{model:{handler(){this.$emit("input",this.model)},deep:!0}}},J={};var Bt=a(Nt,Pt,Rt,!1,Vt,"20449606",null,null);function Vt(e){for(let t in J)this[t]=J[t]}var Z=function(){return Bt.exports}(),zt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Z});const Gt=()=>[new s({title:"Add new Action\u2026",value:""}),new s({title:"Set Margin",value:"setMargin"}),new s({title:"Set Font",value:"setFont"}),new s({title:"Set Align",value:"setAlign"}),new s({title:"Set Density",value:"setDensity"}),new s({title:"Set LineSpace",value:"setLineSpace"}),new s({title:"Set WordGap",value:"setWordGap"}),new s({title:"Feed Pitch",value:"feedPitch"}),new s({title:"Reset",value:"reset"}),new s({title:"Image",value:"image"}),new s({title:"QRCode",value:"qrCode"}),new s({title:"Barcode",value:"barcode"}),new s({title:"Text",value:"text"}),new s({title:"Cutline",value:"cutLine"})];console.log("DEFAULT_DENSITY",w);const Ut=e=>({setMargin:L,setAlign:E,setFont:M,setDensity:z,text:X,image:W,qrCode:Q,setLineSpace:R,setWordGap:B,feedPitch:Z})[e],Ht=e=>{let t;switch(e){case"setLineSpace":t=0;break;case"setWordGap":t=0;break;case"setMargin":t=0;break;case"setFont":t=f.SIZE_8_16_THIN_1;break;case"setAlign":t=m.LEFT;break;case"feedPitch":t={value:1,type:"font"};break;case"text":t="Text";break;case"image":t=K();break;case"qrCode":t=ee();break;case"barcode":t=qt();break}return new ve({type:e,value:t})},Xt=e=>{const t=A();return e.map(n=>Wt(n,t)).filter(Boolean)},Yt=e=>Array(_e[e]).fill("").map((t,n)=>n%2==0?"=":"-").join(""),Wt=(e,t)=>{switch(e.type){case"setMargin":t.margin=e.value;break;case"setAlign":t.align=e.value;break;case"setLineSpace":t.lineSpace=e.value;break;case"setWordGap":t.wordGap=e.value;break;case"setFont":t.font=Number(e.value);break;case"setDensity":t.density=Number(e.value);break;case"reset":Object.assign(t,A());break;case"cutLine":return{id:e.id,component:()=>r(()=>import("./TextCanvas.eb3d3eec.js"),["assets/TextCanvas.eb3d3eec.js","assets/TextCanvas.daeaf047.css","assets/index.ad057053.js","assets/index.03e47e4b.css","assets/vendor.b1428349.js","assets/devterm.a10f71a8.js"]),options:v(o({},t),{margin:0,wordGap:0,lineSpace:0,density:w}),props:{value:Yt(t.font)}};case"barcode":return{id:e.id,component:()=>r(()=>import("./BarcodeCanvas.8bad77d3.js"),["assets/BarcodeCanvas.8bad77d3.js","assets/BarcodeCanvas.bb682541.css","assets/index.ad057053.js","assets/index.03e47e4b.css","assets/vendor.b1428349.js","assets/devterm.a10f71a8.js","assets/TextCanvas.eb3d3eec.js","assets/TextCanvas.daeaf047.css","assets/View.db9df7a8.js","assets/TextButton.e8c45ec8.js","assets/TextButton.62fd88c4.css","assets/TextField.927dc3ff.js","assets/TextField.a9ee00f3.css","assets/Dialog.d28e6048.js","assets/Dialog.68b2fee9.css","assets/CheckBox.64d3b2a3.js","assets/CheckBox.82b15c7e.css","assets/FileSelect.277ad981.js","assets/FileSelect.a3ea1f4f.css"]),options:o({},t),props:o({},e)};case"qrCode":return{id:e.id,component:()=>r(()=>import("./QrCodeCanvas.10b6a2ce.js"),["assets/QrCodeCanvas.10b6a2ce.js","assets/QrCodeCanvas.75f80047.css","assets/index.ad057053.js","assets/index.03e47e4b.css","assets/vendor.b1428349.js","assets/devterm.a10f71a8.js","assets/TextCanvas.eb3d3eec.js","assets/TextCanvas.daeaf047.css","assets/View.db9df7a8.js","assets/TextButton.e8c45ec8.js","assets/TextButton.62fd88c4.css","assets/TextField.927dc3ff.js","assets/TextField.a9ee00f3.css","assets/Dialog.d28e6048.js","assets/Dialog.68b2fee9.css","assets/CheckBox.64d3b2a3.js","assets/CheckBox.82b15c7e.css","assets/FileSelect.277ad981.js","assets/FileSelect.a3ea1f4f.css"]),options:o({},t),props:o({},e)};case"image":return{id:e.id,component:()=>r(()=>import("./ImageCanvas.87863ed5.js"),["assets/ImageCanvas.87863ed5.js","assets/ImageCanvas.691ee703.css","assets/index.ad057053.js","assets/index.03e47e4b.css","assets/vendor.b1428349.js","assets/devterm.a10f71a8.js","assets/TextCanvas.eb3d3eec.js","assets/TextCanvas.daeaf047.css"]),options:o({},t),props:o({},e)};case"text":return{id:e.id,component:()=>r(()=>import("./TextCanvas.eb3d3eec.js"),["assets/TextCanvas.eb3d3eec.js","assets/TextCanvas.daeaf047.css","assets/index.ad057053.js","assets/index.03e47e4b.css","assets/vendor.b1428349.js","assets/devterm.a10f71a8.js"]),options:o({},t),props:o({},e)};case"feedPitch":return{id:e.id,component:()=>r(()=>import("./FeedPitch.e21c4054.js"),["assets/FeedPitch.e21c4054.js","assets/FeedPitch.3c536760.css","assets/index.ad057053.js","assets/index.03e47e4b.css","assets/vendor.b1428349.js","assets/devterm.a10f71a8.js"]),options:o({},t),props:o({},e.value)}}return null},K=()=>({file:null,imageOptions:{grayscale:!1,rotate:!1,flipX:!1,flipY:!1,width:null}}),ee=()=>({text:"Sample",options:{errorCorrectionLevel:"M",margin:0,scale:4,small:!1},imageOptions:{rotate:!1,flipX:!1,flipY:!1,width:null}}),qt=()=>({text:"Sample",options:{format:"",height:100,font:"monospace",textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,margin:10,displayValue:!0,flat:!1},imageOptions:{rotate:!1,flipX:!1,flipY:!1,width:null}});var Qt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M22 16v-2h-2v-2h-2v-2h-2V8h-2V6h-4v2H8v2H6v2H4v2H2v2H0v2h24v-2z"}})])},Jt={render:Qt},Zt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M22 8v2h-2v2h-2v2h-2v2h-2v2h-4v-2H8v-2H6v-2H4v-2H2V8H0V6h24v2z"}})])},Kt={render:Zt},en=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M2.1 4.9L9.2 12l-7.1 7.1 2.8 2.8 7.1-7.1 7.1 7.1 2.8-2.8-7.1-7.1 7.1-7.1-2.8-2.8L12 9.2 4.9 2.1z"}})])},tn={render:en},nn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._g({staticClass:"controls-action-item",class:{focus:e.focus||e.selected,property:e.property,"can-select":e.canSelect},attrs:{focusable:""}},e.$listeners),[n("div",{staticClass:"head"},[n("base-generic-button",{staticClass:"title",on:{click:e.onClick}},[n("span",[e._v(e._s(e.display.title)+e._s(e.display.value?":":""))]),e.display.value?n("span",[e._v(e._s(e.display.value))]):e._e()]),e.$slots.head?n("div",[e._t("head")],2):e._e()],1)])},on=[];const sn={components:{BaseGenericButton:y},props:{itemStates:{type:Object,default(){return{id:!1}}},canSelect:{type:Boolean,default:!1},id:{type:String,default:"id"},focus:{type:Boolean,default:!1},property:{type:Boolean,default:!1},display:{type:Object,default(){return{title:"Action Item",value:"Action Item Value"}}}},computed:{selected(){return this.itemStates[this.id]}},methods:{onClick(){this.canSelect&&this.$emit("select",this.id)}}},te={};var rn=a(sn,nn,on,!1,an,"4923e813",null,null);function an(e){for(let t in te)this[t]=te[t]}var ln=function(){return rn.exports}(),cn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"actions",class:{"action-active":e.selectedAction,drag:e.isDrag}},[n("div",{ref:"list",staticClass:"list"},[n("div",{on:{dragover:e.allowDrop,drop:e.onDrop}},[n("transition-group",{attrs:{name:e.isDrag?null:"flip-list",tag:"ul"}},e._l(e.model,function(i,l){return n("li",{key:i.id,attrs:{id:"anchor-action-item-"+i.id}},[e.ACTION_DEFINITIONS[i.type]?n("action-item",{attrs:{id:i.id,property:e.ACTION_DEFINITIONS[i.type].property,display:e.ACTION_DEFINITIONS[i.type].display(i.value),"can-select":!!e.ACTION_DIALOGS[i.type],"item-states":e.itemStates,"data-id":i.id,draggable:!e.itemStates[i.id],focus:e.dragTargetId===i.id&&i.id!==e.dragId},on:{select:function(d){return e.onSelectAction(i.id)},dragstart:e.onDragStart},scopedSlots:e._u([{key:"head",fn:function(){return[n("div",{staticClass:"action-controls"},[n("span",{staticClass:"index"},[e._v(e._s(l+1))]),n("input-icon-button",{on:{click:function(d){return e.onClickActionUp(l)}}},[n("svg-icon-arrow-up")],1),n("input-icon-button",{on:{click:function(d){return e.onClickActionDown(l)}}},[n("svg-icon-arrow-down")],1),n("input-icon-button",{on:{click:function(d){return e.onClickActionDelete(l)}}},[n("svg-icon-trash")],1)],1)]},proxy:!0}],null,!0)}):n("span",[e._v(" Action "+e._s(i.type)+" not defined\u2026 ")])],1)}),0)],1)]),n("div",{staticClass:"add-action"},[n("input-drop-down",{attrs:{options:e.actionTypeOptions,label:null},model:{value:e.createAction,callback:function(i){e.createAction=i},expression:"createAction"}})],1),e.selectedAction?n(e.dialogComponent,{ref:"dialog",tag:"component",attrs:{colors:e.colors,value:e.selectedAction.value},on:{input:function(i){return e.updateAction(e.selectedAction,i)},ready:e.onReadyDialog,close:e.onCloseDialog}}):e._e()],1)},un=[];const dn={components:{SvgIconArrowUp:Jt,SvgIconArrowDown:Kt,SvgIconTrash:tn,InputIconButton:C,InputDropDown:p,ActionItem:ln},props:{value:{type:Array,default(){return[]}},colors:{type:Object,default(){return{}}}},data(){return{ACTION_DEFINITIONS:me,ACTION_DIALOGS:g,getComponentByType:Ut,selectedActionId:null,createAction:null,actionTypeOptions:Gt(),itemStates:{},isDrag:!1,dragId:null,dragTargetId:null,model:[...this.value]}},computed:{selectedAction(){return this.model.find(e=>e.id===this.selectedActionId)},dialogComponent(){return this.selectedAction&&g[this.selectedAction.type]}},watch:{value(e){this.model=[...e]},model:{handler(e){this.itemStates=Object.fromEntries(e.map(({id:t})=>[t,!1]))},immediate:!0},selectedAction(e,t){const n=o({},this.itemStates);t&&(n[t.id]=!1),e&&(n[e.id]=!0),this.itemStates=n,this.$emit("selectAction",e)},createAction(e){if(e){const t=Ht(e);this.updateModel([].concat(this.model,t)),this.$nextTick(()=>{this.createAction="",this.selectedActionId=null;const n=this.$refs.list.querySelector(`#anchor-action-item-${t.id}`);n&&n.scrollIntoView({block:"center"}),!!g[t.type]&&window.setTimeout(()=>{this.selectedActionId=t.id},600)})}}},mounted(){this.subscriptions=[fe(window,"dragenter").subscribe(e=>{if(e.target.closest("li [data-id]")){const t=e.target.closest("li [data-id]");this.dragTargetId=t.dataset.id}})]},destroyed(){this.subscriptions.forEach(e=>e.unsubscribe())},methods:{onReadyDialog(){this.$nextTick(()=>{this.$refs.dialog.show()})},onCloseDialog(){this.selectedActionId=null},onSelectAction(e){e?this.selectedActionId=e:this.selectedActionId=null},updateModel(e){this.model=[...e],this.$emit("input",[...e])},updateAction(e,t){const n=this.model,i=n.indexOf(e);n[i]=v(o({},n[i]),{value:t}),this.updateModel(n)},onClickActionDelete(e){const t=[].concat(this.model);this.updateModel([...t.slice(0,e||0),...t.slice(e+1)])},onClickActionUp(e){const t=[].concat(this.model),n=t[Math.max(e-1,0)];t[Math.max(e-1,0)]=t[e],t[e]=n,this.updateModel(t)},onClickActionDown(e){const t=[].concat(this.model),n=this.model[Math.min(e+1,t.length-1)];t[Math.min(e+1,t.length-1)]=t[e],t[e]=n,this.updateModel(t)},onDragStart(e){window.setTimeout(()=>{this.dragId=e.target.dataset.id,this.isDrag=!0},100)},onDrop(e){let t=[].concat(this.model);const n=t.indexOf(t.find(d=>d.id===this.dragTargetId)),i=t.indexOf(t.find(d=>d.id===this.dragId)),l=t.splice(i,1);i>n?t=[...t.slice(0,n+1),...l,...t.slice(n+1)]:t=[...t.slice(0,n),...l,...t.slice(n)],this.dragId=null,this.dragTargetId=null,this.isDrag=!1,this.updateModel(t)},allowDrop(e){e.preventDefault()}}},ne={};var pn=a(dn,cn,un,!1,_n,"7df5142f",null,null);function _n(e){for(let t in ne)this[t]=ne[t]}var vn=function(){return pn.exports}(),mn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("app-view",{staticClass:"view-printer",style:e.style},[n("div",{key:JSON.stringify(e.colors),staticClass:"printer-preview"},[n("div",[n("div",{class:{"has-selected":e.selectedAction}},e._l(e.previewItems,function(i,l){return n("div",{key:l,class:{selected:e.selectedAction&&e.selectedAction.id===i.id},attrs:{id:"anchor-action-"+i.id}},[n(i.component,e._b({key:JSON.stringify(i.options),tag:"component",attrs:{options:i.options,colors:e.colors}},"component",i.props,!1))],1)}),0)]),n("input-text-button",{staticClass:"print-button",attrs:{color:"primary"},on:{click:e.onClickPrint}},[e._v(" Print ")]),n("transition",{attrs:{name:"fade"}},[e.loading?n("div",{staticClass:"layer-loading"},[e._v(" Loading ")]):e._e()])],1),n("actions",{staticClass:"printer-actions",attrs:{colors:e.colors},on:{selectAction:function(i){e.selectedAction=i}},model:{value:e.actions,callback:function(i){e.actions=i},expression:"actions"}}),e.actions.length<1?n("div",{staticClass:"actions-empty"},[e._v(" Add a Action! ")]):e._e()],1)},fn=[];const gn={components:{AppView:ce,InputIconButton:C,InputTextButton:I,InputDropDown:p,Actions:vn},props:{colors:{type:Object,default(){return{primary:[255,204,0],secondary:[0,0,0],printer:{preview:{background:[0,0,0],foreground:[255,204,0]}}}}},value:{type:Array,default(){return[]}}},data(){return{actions:[].concat(this.value),previewItems:[],loading:!0,selectedAction:null}},computed:{style(){return{"--color-printer-preview-background":`rgb(${this.colors.printer.preview.background.join(",")})`,"--color-printer-preview-foreground":`rgb(${this.colors.printer.preview.foreground.join(",")})`}}},watch:{value(e){this.actions=e},actions(){this.render(),this.$emit("input",this.actions)},selectedAction(e){if(e){const t=document.querySelector(`#anchor-action-${e.id}`);this.$nextTick(()=>{window.requestAnimationFrame(()=>{t&&t.scrollIntoView({block:"center",behavior:"smooth"})})})}}},mounted(){this.render(),this.subscriptions=[ge.pipe(ye(({key:e})=>e==="PrintScreen")).subscribe(()=>this.print())]},destroyed(){this.subscriptions.forEach(e=>e.unsubscribe())},methods:{render(){this.actions.length?(this.loading=!0,window.clearTimeout(this.renderTimeout),this.renderTimeout=window.setTimeout(async()=>{this.previewItems=await Xt(this.actions),console.log(this.actions,this.previewItems,this.previewItems.find(e=>!e)),this.$nextTick(()=>{this.loading=!1})},500)):this.previewItems=[]},print(){return this.$client.executeActions(this.actions)},onClickPrint(){this.print()}}},ie={};var hn=a(gn,mn,fn,!1,bn,"7b7ee105",null,null);function bn(e){for(let t in ie)this[t]=ie[t]}var yn=function(){return hn.exports}(),Cn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:yn});export{u as A,U as I,Cn as P,ee as a,qt as g};
